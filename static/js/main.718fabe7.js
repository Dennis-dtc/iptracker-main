/*! For license information please see main.718fabe7.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var L=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},z=[],F=-1;function j(e){return{current:e}}function U(e){0>F||(e.current=z[F],z[F]=null,F--)}function B(e,t){F++,z[F]=e.current,e.current=t}var V=j(null),q=j(null),W=j(null),H=j(null);function K(e,t){switch(B(W,t),B(q,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),B(V,e)}function G(){U(V),U(q),U(W)}function Z(e){null!==e.memoizedState&&B(H,e);var t=V.current,n=oh(t,e.type);t!==n&&(B(q,e),B(V,n))}function Q(e){q.current===e&&(U(V),U(q)),H.current===e&&(U(H),Zh._currentValue=D)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=ye(r):0!==(s&=a)?i=ye(s):n||0!==(n=a&~e)&&(i=ye(n)):0!==(a=r&~o)?i=ye(a):0!==s?i=ye(s):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function xe(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Ne=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ne,Le="__reactProps$"+Ne,Oe="__reactContainer$"+Ne,Me="__reactEvents$"+Ne,De="__reactListeners$"+Ne,ze="__reactHandles$"+Ne,Fe="__reactResources$"+Ne,je="__reactMarker$"+Ne;function Ue(e){delete e[Re],delete e[Le],delete e[Me],delete e[De],delete e[ze]}function Be(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_h(e);null!==e;){if(n=e[Re])return n;e=_h(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Re]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function We(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[je]=!0}var Ke=new Set,Ge={};function Ze(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call($e,i)&&(Je.test(i)?et[i]=!0:($e[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(L(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Lt=null;function Ot(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Le]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Mt=!1;function Dt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Rt||null!==Lt)&&(Bc(),Rt&&(t=Rt,e=Lt,Lt=Rt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),jt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ld){jt=!1}var Bt=null,Vt=null,qt=null;function Wt(){if(qt)return qt;var e,t,n=Vt,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Zt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Zt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Zt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Zt(nn),on=Zt(d({},nn,{dataTransfer:0})),sn=Zt(d({},en,{relatedTarget:0})),an=Zt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Zt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Zt(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Zt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Zt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Zt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Zt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Zt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Zt(d({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,xn=null;Ft&&"documentMode"in document&&(xn=document.documentMode);var kn=Ft&&"TextEvent"in window&&!xn,Cn=Ft&&(!Sn||xn&&8<xn&&11>=xn),Tn=String.fromCharCode(32),En=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Ln(e,t,n,r){Rt?Lt?Lt.push(r):Lt=[r]:Rt=r,0<(t=Wu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Mn=null;function Dn(e){Du(e,0)}function zn(e){if(dt(qe(e)))return e}function Fn(e,t){if("change"===e)return t}var jn=!1;if(Ft){var Un;if(Ft){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"===typeof Vn.oninput}Un=Bn}else Un=!1;jn=Un&&(!document.documentMode||9<document.documentMode)}function qn(){On&&(On.detachEvent("onpropertychange",Wn),Mn=On=null)}function Wn(e){if("value"===e.propertyName&&zn(Mn)){var t=[];Ln(t,Mn,e,Nt(e)),Dt(Dn,t)}}function Hn(e,t,n){"focusin"===e?(qn(),Mn=n,(On=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Mn)}function Gn(e,t){if("click"===e)return zn(t)}function Zn(e,t){if("input"===e||"change"===e)return zn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=Wu(ir,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),vr=dr("transitionstart"),yr=dr("transitioncancel"),_r=dr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){br.set(e,t),Ze(t,[e])}wr.push("scrollEnd");var xr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Tr=0,Er=0;function Ir(){for(var e=Tr,t=Er=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var o=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Rr(n,i,o)}}function Pr(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Pr(e,t,n,r),Lr(e)}function Nr(e,t){return Pr(e,null,null,t),Lr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Lr(e){if(50<Rc)throw Rc=0,Lc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Mr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)zr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Dr(31,n,t,i)).elementType=E,e.lanes=o,e;case g:return Br(n.children,i,o,t);case v:a=8,i|=24;break;case y:return(e=Dr(12,n,t,2|i)).elementType=y,e.lanes=o,e;case x:return(e=Dr(13,n,t,i)).elementType=x,e.lanes=o,e;case k:return(e=Dr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:case w:a=10;break e;case b:a=9;break e;case S:a=11;break e;case C:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,Kr=null,Gr=0,Zr=[],Qr=0,Yr=null,Xr=1,Jr="";function $r(e,t){Wr[Hr++]=Gr,Wr[Hr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){Zr[Qr++]=Xr,Zr[Qr++]=Jr,Zr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-fe(t)+i|n<<i|r,Jr=o+e}else Xr=1<<o|n<<i|r,Jr=e}function ti(e){null!==e.return&&($r(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Wr[--Hr],Wr[Hr]=null,Gr=Wr[--Hr],Wr[Hr]=null;for(;e===Yr;)Yr=Zr[--Qr],Zr[Qr]=null,Jr=Zr[--Qr],Zr[Qr]=null,Xr=Zr[--Qr],Zr[Qr]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ci(e){throw mi(kr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[Le]=r,n){case"dialog":zu("cancel",t),zu("close",t);break;case"iframe":case"object":case"embed":zu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)zu(Ou[n],t);break;case"source":zu("error",t);break;case"img":case"image":case"link":zu("error",t),zu("load",t);break;case"details":zu("toggle",t);break;case"input":zu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":zu("invalid",t);break;case"textarea":zu("invalid",t),wt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(zu("beforetoggle",t),zu("toggle",t)),null!=r.onScroll&&zu("scroll",t),null!=r.onScrollEnd&&zu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!oi)return hi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sh(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fh(e.type)?(e=yh,yh=null,ii=e):ii=n):ii=ri?vh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,oi=!1}function pi(){var e=si;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=j(null),vi=null,yi=null;function _i(e,t,n){B(gi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=gi.current,U(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wi(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),wi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function xi(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Zh):e=[Zh])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ii(vi,e)}function Ei(e,t){return null===vi&&Ci(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(s(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Pi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=r.unstable_scheduleCallback,Ni=r.unstable_NormalPriority,Ri={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Li(){return{controller:new Pi,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Ai(Ni,function(){e.controller.abort()})}var Mi=null,Di=0,zi=0,Fi=null;function ji(){if(0===--Di&&null!==Mi){null!==Fi&&(Fi.status="fulfilled");var e=Mi;Mi=null,zi=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Di=0,zi=Pu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Di++,t.then(ji,ji)}(0,t),null!==Ui&&Ui(e,t)};var Bi=j(null);function Vi(){var e=Bi.current;return null!==e?e:rc.pooledCache}function qi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Wi(){var e=Vi();return null===e?null:{parent:Ri._currentValue,pool:e}}var Hi=Error(s(460)),Ki=Error(s(474)),Gi=Error(s(542)),Zi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function $i(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function eo(e){if(e===Hi||e===Gi)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Rr(e,null,n),t}return Pr(e,r,t,n),Lr(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Fi)throw Fi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===zi&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(v,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:to=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=h}}function ho(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var po=j(null),mo=j(0);function go(e,t){B(mo,e=hc),B(po,t),hc=e|t.baseLanes}function vo(){B(mo,hc),B(po,po.current)}function yo(){hc=mo.current,U(po),U(mo)}var _o=0,bo=null,wo=null,So=null,xo=!1,ko=!1,Co=!1,To=0,Eo=0,Io=null,Po=0;function Ao(){throw Error(s(321))}function No(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ro(e,t,n,r,i,o){return _o=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Ks:Gs,Co=!1,o=n(r,i),Co=!1,ko&&(o=Oo(t,n,r,i)),Lo(e),o}function Lo(e){O.H=Hs;var t=null!==wo&&null!==wo.next;if(_o=0,So=wo=bo=null,xo=!1,Eo=0,Io=null,t)throw Error(s(300));null===e||Ea||null!==(e=e.dependencies)&&ki(e)&&(Ea=!0)}function Oo(e,t,n,r){bo=e;var i=0;do{if(ko&&(Io=null),Eo=0,ko=!1,25<=i)throw Error(s(301));if(i+=1,So=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Zs,o=t(n,r)}while(ko);return o}function Mo(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(bo.flags|=1024),t}function Do(){var e=0!==To;return To=0,e}function zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(xo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xo=!1}_o=0,So=wo=bo=null,ko=!1,Eo=To=0,Io=null}function jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?bo.memoizedState=So=e:So=So.next=e,So}function Uo(){if(null===wo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===So?bo.memoizedState:So.next;if(null!==t)So=t,wo=e;else{if(null===e){if(null===bo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===So?bo.memoizedState=So=e:So=So.next=e}return So}function Bo(e){var t=Eo;return Eo+=1,null===Io&&(Io=[]),e=Xi(Io,e,t),t=bo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Ks:Gs),e}function Vo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===w)return Ti(e)}throw Error(s(438,String(e)))}function qo(e){var t=null,n=bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return Ko(Uo(),wo,e)}function Ko(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(_o&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===zi&&(h=!0);else{if((_o&f)===f){u=u.next,f===zi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=o):c=c.next=d,bo.lanes|=f,fc|=f}d=u.action,Co&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,bo.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Qn(o,e.memoizedState)&&(Ea=!0,h&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Go(e){var t=Uo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Qn(o,t.memoizedState)||(Ea=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Zo(e,t,n){var r=bo,i=Uo(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Qn((wo||i).memoizedState,n);if(a&&(i.memoizedState=n,Ea=!0),i=i.queue,vs(2048,8,Xo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));o||0!==(124&_o)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&$o(e)}function Xo(e,t,n){return n(function(){Jo(t)&&$o(e)})}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function $o(e){var t=Nr(e,2);null!==t&&Dc(t,e,2)}function es(e){var t=jo();if("function"===typeof e){var n=e;if(e=n(),Co){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Ko(e,wo,"function"===typeof r?r:Wo)}function ns(e,t,n,r,i){if(Vs(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=O.T,s={};O.T=s;try{var a=n(i,r),l=O.S;null!==l&&l(s,a),is(e,t,a)}catch(c){ss(e,t,c)}finally{O.T=o}}else try{is(e,t,o=n(i,r))}catch(u){ss(e,t,u)}}function is(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){os(e,t,n)},function(n){return ss(e,t,n)}):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=bo;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=vh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=jo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=js.bind(null,bo,r),r.dispatch=n,r=es(!1),o=Bs.bind(null,bo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=jo()).queue=i,n=ns.bind(null,bo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return hs(Uo(),wo,e)}function hs(e,t,n){if(t=Ko(e,t,ls)[0],e=Ho(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(s){if(s===Hi)throw Gi;throw s}else r=t;var i=(t=Uo()).queue,o=i.dispatch;return n!==t.memoizedState&&(bo.flags|=2048,ps(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,o,e]}function ds(e,t){e.action=t}function fs(e){var t=Uo(),n=wo;if(null!==n)return hs(t,n,e);Uo(),t=t.memoizedState;var r=(n=Uo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Uo().memoizedState}function gs(e,t,n,r){var i=jo();r=void 0===r?null:r,bo.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function vs(e,t,n,r){var i=Uo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==wo&&null!==r&&No(r,wo.memoizedState.deps)?i.memoizedState=ps(t,o,n,r):(bo.flags|=e,i.memoizedState=ps(1|t,o,n,r))}function ys(e,t){gs(8390656,8,e,t)}function _s(e,t){vs(2048,8,e,t)}function bs(e,t){return vs(4,2,e,t)}function ws(e,t){return vs(4,4,e,t)}function Ss(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4,4,Ss.bind(null,t,e),n)}function ks(){}function Cs(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&No(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&No(t,r[1]))return r[0];if(r=e(),Co){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Es(e,t,n){return void 0===n||0!==(1073741824&_o)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),bo.lanes|=e,fc|=e,n)}function Is(e,t,n,r){return Qn(n,t)?n:null!==po.current?(e=Es(e,n,r),Qn(e,t)||(Ea=!0),e):0===(42&_o)?(Ea=!0,e.memoizedState=n):(e=Mc(),bo.lanes|=e,fc|=e,t)}function Ps(e,t,n,r,i){var o=M.p;M.p=0!==o&&8>o?o:8;var s=O.T,a={};O.T=a,Bs(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Oc());else Us(e,t,r,Oc())}catch(u){Us(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{M.p=o,O.T=s}}function As(){}function Ns(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Rs(e).queue;Ps(e,i,t,D,null===n?As:function(){return Ls(e),n(r)})}function Rs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ls(e){Us(e,Rs(e).next.queue,{},Oc())}function Os(){return Ti(Zh)}function Ms(){return Uo().memoizedState}function Ds(){return Uo().memoizedState}function zs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=oo(t,e=io(n),n);return null!==r&&(Dc(r,t,n),so(r,t,n)),t={cache:Li()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)?qs(t,n):null!==(n=Ar(e,t,n,r))&&(Dc(n,e,r),Ws(n,t,r))}function js(e,t,n){Us(e,t,n,Oc())}function Us(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,s))return Pr(e,t,i,0),null===rc&&Ir(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Dc(n,e,r),Ws(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&Dc(t,e,2)}function Vs(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function qs(e,t){ko=xo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Hs={readContext:Ti,use:Vo,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useLayoutEffect:Ao,useInsertionEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useSyncExternalStore:Ao,useId:Ao,useHostTransitionStatus:Ao,useFormState:Ao,useActionState:Ao,useOptimistic:Ao,useMemoCache:Ao,useCacheRefresh:Ao},Ks={readContext:Ti,use:Vo,useCallback:function(e,t){return jo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=jo();t=void 0===t?null:t;var r=e();if(Co){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=jo();if(void 0!==n){var i=n(t);if(Co){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fs.bind(null,bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},jo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=js.bind(null,bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Es(jo(),e,t)},useTransition:function(){var e=es(!1);return e=Ps.bind(null,bo,e.queue,!0,!1),jo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bo,i=jo();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&oc)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ys(Xo.bind(null,r,o,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,o,n,t),null),n},useId:function(){var e=jo(),t=rc.identifierPrefix;if(oi){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Po++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Os,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=jo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return jo().memoizedState=zs.bind(null,bo)}},Gs={readContext:Ti,use:Vo,useCallback:Cs,useContext:Ti,useEffect:_s,useImperativeHandle:xs,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:Ho,useRef:ms,useState:function(){return Ho(Wo)},useDebugValue:ks,useDeferredValue:function(e,t){return Is(Uo(),wo.memoizedState,e,t)},useTransition:function(){var e=Ho(Wo)[0],t=Uo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Zo,useId:Ms,useHostTransitionStatus:Os,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Uo(),0,e,t)},useMemoCache:qo,useCacheRefresh:Ds},Zs={readContext:Ti,use:Vo,useCallback:Cs,useContext:Ti,useEffect:_s,useImperativeHandle:xs,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:Go,useRef:ms,useState:function(){return Go(Wo)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Uo();return null===wo?Es(n,e,t):Is(n,wo.memoizedState,e,t)},useTransition:function(){var e=Go(Wo)[0],t=Uo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Zo,useId:Ms,useHostTransitionStatus:Os,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Uo();return null!==wo?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qo,useCacheRefresh:Ds},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Xi(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $s(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&ea(o)===t.type)?(Js(t=i(t,n.props),n),t.return=e,t):(Js(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Js(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(L(t)||A(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Xs(t),n);if(t.$$typeof===w)return d(e,Ei(e,t),n);$s(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(L(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xs(n),r);if(n.$$typeof===w)return f(e,t,Ei(e,n),r);$s(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(L(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Xs(r),i);if(r.$$typeof===w)return v(e,t,n,Ei(t,r),i);$s(t,r)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===T&&ea(_)===c.type){n(l,c.sibling),Js(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=Br(u.props.children,l.mode,h,u.key)).return=l,l=h):(Js(h=Ur(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case m:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=qr(u,l.mode,h)).return=l,l=h}return a(l);case T:return y(l,c,u=(_=u._init)(u._payload),h)}if(L(u))return function(i,s,a,l){for(var c=null,u=null,h=s,p=s=0,m=null;null!==h&&p<a.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,a[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g,h=m}if(p===a.length)return n(i,h),oi&&$r(i,p),c;if(null===h){for(;p<a.length;p++)null!==(h=d(i,a[p],l))&&(s=o(h,s,p),null===u?c=h:u.sibling=h,u=h);return oi&&$r(i,p),c}for(h=r(h);p<a.length;p++)null!==(m=v(h,i,p,a[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),s=o(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),oi&&$r(i,p),c}(l,c,u,h);if(A(u)){if("function"!==typeof(_=A(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,h=null,p=a,m=a=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var _=f(i,p,y.value,c);if(null===_){null===p&&(p=g);break}e&&p&&null===_.alternate&&t(i,p),a=o(_,a,m),null===h?u=_:h.sibling=_,h=_,p=g}if(y.done)return n(i,p),oi&&$r(i,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return oi&&$r(i,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,i,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&p.forEach(function(e){return t(i,e)}),oi&&$r(i,m),u}(l,c,u=_.call(u),h)}if("function"===typeof u.then)return y(l,c,Xs(u),h);if(u.$$typeof===w)return y(l,c,Ei(l,u),h);$s(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Vr(u,l.mode,h)).return=l,l=h),a(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var i=y(e,t,n,r);return Qs=null,i}catch(s){if(s===Hi||s===Gi)throw s;var o=Dr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),ia=j(null),oa=null;function sa(e){var t=e.alternate;B(ua,1&ua.current),B(ia,e),null===oa&&(null===t||null!==po.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(B(ua,ua.current),B(ia,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){B(ua,ua.current),B(ia,ia.current)}function ca(e){U(ia),oa===e&&(oa=null),U(ua)}var ua=j(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Dc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Dc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Dc(t,e,n),so(t,e,n))}};function pa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){va(e)}function _a(e){console.error(e)}function ba(e){va(e)}function wa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xa(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){wa(e,t)},n}function ka(e){return(e=io(e)).tag=3,e}function Ca(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Sa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Sa(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ta=Error(s(461)),Ea=!1;function Ia(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Pa(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ci(t),r=Ro(e,t,n,s,o,i),a=Do(),null===e||Ea?(oi&&a&&ti(t),t.flags|=1,Ia(e,t,r,i),t.child):(zo(e,t,i),Qa(e,t,i))}function Aa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Na(e,t,o,r,i))}if(o=e.child,!Ya(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Ea=!1,t.pendingProps=r=o,!Ya(e,i))return t.lanes=e.lanes,Qa(e,t,i);0!==(131072&e.flags)&&(Ea=!0)}}return Ma(e,t,n,r,i)}function Ra(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return La(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,La(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==o?o.cachePool:null),null!==o?go(t,o):vo(),aa(t)}else null!==o?(qi(0,o.cachePool),go(t,o),la(),t.memoizedState=null):(null!==e&&qi(0,null),vo(),la());return Ia(e,t,i,n),t.child}function La(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Ri._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),vo(),aa(t),null!==e&&xi(e,t,r,!0),null}function Oa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ma(e,t,n,r,i){return Ci(t),n=Ro(e,t,n,r,void 0,i),r=Do(),null===e||Ea?(oi&&r&&ti(t),t.flags|=1,Ia(e,t,n,i),t.child):(zo(e,t,i),Qa(e,t,i))}function Da(e,t,n,r,i,o){return Ci(t),t.updateQueue=null,n=Oo(t,r,n,i),Lo(e),r=Do(),null===e||Ea?(oi&&r&&ti(t),t.flags|=1,Ia(e,t,n,o),t.child):(zo(e,t,o),Qa(e,t,o))}function za(e,t,n,r,i){if(Ci(t),null===t.stateNode){var o=Or,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ti(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ti(s):Or,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(da(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&fa.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ga(n,a);o.props=l;var c=o.context,u=n.contextType;s=Or,"object"===typeof u&&null!==u&&(s=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,r,s),to=!1;var d=t.memoizedState;o.state=d,uo(t,r,o,i),co(),c=t.memoizedState,a||d!==c||to?("function"===typeof h&&(da(t,n,h,r),c=t.memoizedState),(l=to||pa(t,n,l,r,d,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ga(n,s=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&ma(t,o,r,l),to=!1,d=t.memoizedState,o.state=d,uo(t,r,o,i),co();var f=t.memoizedState;s!==h||d!==f||to||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof a&&(da(t,n,a,r),f=t.memoizedState),(u=to||pa(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Oa(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Ia(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Qa(e,t,i),e}function Fa(e,t,n,r){return fi(),t.flags|=256,Ia(e,t,n,r),t.child}var ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ua(e){return{baseLanes:e,cachePool:Wi()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Va(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?sa(t):la(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Dr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,o?(la(),c=Wa({mode:"hidden",children:c},o=t.mode),i=Br(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Ua(n),o.childLanes=Ba(e,r,n),t.memoizedState=ja,i):(sa(t),qa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=i.fallback,c=t.mode,i=Wa({mode:"visible",children:i.children},c),(o=Br(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=Ua(n),i.childLanes=Ba(e,r,n),t.memoizedState=ja,t=o);else if(sa(t),gh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ha(e,t,n)}else if(Ea||xi(e,t,n,!1),r=0!==(n&e.childLanes),Ea||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Nr(e,i),Dc(r,e,i),Ta;"$?"===c.data||Gc(),t=Ha(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vh(c.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Zr[Qr++]=Xr,Zr[Qr++]=Jr,Zr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=qa(t,i.children)).flags|=4096);return t}return o?(la(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Ua(n):(null!==(l=c.cachePool)?(u=Ri._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Ba(e,r,n),t.memoizedState=ja,i):(sa(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Wa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wa(e,t){return(e=Dr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Ga(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ia(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ea=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Ea=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),_i(0,Ri,e.memoizedState.cache),fi();break;case 27:case 5:Z(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(sa(t),null!==(e=Qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(xi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,n);case 24:_i(0,Ri,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);Ea=0!==(131072&e.flags)}else Ea=!1,oi&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Pa(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Aa(null,t,r,e,n);break e}}throw t=R(r)||r,Error(s(306,t,""))}zr(r)?(e=ga(r,e),t.tag=1,t=za(null,t,r,e,n)):(t.tag=0,t=Ma(null,t,r,e,n))}return t;case 0:return Ma(e,t,t.type,t.pendingProps,n);case 1:return za(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,_i(0,Ri,r),r!==o.cache&&Si(t,[Ri],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fa(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(s(424)),t)),t=Fa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vh(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qa(e,t,n);break e}Ia(e,t,r,n)}t=t.child}return t;case 26:return Oa(e,t),null===e?(n=Ih(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rh(W.current).createElement(n))[Re]=t,r[Le]=e,eh(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ih(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Z(t),null===e&&oi&&(r=t.stateNode=bh(t.type,t.pendingProps,W.current),ri=t,ai=!0,i=ii,fh(t.type)?(yh=i,ii=vh(r.firstChild)):ii=i),Ia(e,t,t.pendingProps.children,n),Oa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=vh(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),Z(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,sh(i,o)?r=null:null!==a&&sh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Ro(e,t,Mo,null,null,n),Zh._currentValue=i),Oa(e,t),Ia(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Va(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return Pa(e,t,t.type,t.pendingProps,n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Ia(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=Ti(i)),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return Aa(e,t,t.type,t.pendingProps,n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 19:return Za(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ra(e,t,n);case 24:return Ci(t),r=Ti(Ri),null===e?(null===(i=Vi())&&(i=rc,o=Li(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),_i(0,Ri,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Ri,r)):(r=o.cache,_i(0,Ri,r),r!==i.cache&&Si(t,[Ri],n,!0))),Ia(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ja(e){e.flags|=4}function $a(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t)){if(null!==(t=ia.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Ji=Zi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Ri),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),$a(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),$a(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=W.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=V.current,di(t)?ui(t):(e=bh(i,r,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=V.current,di(t))ui(t);else{switch(i=rh(W.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Re]=t,e[Le]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=W.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Re]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Re]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return bi(t.type),nl(t),null;case 19:if(U(ua),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ha(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)jr(n,e),n=n.sibling;return B(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ha(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,B(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),yo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Ri),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Ri),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ua),null;case 4:return G(),null;case 10:return bi(t.type),null;case 22:case 23:return ca(t),yo(),null!==e&&U(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Ri),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:bi(Ri),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:ca(t);break;case 19:U(ua);break;case 10:bi(t.type);break;case 22:case 23:ca(t),yo(),null!==e&&U(Bi);break;case 24:bi(Ri)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fo(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==d&&Ju(e,t,f,p,r,d)}}return void gt(e,a,l,c,u,h,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Ju(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Ju(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?_t(e,!!n,f,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Ju(e,t,a,i,r,o)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&$u(e,t,v,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||$u(e,t,h,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Ju(e,t,y,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Ju(e,t,d,f,r,p)}(r,e.type,n,t),r[Le]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Re]=e,t[Le]=n}catch(o){uu(e,e.return,o)}}var _l=!1,bl=!1,wl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,xl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),4&r&&sl(5,n);break;case 1:if(zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fo(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:zl(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:zl(e,n);break;case 13:zl(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||bl,i=_l;var o=bl;_l=r,(bl=t)&&!o?jl(e,n,0!==(8772&n.subtreeFlags)):zl(e,n),_l=i,bl=o}break;case 30:break;default:zl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,El=!1;function Il(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:bl||hl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||hl(n,t);var r=Tl,i=El;fh(n.type)&&(Tl=n.stateNode,El=!1),Il(e,t,n),wh(n.stateNode),Tl=r,El=i;break;case 5:bl||hl(n,t);case 6:if(r=Tl,i=El,Tl=null,Il(e,t,n),El=i,null!==(Tl=r))if(El)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Tl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Tl&&(El?(ph(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ed(e)):ph(Tl,n.stateNode));break;case 4:r=Tl,i=El,Tl=n.stateNode.containerInfo,El=!0,Il(e,t,n),Tl=r,El=i;break;case 0:case 11:case 14:case 15:bl||al(2,n,t),bl||al(4,n,t),Il(e,t,n);break;case 1:bl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Il(e,t,n),bl=r;break;default:Il(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ed(e)}catch(n){uu(t,t.return,n)}}function Nl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){Tl=l.stateNode,El=!1;break e}break;case 5:Tl=l.stateNode,El=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Tl)throw Error(s(160));Pl(o,a,i),Tl=null,El=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Ll=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ml(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Rl(t,e),Ml(e),512&r&&(bl||null===n||hl(n,n.return)),64&r&&_l&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ll;if(Rl(t,e),Ml(e),512&r&&(bl||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[je]||o[Re]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),eh(o,r,n),o[Re]=e,He(o),r=o;break e;case"link":var a=jh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=jh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Re]=e,He(o),r=o}e.stateNode=r}else Uh(i,e.type,e.stateNode);else e.stateNode=Oh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Uh(i,e.type,e.stateNode):Oh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Ml(e),512&r&&(bl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Ml(e),512&r&&(bl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Rl(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fh=null,i=Ll,Ll=kh(t.containerInfo),Rl(t,e),Ll=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ed(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Dl(e));break;case 4:r=Ll,Ll=kh(e.stateNode.containerInfo),Rl(t,e),Ml(e),Ll=r;break;case 12:default:Rl(t,e),Ml(e);break;case 13:Rl(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_l,h=bl;if(_l=u||i,bl=h||c,Rl(t,e),bl=h,_l=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||_l||bl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Nl(e,n))));break;case 19:Rl(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wh(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:jl(i,o,n),sl(4,o);break;case 1:if(jl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],a)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:yl(o);case 26:case 5:jl(i,o,n),n&&null===r&&4&s&&dl(o),ul(o,o.return);break;case 12:jl(i,o,n);break;case 13:jl(i,o,n),n&&4&s&&Al(i,o);break;case 22:null===o.memoizedState&&jl(i,o,n),ul(o,o.return);break;case 30:break;default:jl(i,o,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Vl(e,t,n,r):Hl(e,t):2&o._visibility?Vl(e,t,n,r):(o._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(s,t);break;case 24:Vl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(o,s,a,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Wl(o,s,a,l,i):Hl(o,s):(u._visibility|=2,Wl(o,s,a,l,i)),i&&2048&c&&Ul(s.alternate,s);break;case 24:Wl(o,s,a,l,i),i&&2048&c&&Bl(s.alternate,s);break;default:Wl(o,s,a,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Hl(n,r),2048&i&&Bl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vh)throw Error(s(475));var r=Vh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ph(n.href),o=e.querySelector(Ah(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Nh(n),(i=Sh.get(i))&&Dh(n,i),He(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),eh(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ll,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ll;Ll=kh(e.stateNode.containerInfo),Gl(e),Ll=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,$l(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,$l(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function $l(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var i=(r=xl).sibling,o=r.return;if(Cl(r),r===n){xl=null;break e}if(null!==i){i.return=o,xl=i;break e}xl=o}}}var ec={getCacheForType:function(e){var t=Ti(Ri),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=null,_c=null,bc=!1,wc=0,Sc=1/0,xc=null,kc=null,Cc=0,Tc=null,Ec=null,Ic=0,Pc=0,Ac=null,Nc=null,Rc=0,Lc=null;function Oc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==O.T){return 0!==zi?zi:Pu()}return Ae()}function Mc(){0===gc&&(gc=0===(536870912&oc)||oi?Se():536870912);var e=ia.current;return null!==e&&(e.flags|=32),gc}function Dc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(qc(e,0),Uc(e,oc,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===dc&&Uc(e,oc,gc,!1)),Su(e))}function zc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=Kc();rc!==e||oc!==t?(xc=null,Sc=te()+500,qc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var o=ac;t:switch(sc){case 1:sc=0,ac=null,$c(e,t,o,1);break;case 2:case 9:if(Qi(o)){sc=0,ac=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),Su(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Qi(o)?(sc=0,ac=null,Jc(t)):(sc=0,ac=null,$c(e,t,o,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||Bh(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,ac=null,$c(e,t,o,5);break;case 6:sc=0,ac=null,$c(e,t,o,6);break;case 8:Vc(),dc=6;break e;default:throw Error(s(462))}}Yc();break}catch(h){Wc(e,h)}return yi=vi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Ir(),dc)}(e,t):Zc(e,t,!0),o=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!o||jc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,a).flags|=256),2!==(a=Zc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,i=4;break e}o=_c,_c=i,null!==o&&(null===_c?_c=o:_c.push.apply(_c,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){qc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(Uc(r,t,gc,!lc),0!==_e(r,0,!0))break e;r.timeoutHandle=lh(Fc.bind(null,r,n,_c,xc,bc,t,gc,pc,vc,lc,o,2,-0,0),i)}else Fc(r,n,_c,xc,bc,t,gc,pc,vc,lc,o,0,-0,0)}break}i=Zc(e,t,!1),o=!1}Su(e)}function Fc(e,t,n,r,i,o,a,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Vh={stylesheets:null,count:0,unsuspend:qh},Zl(t),null!==(d=function(){if(null===Vh)throw Error(s(475));var e=Vh;return e.stylesheets&&0===e.count&&Kh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,o,n,r,i,a,l,c,h,1,f,p)),void Uc(e,o,a,!u);nu(e,t,o,n,r,i,a,l,c)}function jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Te(e,n,t)}function Bc(){return 0!==(6&nc)||(xu(0,!1),!1)}function Vc(){if(null!==ic){if(0===sc)var e=ic.return;else yi=vi=null,Fo(e=ic),Qs=null,Ys=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=Fr(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=be(e,t),uc=!1,vc=gc=mc=pc=fc=dc=0,_c=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,Ir(),n}function Wc(e,t){bo=null,O.H=Hs,t===Hi||t===Gi?(t=$i(),sc=3):t===Ki?(t=$i(),sc=4):sc=t===Ta?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===ic&&(dc=1,wa(e,kr(t,e.current)))}function Hc(){var e=O.H;return O.H=Hs,null===e?Hs:e}function Kc(){var e=O.A;return O.A=ec,e}function Gc(){dc=4,lc||(4194048&oc)!==oc&&null!==ia.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,oc,gc,!1)}function Zc(e,t,n){var r=nc;nc|=2;var i=Hc(),o=Kc();rc===e&&oc===t||(xc=null,qc(e,t)),t=!1;var s=dc;e:for(;;)try{if(0!==sc&&null!==ic){var a=ic,l=ac;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=sc;if(sc=0,ac=null,$c(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,$c(e,a,l,c)}}Qc(),s=dc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=r,O.H=i,O.A=o,null===ic&&(rc=null,oc=0,Ir()),s}function Qc(){for(;null!==ic;)Xc(ic)}function Yc(){for(;null!==ic&&!$();)Xc(ic)}function Xc(e){var t=Xa(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Da(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Da(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fo(t);default:ol(n,t),t=Xa(n,t=ic=jr(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function $c(e,t,n,r){yi=vi=null,Fo(t),Qs=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&xi(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===oa?Gc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Zi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Zi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(s(435,n.tag))}return hu(e,r,i),Gc(),!1}if(oi)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),ao(e,i=xa(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var o=Error(s(520),{cause:r});if(o=kr(o,n),null===yc?yc=[o]:yc.push(o),4!==dc&&(dc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=xa(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ca(i=ka(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return dc=1,wa(e,kr(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return dc=1,wa(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Cc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Er,a,l,c),e===rc&&(ic=rc=null,oc=0),Ec=t,Tc=e,Ic=n,Pc=o,Ac=i,Nc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=M.p,M.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(o=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nc=a,M.p=i,O.T=r}}Cc=1,ru(),iu(),ou()}}function ru(){if(1===Cc){Cc=0;var e=Tc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Ol(t,e);var o=nh,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&$n(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=Jn(a,m),y=Jn(a,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var _=h.createRange();_.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(_),f.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),f.addRange(_))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nd=!!th,nh=th=null}finally{nc=i,M.p=r,O.T=n}}e.current=t,Cc=2}}function iu(){if(2===Cc){Cc=0;var e=Tc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=i,M.p=r,O.T=n}}Cc=3}}function ou(){if(4===Cc||3===Cc){Cc=0,ee();var e=Tc,t=Ec,n=Ic,r=Nc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,Ec=Tc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(kc=null),Pe(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=M.p,M.p=2,O.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{O.T=t,M.p=i}}0!==(3&Ic)&&au(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Lc?Rc++:(Rc=0,Lc=e):Rc=0,xu(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function au(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==Cc)return!1;var e=Tc,t=Pc;Pc=0;var n=Pe(Ic),r=O.T,i=M.p;try{M.p=32>n?32:n,O.T=null,n=Ac,Ac=null;var o=Tc,a=Ic;if(Cc=0,Ec=Tc=null,Ic=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(o.current),ql(o,o.current,a,n),nc=l,xu(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{M.p=i,O.T=r,su(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=oo(e,t=xa(e.stateNode,t,2),2))&&(Ce(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=oo(t,n=ka(2),2))&&(Ca(n,r,t,e),Ce(r,2),Su(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===dc||3===dc&&(62914560&oc)===oc&&300>te()-wc?0===(2&nc)&&qc(e,0):mc|=n,vc===oc&&(vc=0)),Su(e)}function fu(e,t){0===t&&(t=xe()),null!==(e=Nr(e,t))&&(Ce(e,t),Su(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,yu=!1,_u=!1,bu=!1,wu=0;function Su(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),_u=!0,yu||(yu=!0,hh(function(){0!==(6&nc)?X(re,ku):Cu()}))}function xu(e,t){if(!bu&&_u){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Iu(r,o))}else o=oc,0===(3&(o=_e(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,o)||(n=!0,Iu(r,o));r=r.next}}while(n);bu=!1}}function ku(){Cu()}function Cu(){_u=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ah&&(ah=e,!0);return ah=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=Tu(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&o))&&(_u=!0)),r=i}xu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-fe(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=we(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=_e(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Pe(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Eu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=_e(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Iu(e,t){if(au())return null;zc(e,t,!0)}function Pu(){return 0===wu&&(wu=Se()),wu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Nu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<wr.length;Ru++){var Lu=wr[Ru];Sr(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(_r,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Du(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){va(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){va(u)}i.currentTarget=null,o=l}}}}function zu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[ju]){e[ju]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ju]||(t[ju]=!0,Fu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Be(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Dt(function(){var r=o,i=Nt(n),s=[];e:{var a=br.get(e);if(void 0!==a){var c=$t,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=an;break;case _r:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&h.push(qu(m,g,p)),d)break;m=m.return}0<h.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?a:qe(c),p=null==u?a:qe(u),(a=new h(g,m+"leave",c,n,i)).target=d,a.relatedTarget=p,g=null,Be(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)h=Hu(h),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Hu(h),f=Hu(f)}h=null}else h=null;null!==c&&Ku(s,a,c,h,!1),null!==u&&null!==d&&Ku(s,d,u,h,!0)}if("select"===(c=(a=r?qe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Fn;else if(Rn(a))if(jn)v=Zn;else{v=Kn;var y=Hn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(v=Fn):v=Gn;switch(v&&(v=v(e,r))?Ln(s,v,n,i):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),y=r?qe(r):window,e){case"focusin":(Rn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var _;if(Sn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(_=Wt()):(Vt="value"in(Bt=i)?Bt.value:Bt.textContent,An=!0)),0<(y=Wu(r,b)).length&&(b=new cn(b,e,null,n,i),s.push({event:b,listeners:y}),_?b.data=_:null!==(_=Pn(n))&&(b.data=_))),(_=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(En=!0,Tn);case"textInput":return(e=t.data)===Tn&&En?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Sn&&In(e,t)?(e=Wt(),qt=Vt=Bt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Wu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:y,listeners:b}),y.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Au((i[Le]||null).action),s=r.submitter;s&&null!==(t=(t=s[Le]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new $t("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=s?Nu(i,s):new FormData(i);Ns(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Nu(i,s):new FormData(i),Ns(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Du(s,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=zt(e,n))&&r.unshift(qu(e,i,o)),null!=(i=zt(e,t))&&r.push(qu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=zt(n,o))&&s.unshift(qu(n,c,l)):i||null!=(c=zt(n,o))&&s.push(qu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Zu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Zu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":zu("beforetoggle",e),zu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function $u(e,t,n,r,i,o){switch(n){case"style":Ct(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Le]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zu("error",e),zu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,a,n,null)}}return o&&Ju(e,t,"srcSet",n.srcSet,n,null),void(i&&Ju(e,t,"src",n.src,n,null));case"input":zu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:Ju(e,t,i,h,n,null)}}return vt(e,r,l,c,u,a,o,!1),void ht(e);case"select":for(o in zu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ju(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(a in zu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,a,l,n,null)}return wt(e,i,o,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,c,i,n,null);return;case"dialog":zu("beforetoggle",e),zu("toggle",e),zu("cancel",e),zu("close",e);break;case"iframe":case"object":zu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)zu(Ou[i],e);break;case"image":zu("error",e),zu("load",e);break;case"details":zu("toggle",e);break;case"embed":case"source":case"link":zu("error",e),zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&$u(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ju(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ah=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wh(s.documentElement),2&n&&wh(s.body),4&n)for(wh(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[je]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Ed(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ed(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yh=null;function _h(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Sh=new Map,xh=new Set;function kh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ch=M.d;M.d={f:function(){var e=Ch.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Ls(t):Ch.r(e)},D:function(e){Ch.D(e),Eh("dns-prefetch",e,null)},C:function(e,t){Ch.C(e,t),Eh("preconnect",e,t)},L:function(e,t,n){Ch.L(e,t,n);var r=Th;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Ph(e);break;case"script":o=Rh(e)}Sh.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ah(o))||"script"===t&&r.querySelector(Lh(o))||(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ch.m(e,t);var n=Th;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Rh(e)}if(!Sh.has(o)&&(e=d({rel:"modulepreload",href:e},t),Sh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Lh(o)))return}eh(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ch.X(e,t);var n=Th;if(n&&e){var r=We(n).hoistableScripts,i=Rh(e),o=r.get(i);o||((o=n.querySelector(Lh(i)))||(e=d({src:e,async:!0},t),(t=Sh.get(i))&&zh(e,t),He(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ch.S(e,t,n);var r=Th;if(r&&e){var i=We(r).hoistableStyles,o=Ph(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Ah(o)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sh.get(o))&&Dh(e,n);var l=s=r.createElement("link");He(l),eh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Mh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Ch.M(e,t);var n=Th;if(n&&e){var r=We(n).hoistableScripts,i=Rh(e),o=r.get(i);o||((o=n.querySelector(Lh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Sh.get(i))&&zh(e,t),He(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Th="undefined"===typeof document?null:document;function Eh(e,t,n){var r=Th;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),xh.has(i)||(xh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ih(e,t,n,r){var i,o,a,l,c=(c=W.current)?kh(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ph(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ph(n.href);var u=We(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ah(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Sh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sh.set(e,n),u||(i=c,o=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),eh(o,"link",a),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return h}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rh(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ph(e){return'href="'+mt(e)+'"'}function Ah(e){return'link[rel="stylesheet"]['+e+"]"}function Nh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Rh(e){return'[src="'+mt(e)+'"]'}function Lh(e){return"script[async]"+e}function Oh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),Mh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ph(n.href);var o=e.querySelector(Ah(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Nh(n),(i=Sh.get(i))&&Dh(r,i),He(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),eh(o,"link",r),t.state.loading|=4,Mh(o,n.precedence,e),t.instance=o;case"script":return o=Rh(n.src),(i=e.querySelector(Lh(o)))?(t.instance=i,He(i),i):(r=n,(i=Sh.get(o))&&zh(r=d({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Mh(r,n.precedence,e));return t.instance}function Mh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Dh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fh=null;function jh(e,t,n){if(null===Fh){var r=new Map,i=Fh=new Map;i.set(n,r)}else(r=(i=Fh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[je]||o[Re]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Uh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vh=null;function qh(){}function Wh(){if(this.count--,0===this.count)if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hh=null;function Kh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hh=new Map,t.forEach(Gh,e),Hh=null,Wh.call(e))}function Gh(e,t){if(!(4&t.state.loading)){var n=Hh.get(e);if(n)var r=n.get(null);else{n=new Map,Hh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Wh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Zh={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Qh(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yh(e,t,n,r,i,o,s,a,l,c,u,h){return e=new Qh(e,t,n,s,a,l,c,h),t=1,!0===o&&(t|=24),o=Dr(3,null,null,t),e.current=o,o.stateNode=e,(t=Li()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Xh(e){return e?e=Or:Or}function Jh(e,t,n,r,i,o){i=Xh(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Dc(n,0,t),so(n,e,t))}function $h(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function td(e){if(13===e.tag){var t=Nr(e,67108864);null!==t&&Dc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=O.T;O.T=null;var o=M.p;try{M.p=2,od(e,t,n,r)}finally{M.p=o,O.T=i}}function id(e,t,n,r){var i=O.T;O.T=null;var o=M.p;try{M.p=8,od(e,t,n,r)}finally{M.p=o,O.T=i}}function od(e,t,n,r){if(nd){var i=sd(r);if(null===i)Vu(e,t,r,ad,n),yd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=_d(hd,e,t,n,r,i),!0;case"dragenter":return dd=_d(dd,e,t,n,r,i),!0;case"mouseover":return fd=_d(fd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return pd.set(o,_d(pd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,md.set(o,_d(md.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(yd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==i;){var o=Ve(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ye(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fe(s);a.entanglements[1]|=l,s&=~l}Su(o),0===(6&nc)&&(Sc=te()+500,xu(0,!1))}}break;case 13:null!==(a=Nr(o,2))&&Dc(a,0,2),Bc(),ed(o,2)}if(null===(o=sd(r))&&Vu(e,t,r,ad,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function sd(e){return ld(e=Nt(e))}var ad=null;function ld(e){if(ad=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ad=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,md=new Map,gd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function _d(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function bd(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Ie(e);var t=Nr(n,e);null!==t&&Dc(t,0,e),ed(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Sd(e,t,n){wd(e)&&n.delete(t)}function xd(){ud=!1,null!==hd&&wd(hd)&&(hd=null),null!==dd&&wd(dd)&&(dd=null),null!==fd&&wd(fd)&&(fd=null),pd.forEach(Sd),md.forEach(Sd)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xd)))}var Cd=null;function Td(e){Cd!==e&&(Cd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cd===e&&(Cd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var o=Ve(n);null!==o&&(e.splice(t,3),t-=3,Ns(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ed(e){function t(t){return kd(t,e)}null!==hd&&kd(hd,e),null!==dd&&kd(dd,e),null!==fd&&kd(fd,e),pd.forEach(t),md.forEach(t);for(var n=0;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)bd(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Le]||null;if("function"===typeof o)s||Td(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Le]||null)a=s.formAction;else if(null!==ld(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Td(n)}}}function Id(e){this._internalRoot=e}function Pd(e){this._internalRoot=e}Pd.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jh(t.current,Oc(),e,t,null,null)},Pd.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jh(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&bd(e)}};var Ad=i.version;if("19.1.1"!==Ad)throw Error(s(527,Ad,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Nd={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{ue=Rd.inject(Nd),he=Rd}catch(Od){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=ya,o=_a,l=ba;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yh(e,1,!1,null,0,n,r,i,o,l,0,null),e[Oe]=t.current,Uu(e),new Id(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=ya,l=_a,c=ba,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yh(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Xh(null),n=t.current,(i=io(r=Ie(r=Oc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Ce(t,n),Su(t),e[Oe]=t.current,Uu(e),new Pd(t)},t.version="19.1.1"},24:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},43:(e,t,n)=>{"use strict";e.exports=n(288)},71:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},191:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case h:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case d:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===u||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===d||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=d(n,v);try{c(t,v,y)}catch(_){}}}}return t}},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function s(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function a(e,t,n){var r,i,o,s;return s=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(s,t),r=!0)},o}function l(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return h(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r})}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function S(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var x=window.requestAnimationFrame||b("RequestAnimationFrame")||S,k=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,n){if(!n||x!==S)return x.call(window,i(e,t));e.call(t)}function T(e){e&&k.call(window,e)}var E={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:s,throttle:a,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:f,getParamString:p,template:g,isArray:v,indexOf:y,emptyImageUrl:_,requestFn:x,cancelFn:k,requestAnimFrame:C,cancelAnimFrame:T};function I(){}function P(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}I.extend=function(e){var t=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var s in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(t[s]=this[s]);return e.statics&&n(t,e.statics),e.includes&&(P(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},I.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},I.mergeOptions=function(e){return n(this.prototype.options,e),this},I.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=d(e);for(var i=1===arguments.length,o=0,s=e.length;o<s;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var s=this._listens(e,t,n);if(!1!==s){var a=r[s];this._firingCount&&(a.fn=c,this._events[e]=r=r.slice()),r.splice(s,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var s in this._eventParents)if(this._eventParents[s].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var N=I.extend(A);function R(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var O=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function M(e,t,n){return e instanceof R?e:v(e)?new R(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new R(e.x,e.y):new R(e,t,n)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(e,t){return!e||e instanceof D?e:new D(e,t)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function j(e,t){return e instanceof F?e:new F(e,t)}function U(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function B(e,t,n){return e instanceof U?e:v(e)&&"object"!==typeof e[0]?3===e.length?new U(e[0],e[1],e[2]):2===e.length?new U(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new U(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new U(e,t,n)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new R(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new R(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(e){var t=(e=M(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=M(e)).x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},D.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof R||"number"===typeof e[0]||"x"in e)t=n=M(e);else if(t=(e=z(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof R?M(e):z(e))instanceof D?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=z(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,s=i.y>=t.y&&r.y<=n.y;return o&&s},overlaps:function(e){e=z(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,s=i.y>t.y&&r.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return z(M(t.x-r,t.y-i),M(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=z(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},F.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof U)t=e,n=e;else{if(!(e instanceof F))return e?this.extend(B(e)||j(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new U(t.lat,t.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new F(new U(t.lat-r,t.lng-i),new U(n.lat+r,n.lng+i))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof U||"lat"in e?B(e):j(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof F?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=j(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,s=i.lng>=t.lng&&r.lng<=n.lng;return o&&s},overlaps:function(e){e=j(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,s=i.lng>t.lng&&r.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=j(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(e,t){return!!e&&(e=B(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return q.distance(this,B(e))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return j([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new D(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new U(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),s=e.getNorthEast();return new F(new U(o.lat-r,o.lng-i),new U(s.lat-r,s.lng-i))}},q=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),s=Math.sin((t.lng-e.lng)*n/2),a=o*o+Math.cos(r)*Math.cos(i)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),W=6378137,H={R:W,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new R(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new U((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=W*Math.PI;return new D([-e,-e],[e,e])}()};function K(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function G(e,t,n,r){return new K(e,t,n,r)}K.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new R((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z=n({},q,{code:"EPSG:3857",projection:H,transformation:function(){var e=.5/(Math.PI*H.R);return G(e,.5,-e,.5)}()}),Q=n({},Z,{code:"EPSG:900913"});function Y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){var n,r,i,o,s,a,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(s=e[n]).length;r<o;r++)l+=(r?"L":"M")+(a=s[r]).x+" "+a.y;l+=t?De.svg?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Me("webkit"),re=Me("android"),ie=Me("android 2")||Me("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=re&&Me("Google")&&oe<537&&!("AudioNode"in window),ae=!!window.opera,le=!te&&Me("chrome"),ce=Me("gecko")&&!ne&&!ae&&!$,ue=!le&&Me("safari"),he=Me("phantom"),de="OTransition"in J,fe=0===navigator.platform.indexOf("Win"),pe=$&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in J,ve=!window.L_DISABLE_3D&&(pe||me||ge)&&!de&&!he,ye="undefined"!==typeof orientation||Me("mobile"),_e=ye&&ne,be=ye&&me,we=!window.PointerEvent&&window.MSPointerEvent,Se=!(!window.PointerEvent&&!we),xe="ontouchstart"in window||!!window.TouchEvent,ke=!window.L_NO_TOUCH&&(xe||Se),Ce=ye&&ae,Te=ye&&ce,Ee=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Pe=!!document.createElement("canvas").getContext,Ae=!(!document.createElementNS||!Y("svg").createSVGRect),Ne=!!Ae&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Re=!Ae&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Le=0===navigator.platform.indexOf("Mac"),Oe=0===navigator.platform.indexOf("Linux");function Me(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var De={ie:$,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:se,opera:ae,chrome:le,gecko:ce,safari:ue,phantom:he,opera12:de,win:fe,ie3d:pe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:_e,mobileWebkit3d:be,msPointer:we,pointer:Se,touch:ke,touchNative:xe,mobileOpera:Ce,mobileGecko:Te,retina:Ee,passiveEvents:Ie,canvas:Pe,svg:Ae,vml:Re,inlineSvg:Ne,mac:Le,linux:Oe},ze=De.msPointer?"MSPointerDown":"pointerdown",Fe=De.msPointer?"MSPointerMove":"pointermove",je=De.msPointer?"MSPointerUp":"pointerup",Ue=De.msPointer?"MSPointerCancel":"pointercancel",Be={touchstart:ze,touchmove:Fe,touchend:je,touchcancel:Ue},Ve={touchstart:Je,touchmove:Xe,touchend:Xe,touchcancel:Xe},qe={},We=!1;function He(e,t,n){return"touchstart"===t&&Ye(),Ve[t]?(n=Ve[t].bind(this,n),e.addEventListener(Be[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ke(e,t,n){Be[t]?e.removeEventListener(Be[t],n,!1):console.warn("wrong event specified:",t)}function Ge(e){qe[e.pointerId]=e}function Ze(e){qe[e.pointerId]&&(qe[e.pointerId]=e)}function Qe(e){delete qe[e.pointerId]}function Ye(){We||(document.addEventListener(ze,Ge,!0),document.addEventListener(Fe,Ze,!0),document.addEventListener(je,Qe,!0),document.addEventListener(Ue,Qe,!0),We=!0)}function Xe(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],qe)t.touches.push(qe[n]);t.changedTouches=[t],e(t)}}function Je(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Gt(t),Xe(e,t)}function $e(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Qt(e);if(!i.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||i.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var o=Date.now();o-r<=et?2===++n&&t($e(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,ot,st,at,lt=Ct(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=Ct(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ht(e){return"string"===typeof e?document.getElementById(e):e}function dt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ft(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function pt(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=St(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!yt(e,t)){var o=St(e);wt(e,(o?o+" ":"")+t)}}function bt(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,h((" "+St(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function St(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function xt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&kt(e,t)}function kt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Ct(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Tt(e,t,n){var r=t||new R(0,0);e.style[lt]=(De.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Et(e,t){e._leaflet_pos=t,De.any3d?Tt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function It(e){return e._leaflet_pos||new R(0,0)}if("onselectstart"in document)rt=function(){zt(window,"selectstart",Gt)},it=function(){jt(window,"selectstart",Gt)};else{var Pt=Ct(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Pt){var e=document.documentElement.style;ot=e[Pt],e[Pt]="none"}},it=function(){Pt&&(document.documentElement.style[Pt]=ot,ot=void 0)}}function At(){zt(window,"dragstart",Gt)}function Nt(){jt(window,"dragstart",Gt)}function Rt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Lt(),st=e,at=e.style.outlineStyle,e.style.outlineStyle="none",zt(window,"keydown",Lt))}function Lt(){st&&(st.style.outlineStyle=at,st=void 0,at=void 0,jt(window,"keydown",Lt))}function Ot(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Mt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Dt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:ht,getStyle:dt,create:ft,remove:pt,empty:mt,toFront:gt,toBack:vt,hasClass:yt,addClass:_t,removeClass:bt,setClass:wt,getClass:St,setOpacity:xt,testProp:Ct,setTransform:Tt,setPosition:Et,getPosition:It,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:At,enableImageDrag:Nt,preventOutline:Rt,restoreOutline:Lt,getSizedParentNode:Ot,getScale:Mt};function zt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Vt(e,i,t[i],n);else for(var o=0,s=(t=d(t)).length;o<s;o++)Vt(e,t[o],n,r);return this}var Ft="_leaflet_events";function jt(e,t,n,r){if(1===arguments.length)Ut(e),delete e[Ft];else if(t&&"object"===typeof t)for(var i in t)qt(e,i,t[i],n);else if(t=d(t),2===arguments.length)Ut(e,function(e){return-1!==y(t,e)});else for(var o=0,s=t.length;o<s;o++)qt(e,t[o],n,r);return this}function Ut(e,t){for(var n in e[Ft]){var r=n.split(/\d/)[0];t&&!t(r)||qt(e,r,null,null,n)}}var Bt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vt(e,t,n,r){var i=t+s(n)+(r?"_"+s(r):"");if(e[Ft]&&e[Ft][i])return this;var o=function(t){return n.call(r||e,t||window.event)},a=o;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?o=He(e,t,o):De.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Bt[t]||t,o,!!De.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,$t(e,t)&&a(t)},e.addEventListener(Bt[t],o,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,o),e[Ft]=e[Ft]||{},e[Ft][i]=o}function qt(e,t,n,r,i){i=i||t+s(n)+(r?"_"+s(r):"");var o=e[Ft]&&e[Ft][i];if(!o)return this;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?Ke(e,t,o):De.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Bt[t]||t,o,!1):e.detachEvent("on"+t,o),e[Ft][i]=null}function Wt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ht(e){return Vt(e,"wheel",Wt),this}function Kt(e){return zt(e,"mousedown touchstart dblclick contextmenu",Wt),e._leaflet_disable_click=!0,this}function Gt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Zt(e){return Gt(e),Wt(e),this}function Qt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Yt(e,t){if(!t)return new R(e.clientX,e.clientY);var n=Mt(t),r=n.boundingClientRect;return new R((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Xt=De.linux&&De.chrome?window.devicePixelRatio:De.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jt(e){return De.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Xt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:zt,off:jt,stopPropagation:Wt,disableScrollPropagation:Ht,disableClickPropagation:Kt,preventDefault:Gt,stop:Zt,getPropagationPath:Qt,getMousePosition:Yt,getWheelDelta:Jt,isExternalTarget:$t,addListener:zt,removeListener:jt},tn=N.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=It(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Et(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=N.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(B(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(B(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof R?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(o));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():j(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),s=this.project(e.getSouthWest(),i),a=this.project(e.getNorthEast(),i);return{center:this.unproject(s.add(a).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=j(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=M(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!De.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),s=this._zoom;e=B(e),t=void 0===t?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),c=i.distanceTo(r)||1,u=1.42,h=u*u;function d(e){var t=(l*l-a*a+(e?-1:1)*h*h*c*c)/(2*(e?l:a)*h*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return f(e)/p(e)}var g=d(0);function v(e){return a*(p(g)/p(g+u*e))}function y(e){return a*(p(g)*m(g+u*e)-f(g))/h}function _(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),w=(d(1)-g)/u,S=n.duration?1e3*n.duration:1e3*w*.8;function x(){var n=(Date.now()-b)/S,o=_(n)*w;n<=1?(this._flyToFrame=C(x,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/c)),s),this.getScaleZoom(a/v(o),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),x.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=j(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,j(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=M((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),s=this.getPixelBounds(),a=z([s.min.add(n),s.max.subtract(r)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var c=o.subtract(a.getCenter()),u=a.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new U(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var s in e.coords)"number"===typeof e.coords[s]&&(o[s]=e.coords[s]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)pt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ft("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new F(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=j(e),n=M(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),c=z(this.project(a,r),this.project(s,r)).getSize(),u=De.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,f=t?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(f,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(B(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(B(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(B(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(j(e))},distance:function(e,t){return this.options.crs.distance(B(e),B(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(e)))},mouseEventToContainerPoint:function(e){return Yt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ht(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");zt(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,_t(e,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=dt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Et(this._mapPane,new R(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Et(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[s(this._container)]=this;var t=e?jt:zt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=C(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,a=!1;o;){if((n=this._targets[s(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||a||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Rt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var s=[],a=0;a<r.length;a++)r[a].listens(t,!0)&&s.push(r[a]);o=s.concat(o)}if(o.length){"contextmenu"===t&&Gt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(t,c,!0),c.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return It(this._mapPane)||new R(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return z([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),s=this._getBoundsOffset(o,n,t);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?e:this.unproject(r.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new D(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=z(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new R(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=De.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=lt,n=this._proxy.style[t];Tt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Tt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(C(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=I.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return _t(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),sn=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ft("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=ft("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)pt(this._controlCorners[e]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(s(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ft("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Kt(t),Ht(t);var r=this._section=ft("section",e+"-list");n&&(this._map.on("click",this.collapse,this),zt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=ft("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),zt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Gt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ft("div",e+"-base",r),this._separator=ft("div",e+"-separator",r),this._overlaysList=ft("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+s(this),r),this._layerControlInputs.push(t),t.layerId=s(e.layer),zt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,zt(e,"click",Gt),this.expand();var t=this;setTimeout(function(){jt(e,"click",Gt),t._preventClick=!1})}}),ln=function(e,t,n){return new an(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ft("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ft("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Kt(o),zt(o,"click",Zt),zt(o,"click",i,this),zt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";bt(this._zoomInButton,t),bt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(_t(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(_t(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))});var un=function(e){return new cn(e)},hn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ft("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ft("div",t,n)),e.imperial&&(this._iScale=ft("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new hn(e)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),Kt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new pn).addTo(this)});var mn=function(e){return new pn(e)};on.Layers=an,on.Zoom=cn,on.Scale=hn,on.Attribution=pn,sn.layers=ln,sn.zoom=un,sn.scale=dn,sn.attribution=mn;var gn=I.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:A},yn=De.touch?"touchstart mousedown":"mousedown",_n=N.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(zt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(_n._dragging=this,this._preventOutline&&Rt(this._element),At(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Ot(this._element);this._startPoint=new R(t.clientX,t.clientY),this._startPos=It(this._element),this._parentScale=Mt(n);var r="mousedown"===e.type;zt(document,r?"mousemove":"touchmove",this._onMove,this),zt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new R(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Gt(e),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Et(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),Nt(),it();var t=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function bn(e,t,n){var r,i,o,s,a,l,c,u,h,d=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Ln(e[i],t);for(s=0;s<4;s++){for(u=d[s],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)a=e[i],l=e[o],a._code&u?l._code&u||((h=Rn(l,a,u,t,n))._code=Ln(h,t),r.push(h)):(l._code&u&&((h=Rn(l,a,u,t,n))._code=Ln(h,t),r.push(h)),r.push(a));e=r}return e}function wn(e,t){var n,r,i,o,s,a,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=B([0,0]),d=j(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=Sn(e));var f=e.length,p=[];for(n=0;n<f;n++){var m=B(e[n]);p.push(t.project(B([m.lat-h.lat,m.lng-h.lng])))}for(a=l=c=0,n=0,r=f-1;n<f;r=n++)i=p[n],o=p[r],s=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*s,c+=(i.y+o.y)*s,a+=3*s;u=0===a?p[0]:[l/a,c/a];var g=t.unproject(M(u));return B([g.lat+h.lat,g.lng+h.lng])}function Sn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=B(e[i]);t+=o.lat,n+=o.lng,r++}return B([t/r,n/r])}var xn,kn={__proto__:null,clipPolygon:bn,polygonCenter:wn,centroid:Sn};function Cn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=In(e=An(e,n),n)}function Tn(e,t,n){return Math.sqrt(Mn(e,t,n,!0))}function En(e,t,n){return Mn(e,t,n)}function In(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Pn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function Pn(e,t,n,r,i){var o,s,a,l=0;for(s=r+1;s<=i-1;s++)(a=Mn(e[s],e[r],e[i],!0))>l&&(o=s,l=a);l>n&&(t[o]=1,Pn(e,t,n,r,o),Pn(e,t,n,o,i))}function An(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)On(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Nn(e,t,n,r,i){var o,s,a,l=r?xn:Ln(e,n),c=Ln(t,n);for(xn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=Ln(s=Rn(e,t,o=l||c,n,i),n),o===l?(e=s,l=a):(t=s,c=a)}}function Rn(e,t,n,r,i){var o,s,a=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(o=e.x+a*(u.y-e.y)/l,s=u.y):4&n?(o=e.x+a*(c.y-e.y)/l,s=c.y):2&n?(o=u.x,s=e.y+l*(u.x-e.x)/a):1&n&&(o=c.x,s=e.y+l*(c.x-e.x)/a),new R(o,s,i)}function Ln(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function On(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Mn(e,t,n,r){var i,o=t.x,s=t.y,a=n.x-o,l=n.y-s,c=a*a+l*l;return c>0&&((i=((e.x-o)*a+(e.y-s)*l)/c)>1?(o=n.x,s=n.y):i>0&&(o+=a*i,s+=l*i)),a=e.x-o,l=e.y-s,r?a*a+l*l:new R(o,s)}function Dn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function zn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(e)}function Fn(e,t){var n,r,i,o,s,a,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=B([0,0]),h=j(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=Sn(e));var d=e.length,f=[];for(n=0;n<d;n++){var p=B(e[n]);f.push(t.project(B([p.lat-u.lat,p.lng-u.lng])))}for(n=0,r=0;n<d-1;n++)r+=f[n].distanceTo(f[n+1])/2;if(0===r)c=f[0];else for(n=0,o=0;n<d-1;n++)if(s=f[n],a=f[n+1],(o+=i=s.distanceTo(a))>r){l=(o-r)/i,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var m=t.unproject(M(c));return B([m.lat+u.lat,m.lng+u.lng])}var jn={__proto__:null,simplify:Cn,pointToSegmentDistance:Tn,closestPointOnSegment:En,clipSegment:Nn,_getEdgeIntersection:Rn,_getBitCode:Ln,_sqClosestPointOnSegment:Mn,isFlat:Dn,_flat:zn,polylineCenter:Fn},Un={project:function(e){return new R(e.lng,e.lat)},unproject:function(e){return new U(e.y,e.x)},bounds:new D([-180,-90],[180,90])},Bn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),s=o*Math.sin(r),a=Math.tan(Math.PI/4-r/2)/Math.pow((1-s)/(1+s),o/2);return r=-n*Math.log(Math.max(a,1e-10)),new R(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),s=Math.exp(-e.y/r),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),a+=c=Math.PI/2-2*Math.atan(s*t)-a;return new U(a*n,e.x*n/r)}},Vn={__proto__:null,LonLat:Un,Mercator:Bn,SphericalMercator:H},qn=n({},q,{code:"EPSG:3395",projection:Bn,transformation:function(){var e=.5/(Math.PI*Bn.R);return G(e,.5,-e,.5)}()}),Wn=n({},q,{code:"EPSG:4326",projection:Un,transformation:G(1/180,1,-1/180,.5)}),Hn=n({},V,{projection:Un,transformation:G(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=q,V.EPSG3395=qn,V.EPSG3857=Z,V.EPSG900913=Q,V.EPSG4326=Wn,V.Simple=Hn;var Kn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=s(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return s(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=s(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Kn.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s(e)}}),Zn=function(e,t){return new Gn(e,t)},Qn=Gn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Gn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Gn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Yn=function(e,t){return new Qn(e,t)},Xn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=M(r),o=M("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return De.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Jn(e){return new Xn(e)}var $n=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof $n.imagePath&&($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+Xn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),t=dt(e,"background-image")||dt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new _n(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=It(t._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=z(s.min._subtract(a).add(i),s.max._subtract(a).subtract(i));if(!l.contains(o)){var c=M((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Et(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=It(t._icon),i=t._map.layerPointToLatLng(r);n&&Et(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Kn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=B(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),_t(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(_t(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Et(this._icon,e),this._shadow&&Et(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&xt(this._icon,e),this._shadow&&xt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),r=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=B(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(e,t){return new ir(e,t)}var sr=ir.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),f(this,t),this._latlng=B(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===q.distance){var i=Math.PI/180,o=this._mRadius/q.R/i,s=n.project([t+o,e]),a=n.project([t-o,e]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-s.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function ar(e,t,n){return new sr(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Mn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=o(e,t=l[c-1],n=l[c],!0);h<r&&(r=h,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=B(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Dn(e),r=0,i=e.length;r<i;r++)n?(t[r]=B(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new R(e,e);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof U,s=e.length;if(o){for(i=[],r=0;r<s;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<s;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,s,a,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(a=this._rings[t]).length;n<o-1;n++)(s=Nn(a[n],a[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(s[0]),s[1]===a[n+1]&&n!==o-2||(l[r].push(s[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Cn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(s=(a=this._parts[n]).length)-1;r<s;i=r++)if((t||0!==r)&&Tn(e,a[i],a[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=zn;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof U&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new R(t,t);if(e=new D(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=bn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,a=this._parts.length;i<a;i++)for(o=0,s=(l=(t=this._parts[i]).length)-1;o<l;s=o++)n=t[o],r=t[s],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function hr(e,t){return new ur(e,t)}var dr=Qn.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=fr(e,o);return s?(s.feature=br(e),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function fr(e,t){var n,r,i,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||mr;if(!a&&!s)return null;switch(s.type){case"Point":return pr(c,e,n=u(a),t);case"MultiPoint":for(i=0,o=a.length;i<o;i++)n=u(a[i]),l.push(pr(c,e,n,t));return new Qn(l);case"LineString":case"MultiLineString":return r=gr(a,"LineString"===s.type?0:1,u),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(a,"Polygon"===s.type?1:2,u),new ur(r,t);case"GeometryCollection":for(i=0,o=s.geometries.length;i<o;i++){var h=fr({geometry:s.geometries[i],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new Qn(l);case"FeatureCollection":for(i=0,o=s.features.length;i<o;i++){var d=fr(s.features[i],t);d&&l.push(d)}return new Qn(l);default:throw new Error("Invalid GeoJSON object.")}}function pr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function mr(e){return new U(e[1],e[0],e[2])}function gr(e,t,n){for(var r,i=[],o=0,s=e.length;o<s;o++)r=t?gr(e[o],t-1,n):(n||mr)(e[o]),i.push(r);return i}function vr(e,t){return void 0!==(e=B(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function yr(e,t,n,r){for(var i=[],o=0,s=e.length;o<s;o++)i.push(t?yr(e[o],Dn(e[o])?0:t-1,n,r):vr(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function _r(e,t){return e.feature?n({},e.feature,{geometry:t}):br(t)}function br(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wr={toGeoJSON:function(e){return _r(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function Sr(e,t){return new dr(e,t)}tr.include(wr),sr.include(wr),ir.include(wr),lr.include({toGeoJSON:function(e){var t=!Dn(this._latlngs);return _r(this,{type:(t?"Multi":"")+"LineString",coordinates:yr(this._latlngs,t?1:0,!1,e)})}}),ur.include({toGeoJSON:function(e){var t=!Dn(this._latlngs),n=t&&!Dn(this._latlngs[0]),r=yr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),_r(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Gn.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),_r(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=br(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}}),n?_r(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var xr=Sr,kr=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=j(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=j(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ft("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Tt(this._image,n,t)},_reset:function(){var e=this._image,t=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Et(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Cr=function(e,t,n){return new kr(e,t,n)},Tr=kr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ft("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=ft("source");a.src=this._url[s],t.appendChild(a)}}}});function Er(e,t,n){return new Tr(e,t,n)}var Ir=kr.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Pr(e,t,n){return new Ir(e,t,n)}var Ar=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof U||v(e))?(this._latlng=B(e),f(this,t)):(f(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(i(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=B(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Qn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?Et(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Kn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(f(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Nr=Ar.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ar.prototype.openOn.call(this,e)},onAdd:function(e){Ar.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Wt))},onRemove:function(e){Ar.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Wt))},getEvents:function(){var e=Ar.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ft("div",e+"-content-wrapper",t);if(this._contentNode=ft("div",e+"-content",n),Kt(t),Ht(this._contentNode),zt(t,"contextmenu",Wt),this._tipContainer=ft("div",e+"-tip-container",t),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ft("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',zt(r,"click",function(e){Gt(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",_t(e,o)):bt(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Et(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(dt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new R(this._containerLeft,-n-this._containerBottom);i._add(It(this._container));var o=e.layerPointToContainerPoint(i),s=M(this.options.autoPanPadding),a=M(this.options.autoPanPaddingTopLeft||s),l=M(this.options.autoPanPaddingBottomRight||s),c=e.getSize(),u=0,h=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+n+l.y>c.y&&(h=o.y+n-c.y+l.y),o.y-h-a.y<0&&(h=o.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rr=function(e,t){return new Nr(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Nr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Kn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Nr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Qn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Zt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Lr=Ar.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ar.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ar.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ar.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),s=r.layerPointToContainerPoint(e),a=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=M(this.options.offset),h=this._getAnchor();"top"===a?(t=l/2,n=c):"bottom"===a?(t=l/2,n=0):"center"===a?(t=l/2,n=c/2):"right"===a?(t=0,n=c/2):"left"===a?(t=l,n=c/2):s.x<o.x?(a="right",t=0,n=c/2):(a="left",t=l+2*(u.x+h.x),n=c/2),e=e.subtract(M(t,n,!0)).add(u).add(h),bt(i,"leaflet-tooltip-right"),bt(i,"leaflet-tooltip-left"),bt(i,"leaflet-tooltip-top"),bt(i,"leaflet-tooltip-bottom"),_t(i,"leaflet-tooltip-"+a),Et(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&xt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Or=function(e,t){return new Lr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Lr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Kn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Qn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(zt(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),zt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Mr=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=M(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Dr(e){return new Mr(e)}Xn.Default=$n;var zr=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),pt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof R?e:new R(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){xt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);xt(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(T(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(pt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)pt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),s=n-1,a=new R(+i,+o);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>r&&this._retainParent(i,o,s,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var s=new R(i,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();De.any3d?Tt(e.el,i,r):Et(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),s=[],a=this.options.keepBuffer,l=new D(i.getBottomLeft().subtract([a,-a]),i.getTopRight().add([a,-a]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new R(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var f=new R(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return j(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new F(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new R(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(pt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,De.ielt9&&this.options.opacity<1&&xt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&C(i(this._tileReady,this,e,null,o)),Et(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(xt(n.el,0),T(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(_t(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new R(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new D(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new zr(e)}var jr=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&De.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return zt(n,"load",i(this._tileOnLoad,this,t,n)),zt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:De.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){De.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=_;var n=this._tiles[e].coords;pt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),zr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return zr.prototype._tileReady.call(this,e,t,n)}});function Ur(e,t){return new jr(e,t)}var Br=jr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=f(this,t)).detectRetina&&De.retina?2:1,s=this.getTileSize();r.width=s.x*o,r.height=s.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,jr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=z(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,s=(this._wmsVersion>=1.3&&this._crs===Wn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),a=jr.prototype.getTileUrl.call(this,e);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Vr(e,t){return new Br(e,t)}jr.WMS=Br,Ur.wms=Vr;var qr=Kn.extend({options:{padding:.1},initialize:function(e){f(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));De.any3d?Tt(this._container,o,n):Et(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new D(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wr=qr.extend({options:{tolerance:0},getEvents:function(){var e=qr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");zt(e,"mousemove",this._onMouseMove,this),zt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,pt(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=De.retina?2:1;Et(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[s(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[s(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,s=e._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(r=0,i=s[n].length;r<i;r++)o=s[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(bt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(_t(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Hr(e){return De.canvas?new Wr(e):null}var Kr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gr={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Kr("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Kr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;pt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Kr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Kr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Zr=De.vml?Kr:Y,Qr=qr.extend({_initContainer:function(){this._container=Zr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Et(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Zr("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){pt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Yr(e){return De.svg||De.vml?new Qr(e):null}De.vml&&Qr.include(Gr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Hr(e)||Yr(e)}});var Xr=ur.extend({initialize:function(e,t){ur.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=j(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Jr(e,t){return new Xr(e,t)}Qr.create=Zr,Qr.pointsToPath=X,dr.geometryToLayer=fr,dr.coordsToLatLng=mr,dr.coordsToLatLngs=gr,dr.latLngToCoords=vr,dr.latLngsToCoords=yr,dr.getFeature=_r,dr.asFeature=br,nn.mergeOptions({boxZoom:!0});var $r=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),At(),this._startPoint=this._map.mouseEventToContainerPoint(e),zt(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new D(this._point,this._startPoint),n=t.getSize();Et(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pt(this._box),bt(this._container,"leaflet-crosshair")),it(),Nt(),jt(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",$r),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new _n(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=j(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,s=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=i.multiplyBy(s/o),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(n.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),C(function(){t.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),zt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=M(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(M(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Zt(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Jt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Zt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var oi=gn.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new R(t.clientX,t.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Gt),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),ii),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){jt(document,"touchend",Gt),jt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new R(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",oi),nn.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var si=gn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Gt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var a=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=C(a,this,!0),Gt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",si),nn.BoxZoom=$r,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=oi,nn.TouchZoom=si,e.Bounds=D,e.Browser=De,e.CRS=V,e.Canvas=Wr,e.Circle=sr,e.CircleMarker=ir,e.Class=I,e.Control=on,e.DivIcon=Mr,e.DivOverlay=Ar,e.DomEvent=en,e.DomUtil=Dt,e.Draggable=_n,e.Evented=N,e.FeatureGroup=Qn,e.GeoJSON=dr,e.GridLayer=zr,e.Handler=gn,e.Icon=Xn,e.ImageOverlay=kr,e.LatLng=U,e.LatLngBounds=F,e.Layer=Kn,e.LayerGroup=Gn,e.LineUtil=jn,e.Map=nn,e.Marker=tr,e.Mixin=vn,e.Path=rr,e.Point=R,e.PolyUtil=kn,e.Polygon=ur,e.Polyline=lr,e.Popup=Nr,e.PosAnimation=tn,e.Projection=Vn,e.Rectangle=Xr,e.Renderer=qr,e.SVG=Qr,e.SVGOverlay=Ir,e.TileLayer=jr,e.Tooltip=Lr,e.Transformation=K,e.Util=E,e.VideoOverlay=Tr,e.bind=i,e.bounds=z,e.canvas=Hr,e.circle=ar,e.circleMarker=or,e.control=sn,e.divIcon=Dr,e.extend=n,e.featureGroup=Yn,e.geoJSON=Sr,e.geoJson=xr,e.gridLayer=Fr,e.icon=Jn,e.imageOverlay=Cr,e.latLng=B,e.latLngBounds=j,e.layerGroup=Zn,e.map=rn,e.marker=nr,e.point=M,e.polygon=hr,e.polyline=cr,e.popup=Rr,e.rectangle=Jr,e.setOptions=f,e.stamp=s,e.svg=Yr,e.svgOverlay=Pr,e.tileLayer=Ur,e.tooltip=Or,e.transformation=G,e.version=t,e.videoOverlay=Er;var ai=window.L;e.noConflict=function(){return window.L=ai,this},window.L=e}(t)},249:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function k(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return P((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+E(e,0):o,w(s)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),P(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var h,p=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(o=e[m],t,i,a=p+E(o,m),s);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,a=p+E(o,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!x.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(L,R)}catch(o){R(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},763:(e,t,n)=>{"use strict";e.exports=n(983)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,k||(k=!0,x());else{var t=r(u);null!==t&&R(S,t.startTime-e)}}var x,k=!1,C=-1,T=5,E=-1;function I(){return!!v||!(t.unstable_now()-E<T)}function P(){if(v=!1,k){var e=t.unstable_now();E=e;var n=!0;try{e:{m=!1,g&&(g=!1,_(C),C=-1),p=!0;var o=f;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&I());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&R(S,l.startTime-e),n=!1}}break e}finally{d=null,f=o,p=!1}n=void 0}}finally{n?x():k=!1}}}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=P,x=function(){N.postMessage(null)}}else x=function(){y(P,0)};function R(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(_(C),C=-1):g=!0,R(S,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,k||(k=!0,x()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c=(0,e.createContext)(null);function u(){const t=(0,e.use)(c);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function h(){return u().map}function d(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function f(e,t){if(null==e)return{};var n,r,i=d(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=n(228),m=n.n(p);const g=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function v(t,n){let{bounds:r,boundsOptions:i,center:o,children:s,className:a,id:u,placeholder:h,style:d,whenReady:m,zoom:v}=t,y=f(t,g);const[_]=(0,e.useState)({className:a,id:u,style:d}),[b,w]=(0,e.useState)(null),S=(0,e.useRef)(void 0);(0,e.useImperativeHandle)(n,()=>{var e;return null!==(e=null===b||void 0===b?void 0:b.map)&&void 0!==e?e:null},[b]);const x=(0,e.useCallback)(e=>{if(null!==e&&!S.current){const t=new p.Map(e,y);S.current=t,null!=o&&null!=v?t.setView(o,v):null!=r&&t.fitBounds(r,i),null!=m&&t.whenReady(m),w(function(e){return Object.freeze({__version:1,map:e})}(t))}},[]);(0,e.useEffect)(()=>()=>{null===b||void 0===b||b.map.remove()},[b]);const k=b?e.createElement(c,{value:b},s):null!==h&&void 0!==h?h:null;return e.createElement("div",l(l({},_),{},{ref:x}),k)}const y=(0,e.forwardRef)(v);var _=n(950);function b(t,n){const r=(0,e.useRef)(n);(0,e.useEffect)(function(){n!==r.current&&null!=t.attributionControl&&(null!=r.current&&t.attributionControl.removeAttribution(r.current),null!=n&&t.attributionControl.addAttribution(n)),r.current=n},[t,n])}function w(t,n){const r=(0,e.useRef)(void 0);(0,e.useEffect)(function(){return null!=n&&t.instance.on(n),r.current=n,function(){null!=r.current&&t.instance.off(r.current),r.current=null}},[t,n])}function S(e,t){var n;const r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?l(l({},e),{},{pane:r}):e}function x(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function k(t,n){return null==n?function(n,r){const i=(0,e.useRef)(void 0);return i.current||(i.current=t(n,r)),i}:function(r,i){const o=(0,e.useRef)(void 0);o.current||(o.current=t(r,i));const s=(0,e.useRef)(r),{instance:a}=o.current;return(0,e.useEffect)(function(){s.current!==r&&(n(a,r,s.current),s.current=r)},[a,r,n]),o}}function C(t){return function(n){const r=u(),i=t(S(n,r),r);return b(r.map,n.attribution),w(i.current,n.eventHandlers),function(t,n){(0,e.useEffect)(function(){var e;return(null!==(e=n.layerContainer)&&void 0!==e?e:n.map).addLayer(t.instance),function(){var e;null===(e=n.layerContainer)||void 0===e||e.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}(i.current,r),i}}const T=["url"],E=(I=function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)},function(t){function n(n,r){const{instance:i}=t(n).current;return(0,e.useImperativeHandle)(r,()=>i),null}return(0,e.forwardRef)(n)}(C(k(function(e,t){let{url:n}=e,r=f(e,T);return x(new p.TileLayer(n,S(r,t)),t)},I))));var I;const P=["position"],A=function(t,n){return function(t){function n(n,r){const{instance:i,context:o}=t(n).current;(0,e.useImperativeHandle)(r,()=>i);const{children:s}=n;return null==s?null:e.createElement(c,{value:o},s)}return(0,e.forwardRef)(n)}(C(k(t,n)))}(function(e,t){let{position:n}=e,r=f(e,P);const i=new p.Marker(n,r);return x(i,(o=t,s={overlayContainer:i},Object.freeze(l(l({},o),s))));var o,s},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),N=function(t,n){const r=function(e,t){return function(n,r){const i=u(),o=e(S(n,i),i);return b(i.map,n.attribution),w(o.current,n.eventHandlers),t(o.current,i,n,r),o}}(k(t),n);return function(t){function n(n,r){const[i,o]=(0,e.useState)(!1),{instance:s}=t(n,o).current;(0,e.useImperativeHandle)(r,()=>s),(0,e.useEffect)(function(){i&&s.update()},[s,i,n.children]);const a=s._contentNode;return a?(0,_.createPortal)(n.children,a):null}return(0,e.forwardRef)(n)}(r)}(function(e,t){return x(new p.Popup(e,t.overlayContainer),t)},function(t,n,r,i){let{position:o}=r;(0,e.useEffect)(function(){const{instance:e}=t;function r(t){t.popup===e&&(e.update(),i(!0))}function s(t){t.popup===e&&i(!1)}return n.map.on({popupopen:r,popupclose:s}),null==n.overlayContainer?(null!=o&&e.setLatLng(o),e.openOn(n.map)):n.overlayContainer.bindPopup(e),function(){var t;n.map.off({popupopen:r,popupclose:s}),null===(t=n.overlayContainer)||void 0===t||t.unbindPopup(),n.map.removeLayer(e)}},[t,n,i,o])});const R=function(t){let{from:n,to:r}=t;const i=h();return(0,e.useEffect)(()=>{if(!n||!r)return;const e={coordinates:[[n.lng,n.lat],[r.lng,r.lat]]};let t,o;return fetch("https://api.openrouteservice.org/v2/directions/driving-car/geojson",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImY5ODMzM2YwNjA1ZTRmYTlhODE3NDBmMDg5YTVjODc2IiwiaCI6Im11cm11cjY0In0="},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{const n=e.features[0].geometry.coordinates.map(e=>{let[t,n]=e;return[n,t]});t=m().polyline(n,{color:"blue",weight:4}).addTo(i),i.fitBounds(t.getBounds());const r=(e.features[0].properties.summary.distance/1e3).toFixed(2);console.log("\ud83d\udccf Distance: ".concat(r," km"));const s=n[Math.floor(n.length/2)];o=m().tooltip({permanent:!0,direction:"center",className:"distance-tooltip",offset:[0,0]}).setContent("\ud83d\udccf ".concat(r," km")).setLatLng(s).addTo(i)}).catch(e=>{console.error("Error fetching route:",e)}),()=>{t&&i.removeLayer(t)}},[n,r,i]),null};function O(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=O(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const M=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=O(e))&&(r&&(r+=" "),r+=t);return r};function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}var F=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),j=Math.abs,U=String.fromCharCode,B=Object.assign;function V(e){return e.trim()}function q(e,t,n){return e.replace(t,n)}function W(e,t){return e.indexOf(t)}function H(e,t){return 0|e.charCodeAt(t)}function K(e,t,n){return e.slice(t,n)}function G(e){return e.length}function Z(e){return e.length}function Q(e,t){return t.push(e),e}var Y=1,X=1,J=0,$=0,ee=0,te="";function ne(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Y,column:X,length:s,return:""}}function re(e,t){return B(ne("",null,null,"",null,null,0),e,{length:-e.length},t)}function ie(){return ee=$>0?H(te,--$):0,X--,10===ee&&(X=1,Y--),ee}function oe(){return ee=$<J?H(te,$++):0,X++,10===ee&&(X=1,Y++),ee}function se(){return H(te,$)}function ae(){return $}function le(e,t){return K(te,e,t)}function ce(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ue(e){return Y=X=1,J=G(te=e),$=0,[]}function he(e){return te="",e}function de(e){return V(le($-1,me(91===e?e+2:40===e?e+1:e)))}function fe(e){for(;(ee=se())&&ee<33;)oe();return ce(e)>2||ce(ee)>3?"":" "}function pe(e,t){for(;--t&&oe()&&!(ee<48||ee>102||ee>57&&ee<65||ee>70&&ee<97););return le(e,ae()+(t<6&&32==se()&&32==oe()))}function me(e){for(;oe();)switch(ee){case e:return $;case 34:case 39:34!==e&&39!==e&&me(ee);break;case 40:41===e&&me(e);break;case 92:oe()}return $}function ge(e,t){for(;oe()&&e+ee!==57&&(e+ee!==84||47!==se()););return"/*"+le(t,$-1)+"*"+U(47===e?e:oe())}function ve(e){for(;!ce(se());)oe();return le(e,$)}var ye="-ms-",_e="-moz-",be="-webkit-",we="comm",Se="rule",xe="decl",ke="@keyframes";function Ce(e,t){for(var n="",r=Z(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Te(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case xe:return e.return=e.return||e.value;case we:return"";case ke:return e.return=e.value+"{"+Ce(e.children,r)+"}";case Se:e.value=e.props.join(",")}return G(n=Ce(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ee(e){return he(Ie("",null,null,null,[""],e=ue(e),0,[0],e))}function Ie(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,m=1,g=1,v=1,y=0,_="",b=i,w=o,S=r,x=_;g;)switch(p=y,y=oe()){case 40:if(108!=p&&58==H(x,h-1)){-1!=W(x+=q(de(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=de(y);break;case 9:case 10:case 13:case 32:x+=fe(p);break;case 92:x+=pe(ae()-1,7);continue;case 47:switch(se()){case 42:case 47:Q(Ae(ge(oe(),ae()),t,n),l);break;default:x+="/"}break;case 123*m:a[c++]=G(x)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(x=q(x,/\f/g,"")),f>0&&G(x)-h&&Q(f>32?Ne(x+";",r,n,h-1):Ne(q(x," ","")+";",r,n,h-2),l);break;case 59:x+=";";default:if(Q(S=Pe(x,t,n,c,u,i,a,_,b=[],w=[],h),o),123===y)if(0===u)Ie(x,t,S,S,b,o,h,a,w);else switch(99===d&&110===H(x,3)?100:d){case 100:case 108:case 109:case 115:Ie(e,S,S,r&&Q(Pe(e,S,S,0,0,i,a,_,i,b=[],h),w),i,w,h,a,r?b:w);break;default:Ie(x,S,S,S,[""],w,0,a,w)}}c=u=f=0,m=v=1,_=x="",h=s;break;case 58:h=1+G(x),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==ie())continue;switch(x+=U(y),y*m){case 38:v=u>0?1:(x+="\f",-1);break;case 44:a[c++]=(G(x)-1)*v,v=1;break;case 64:45===se()&&(x+=de(oe())),d=se(),u=h=G(_=x+=ve(ae())),y++;break;case 45:45===p&&2==G(x)&&(m=0)}}return o}function Pe(e,t,n,r,i,o,s,a,l,c,u){for(var h=i-1,d=0===i?o:[""],f=Z(d),p=0,m=0,g=0;p<r;++p)for(var v=0,y=K(e,h+1,h=j(m=s[p])),_=e;v<f;++v)(_=V(m>0?d[v]+" "+y:q(y,/&\f/g,d[v])))&&(l[g++]=_);return ne(e,t,n,0===i?Se:a,l,c,u)}function Ae(e,t,n){return ne(e,t,n,we,U(ee),K(e,2,-2),0)}function Ne(e,t,n,r){return ne(e,t,n,xe,K(e,0,r),K(e,r+1,-1),r)}var Re=function(e,t,n){for(var r=0,i=0;r=i,i=se(),38===r&&12===i&&(t[n]=1),!ce(i);)oe();return le(e,$)},Le=function(e,t){return he(function(e,t){var n=-1,r=44;do{switch(ce(r)){case 0:38===r&&12===se()&&(t[n]=1),e[n]+=Re($-1,t,n);break;case 2:e[n]+=de(r);break;case 4:if(44===r){e[++n]=58===se()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=U(r)}}while(r=oe());return e}(ue(e),t))},Oe=new WeakMap,Me=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Oe.get(n))&&!r){Oe.set(e,!0);for(var i=[],o=Le(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},De=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ze(e,t){switch(function(e,t){return 45^H(e,0)?(((t<<2^H(e,0))<<2^H(e,1))<<2^H(e,2))<<2^H(e,3):0}(e,t)){case 5103:return be+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return be+e+_e+e+ye+e+e;case 6828:case 4268:return be+e+ye+e+e;case 6165:return be+e+ye+"flex-"+e+e;case 5187:return be+e+q(e,/(\w+).+(:[^]+)/,be+"box-$1$2"+ye+"flex-$1$2")+e;case 5443:return be+e+ye+"flex-item-"+q(e,/flex-|-self/,"")+e;case 4675:return be+e+ye+"flex-line-pack"+q(e,/align-content|flex-|-self/,"")+e;case 5548:return be+e+ye+q(e,"shrink","negative")+e;case 5292:return be+e+ye+q(e,"basis","preferred-size")+e;case 6060:return be+"box-"+q(e,"-grow","")+be+e+ye+q(e,"grow","positive")+e;case 4554:return be+q(e,/([^-])(transform)/g,"$1"+be+"$2")+e;case 6187:return q(q(q(e,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),e,"")+e;case 5495:case 3959:return q(e,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return q(q(e,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+ye+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+e+e;case 4095:case 3583:case 4068:case 2532:return q(e,/(.+)-inline(.+)/,be+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(G(e)-1-t>6)switch(H(e,t+1)){case 109:if(45!==H(e,t+4))break;case 102:return q(e,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+_e+(108==H(e,t+3)?"$3":"$2-$3"))+e;case 115:return~W(e,"stretch")?ze(q(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==H(e,t+1))break;case 6444:switch(H(e,G(e)-3-(~W(e,"!important")&&10))){case 107:return q(e,":",":"+be)+e;case 101:return q(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+be+(45===H(e,14)?"inline-":"")+"box$3$1"+be+"$2$3$1"+ye+"$2box$3")+e}break;case 5936:switch(H(e,t+11)){case 114:return be+e+ye+q(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return be+e+ye+q(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return be+e+ye+q(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return be+e+ye+e+e}return e}var Fe=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case xe:e.return=ze(e.value,e.length);break;case ke:return Ce([re(e,{value:q(e.value,"@","@"+be)})],r);case Se:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ce([re(e,{props:[q(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ce([re(e,{props:[q(t,/:(plac\w+)/,":"+be+"input-$1")]}),re(e,{props:[q(t,/:(plac\w+)/,":-moz-$1")]}),re(e,{props:[q(t,/:(plac\w+)/,ye+"input-$1")]})],r)}return""})}}],je=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,i,o=e.stylisPlugins||Fe,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)});var l,c,u=[Te,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=Z(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([Me,De].concat(o,u));i=function(e,t,n,r){l=n,function(e){Ce(Ee(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new F({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return d.sheet.hydrate(a),d};function Ue(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var Be=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ve=function(e,t,n){Be(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var qe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function We(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var He=/[A-Z]|^ms/g,Ke=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ge=function(e){return 45===e.charCodeAt(1)},Ze=function(e){return null!=e&&"boolean"!==typeof e},Qe=We(function(e){return Ge(e)?e:e.replace(He,"-$&").toLowerCase()}),Ye=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ke,function(e,t,n){return Je={name:t,styles:n,next:Je},t})}return 1===qe[e]||Ge(e)||"number"!==typeof t||0===t?t:t+"px"};function Xe(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Je={name:i.name,styles:i.styles,next:Je},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)Je={name:s.name,styles:s.styles,next:Je},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xe(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Ze(a)&&(r+=Qe(o)+":"+Ye(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Xe(e,t,s);switch(o){case"animation":case"animationName":r+=Qe(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Ze(s[c])&&(r+=Qe(o)+":"+Ye(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Je,l=n(e);return Je=a,Xe(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Je,$e=/label:\s*([^\s;{]+)\s*(;|$)/g;function et(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Je=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Xe(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=Xe(n,t,e[s]),r)i+=o[s]}$e.lastIndex=0;for(var a,l="";null!==(a=$e.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Je}}var tt=!!t.useInsertionEffect&&t.useInsertionEffect,nt=tt||function(e){return e()},rt=tt||e.useLayoutEffect,it=e.createContext("undefined"!==typeof HTMLElement?je({key:"css"}):null),ot=(it.Provider,function(t){return(0,e.forwardRef)(function(n,r){var i=(0,e.useContext)(it);return t(n,i,r)})}),st=e.createContext({});var at={}.hasOwnProperty,lt="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ct=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Be(t,n,r),nt(function(){return Ve(t,n,r)}),null},ut=ot(function(t,n,r){var i=t.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var o=t[lt],s=[i],a="";"string"===typeof t.className?a=Ue(n.registered,s,t.className):null!=t.className&&(a=t.className+" ");var l=et(s,void 0,e.useContext(st));a+=n.key+"-"+l.name;var c={};for(var u in t)at.call(t,u)&&"css"!==u&&u!==lt&&(c[u]=t[u]);return c.className=a,r&&(c.ref=r),e.createElement(e.Fragment,null,e.createElement(ct,{cache:n,serialized:l,isStringTag:"string"===typeof o}),e.createElement(o,c))}),ht=ut,dt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ft=We(function(e){return dt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),pt=function(e){return"theme"!==e},mt=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ft:pt},gt=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},vt=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Be(t,n,r),nt(function(){return Ve(t,n,r)}),null},yt=function t(n,r){var i,o,s=n.__emotion_real===n,a=s&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var l=gt(n,r,s),c=l||mt(a),u=!c("as");return function(){var h=arguments,d=s&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{var f=h[0];d.push(f[0]);for(var p=h.length,m=1;m<p;m++)d.push(h[m],f[m])}var g=ot(function(t,n,r){var i=u&&t.as||a,s="",h=[],f=t;if(null==t.theme){for(var p in f={},t)f[p]=t[p];f.theme=e.useContext(st)}"string"===typeof t.className?s=Ue(n.registered,h,t.className):null!=t.className&&(s=t.className+" ");var m=et(d.concat(h),n.registered,f);s+=n.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?mt(i):c,v={};for(var y in t)u&&"as"===y||g(y)&&(v[y]=t[y]);return v.className=s,r&&(v.ref=r),e.createElement(e.Fragment,null,e.createElement(vt,{cache:n,serialized:m,isStringTag:"string"===typeof i}),e.createElement(i,v))});return g.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=d,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(e,n){return t(e,z({},r,n,{shouldForwardProp:gt(g,n,!0)})).apply(void 0,d)},g}}.bind(null);function _t(e,t){return yt(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){yt[e]=yt(e)});const bt=[];function wt(e){return bt[0]=e,et(bt)}var St=n(191);function xt(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kt(t){if(e.isValidElement(t)||(0,St.Hy)(t)||!xt(t))return t;const n={};return Object.keys(t).forEach(e=>{n[e]=kt(t[e])}),n}function Ct(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=r.clone?l({},t):t;return xt(t)&&xt(n)&&Object.keys(n).forEach(o=>{e.isValidElement(n[o])||(0,St.Hy)(n[o])?i[o]=n[o]:xt(n[o])&&Object.prototype.hasOwnProperty.call(t,o)&&xt(t[o])?i[o]=Ct(t[o],n[o],r):r.clone?i[o]=xt(n[o])?kt(n[o]):n[o]:i[o]=n[o]}),i}const Tt=["values","unit","step"];function Et(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=f(e,Tt),o=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>l(l({},e),{},{[t.key]:t.val}),{})})(t),s=Object.keys(o);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function u(e,i){const o=s.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100).concat(n,")")}return l({keys:s,values:o,up:a,down:c,between:u,only:function(e){return s.indexOf(e)+1<s.length?u(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?c(s[t]):u(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}function It(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)});return n.length?n.reduce((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e},l({},t)):t}const Pt={borderRadius:4},At={xs:0,sm:600,md:900,lg:1200,xl:1536},Nt={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(At[e],"px)")},Rt={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:At[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function Lt(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||Nt;return t.reduce((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r),{})}if("object"===typeof t){const e=r.breakpoints||Nt;return Object.keys(t).reduce((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:Rt,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||At).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i},{})}return n(t)}function Ot(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce((e,n)=>(e[t.up(n)]={},e),{}))||{}}function Mt(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function Dt(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e),{})}function zt(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function Ft(e){if("string"!==typeof e)throw new Error(zt(7));return e.charAt(0).toUpperCase()+e.slice(1)}function jt(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function Ut(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:jt(e,n)||i,t&&(r=t(r,i,e)),r}const Bt=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=jt(e.theme,r)||{};return Lt(e,o,e=>{let r=Ut(s,i,e);return e===r&&"string"===typeof e&&(r=Ut(s,i,"".concat(t).concat("default"===e?"":Ft(e)),e)),!1===n?r:{[n]:r}})};return o.propTypes={},o.filterProps=[t],o};const Vt=function(e,t){return t?Ct(e,t,{clone:!1}):e};const qt={m:"margin",p:"padding"},Wt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ht={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Kt=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!Ht[e])return[e];e=Ht[e]}const[t,n]=e.split(""),r=qt[t],i=Wt[n]||"";return Array.isArray(i)?i.map(e=>r+e):[r+i]}),Gt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Zt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Qt=[...Gt,...Zt];function Yt(e,t,n,r){var i;const o=null!==(i=jt(e,t,!0))&&void 0!==i?i:n;return"number"===typeof o||"string"===typeof o?e=>"string"===typeof e?e:"string"===typeof o?o.startsWith("var(")&&0===e?0:o.startsWith("var(")&&1===e?o:"calc(".concat(e," * ").concat(o,")"):o*e:Array.isArray(o)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=o[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof o?o:()=>{}}function Xt(e){return Yt(e,"spacing",8)}function Jt(e,t){return"string"===typeof t||null==t?t:e(t)}function $t(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce((e,r)=>(e[r]=Jt(t,n),e),{})}(Kt(n),r);return Lt(e,e[n],i)}function en(e,t){const n=Xt(e.theme);return Object.keys(e).map(r=>$t(e,t,r,n)).reduce(Vt,{})}function tn(e){return en(e,Gt)}function nn(e){return en(e,Zt)}function rn(e){return en(e,Qt)}tn.propTypes={},tn.filterProps=Gt,nn.propTypes={},nn.filterProps=Zt,rn.propTypes={},rn.filterProps=Qt;function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}const sn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),i=e=>Object.keys(e).reduce((t,n)=>r[n]?Vt(t,r[n](e)):t,{});return i.propTypes={},i.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),i};function an(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function ln(e,t){return Bt({prop:e,themeKey:"borders",transform:t})}const cn=ln("border",an),un=ln("borderTop",an),hn=ln("borderRight",an),dn=ln("borderBottom",an),fn=ln("borderLeft",an),pn=ln("borderColor"),mn=ln("borderTopColor"),gn=ln("borderRightColor"),vn=ln("borderBottomColor"),yn=ln("borderLeftColor"),_n=ln("outline",an),bn=ln("outlineColor"),wn=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Yt(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Jt(t,e)});return Lt(e,e.borderRadius,n)}return null};wn.propTypes={},wn.filterProps=["borderRadius"];sn(cn,un,hn,dn,fn,pn,mn,gn,vn,yn,wn,_n,bn);const Sn=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Yt(e.theme,"spacing",8),n=e=>({gap:Jt(t,e)});return Lt(e,e.gap,n)}return null};Sn.propTypes={},Sn.filterProps=["gap"];const xn=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Yt(e.theme,"spacing",8),n=e=>({columnGap:Jt(t,e)});return Lt(e,e.columnGap,n)}return null};xn.propTypes={},xn.filterProps=["columnGap"];const kn=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Yt(e.theme,"spacing",8),n=e=>({rowGap:Jt(t,e)});return Lt(e,e.rowGap,n)}return null};kn.propTypes={},kn.filterProps=["rowGap"];sn(Sn,xn,kn,Bt({prop:"gridColumn"}),Bt({prop:"gridRow"}),Bt({prop:"gridAutoFlow"}),Bt({prop:"gridAutoColumns"}),Bt({prop:"gridAutoRows"}),Bt({prop:"gridTemplateColumns"}),Bt({prop:"gridTemplateRows"}),Bt({prop:"gridTemplateAreas"}),Bt({prop:"gridArea"}));function Cn(e,t){return"grey"===t?t:e}sn(Bt({prop:"color",themeKey:"palette",transform:Cn}),Bt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cn}),Bt({prop:"backgroundColor",themeKey:"palette",transform:Cn}));function Tn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const En=Bt({prop:"width",transform:Tn}),In=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||At[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:Tn(t)}};return Lt(e,e.maxWidth,t)}return null};In.filterProps=["maxWidth"];const Pn=Bt({prop:"minWidth",transform:Tn}),An=Bt({prop:"height",transform:Tn}),Nn=Bt({prop:"maxHeight",transform:Tn}),Rn=Bt({prop:"minHeight",transform:Tn}),Ln=(Bt({prop:"size",cssProperty:"width",transform:Tn}),Bt({prop:"size",cssProperty:"height",transform:Tn}),sn(En,In,Pn,An,Nn,Rn,Bt({prop:"boxSizing"})),{border:{themeKey:"borders",transform:an},borderTop:{themeKey:"borders",transform:an},borderRight:{themeKey:"borders",transform:an},borderBottom:{themeKey:"borders",transform:an},borderLeft:{themeKey:"borders",transform:an},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:an},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wn},color:{themeKey:"palette",transform:Cn},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cn},backgroundColor:{themeKey:"palette",transform:Cn},p:{style:nn},pt:{style:nn},pr:{style:nn},pb:{style:nn},pl:{style:nn},px:{style:nn},py:{style:nn},padding:{style:nn},paddingTop:{style:nn},paddingRight:{style:nn},paddingBottom:{style:nn},paddingLeft:{style:nn},paddingX:{style:nn},paddingY:{style:nn},paddingInline:{style:nn},paddingInlineStart:{style:nn},paddingInlineEnd:{style:nn},paddingBlock:{style:nn},paddingBlockStart:{style:nn},paddingBlockEnd:{style:nn},m:{style:tn},mt:{style:tn},mr:{style:tn},mb:{style:tn},ml:{style:tn},mx:{style:tn},my:{style:tn},margin:{style:tn},marginTop:{style:tn},marginRight:{style:tn},marginBottom:{style:tn},marginLeft:{style:tn},marginX:{style:tn},marginY:{style:tn},marginInline:{style:tn},marginInlineStart:{style:tn},marginInlineEnd:{style:tn},marginBlock:{style:tn},marginBlockStart:{style:tn},marginBlockEnd:{style:tn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sn},rowGap:{style:kn},columnGap:{style:xn},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Tn},maxWidth:{style:In},minWidth:{transform:Tn},height:{transform:Tn},maxHeight:{transform:Tn},minHeight:{transform:Tn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const On=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=jt(n,a)||{};if(c)return c(i);return Lt(i,t,t=>{let n=Ut(u,l,t);return t===n&&"string"===typeof t&&(n=Ut(u,l,"".concat(e).concat("default"===t?"":Ft(t)),t)),!1===s?n:{[s]:n}})}return function t(n){var r;const{sx:i,theme:o={},nested:s}=n||{};if(!i)return null;const a=null!==(r=o.unstable_sxConfig)&&void 0!==r?r:Ln;function l(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=Ot(o.breakpoints),l=Object.keys(i);let c=i;return Object.keys(r).forEach(n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],o);if(null!==i&&void 0!==i)if("object"===typeof i)if(a[n])c=Vt(c,e(n,i,o,a));else{const e=Lt({theme:o},i,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),i=new Set(r);return t.every(e=>i.size===Object.keys(e).length)}(e,i)?c=Vt(c,e):c[n]=t({sx:i,theme:o,nested:!0})}else c=Vt(c,e(n,i,o,a))}),!s&&o.modularCssLayers?{"@layer sx":It(o,Mt(l,c))}:It(o,Mt(l,c))}return Array.isArray(i)?i.map(l):l(i)}}();On.filterProps=["sx"];const Mn=On;function Dn(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const zn=["breakpoints","palette","spacing","shape"];const Fn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=f(e,zn),s=Et(t),a=on(r);let c=Ct({breakpoints:s,direction:"ltr",components:{},palette:l({mode:"light"},n),spacing:a,shape:l(l({},Pt),i)},o);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),l(l({},e),{},{containerQueries:i})}(c),c.applyStyles=Dn;for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return c=h.reduce((e,t)=>Ct(e,t),c),c.unstable_sxConfig=l(l({},Ln),null===o||void 0===o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return Mn({sx:e,theme:this})},c},jn=["variants"];function Un(e){const{variants:t}=e,n=f(e,jn),r={variants:t,style:wt(n),isProcessed:!0};return r.style===n||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=wt(e.style))}),r}const Bn=["variants"],Vn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],qn=Fn();function Wn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Hn(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function Kn(e){return e?(t,n)=>n[e]:null}function Gn(e,t,n){const r="function"===typeof t?t(e):t;if(Array.isArray(r))return r.flatMap(t=>Gn(e,t,n));if(Array.isArray(null===r||void 0===r?void 0:r.variants)){let t;if(r.isProcessed)t=n?Hn(r.style,n):r.style;else{const{variants:e}=r,i=f(r,Bn);t=n?Hn(wt(i),n):i}return Zn(e,r.variants,[t],n)}return null!==r&&void 0!==r&&r.isProcessed?n?Hn(wt(r.style),n):r.style:n?Hn(wt(r),n):r}function Zn(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let s=0;s<t.length;s+=1){const a=t[s];if("function"===typeof a.props){if(null!==n&&void 0!==n||(n=l(l(l({},e),e.ownerState),{},{ownerState:e.ownerState})),!a.props(n))continue}else for(const t in a.props){var o;if(e[t]!==a.props[t]&&(null===(o=e.ownerState)||void 0===o?void 0:o[t])!==a.props[t])continue e}"function"===typeof a.style?(null!==n&&void 0!==n||(n=l(l(l({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(i?Hn(wt(a.style(n)),i):a.style(n))):r.push(i?Hn(wt(a.style),i):a.style)}return r}function Qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=qn,rootShouldForwardProp:r=Wn,slotShouldForwardProp:i=Wn}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==Mn));const{name:n,slot:s,skipVariantsResolver:a,skipSx:c,overridesResolver:u=Kn(Xn(s))}=t,h=f(t,Vn),d=n&&n.startsWith("Mui")||s?"components":"custom",p=void 0!==a?a:s&&"Root"!==s&&"root"!==s||!1,m=c||!1;let g=Wn;"Root"===s||"root"===s?g=r:s?g=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const v=_t(e,l({shouldForwardProp:g,label:Yn(n,s)},h)),y=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return Gn(t,e,t.theme.modularCssLayers?d:void 0)};if(xt(e)){const t=Un(e);return function(e){return t.variants?Gn(e,t,e.theme.modularCssLayers?d:void 0):e.theme.modularCssLayers?Hn(t.style,d):t.style}}return e},_=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(y),l=[];if(t.push(o),n&&u&&l.push(function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Gn(e,r[n],e.theme.modularCssLayers?"theme":void 0);return u(e,i)}),n&&!p&&l.push(function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?Zn(e,i,[],e.theme.modularCssLayers?"theme":void 0):null}),m||l.push(Mn),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const c=[...t,...a,...l],h=v(...c);return e.muiName&&(h.muiName=e.muiName),h};return v.withConfig&&(_.withConfig=v.withConfig),_}}function Yn(e,t){}function Xn(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const Jn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function $n(e){return Jn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function er(e){if(e.type)return e;if("#"===e.charAt(0))return er(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(zt(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(zt(10,r))}else i=i.split(",");return i=i.map(e=>parseFloat(e)),{type:n,values:i,colorSpace:r}}const tr=(e,t)=>{try{return(e=>{const t=er(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")})(e)}catch(fA){return e}};function nr(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function rr(e){e=er(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),nr({type:a,values:l})}function ir(e){let t="hsl"===(e=er(e)).type||"hsla"===e.type?er(rr(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function or(e,t){return e=er(e),t=$n(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,nr(e)}function sr(e,t,n){try{return or(e,t)}catch(fA){return e}}function ar(e,t){if(e=er(e),t=$n(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return nr(e)}function lr(e,t,n){try{return ar(e,t)}catch(fA){return e}}function cr(e,t){if(e=er(e),t=$n(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return nr(e)}function ur(e,t,n){try{return cr(e,t)}catch(fA){return e}}function hr(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return ir(e)>.5?ar(e,t):cr(e,t)}(e,t)}catch(fA){return e}}const dr={black:"#000",white:"#fff"},fr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},pr={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},mr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},gr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},vr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},yr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},_r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},br=["mode","contrastThreshold","tonalOffset","colorSpace"];function wr(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:dr.white,default:dr.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Sr=wr();function xr(){return{text:{primary:dr.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:dr.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const kr=xr();function Cr(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=cr(e.main,i):"dark"===t&&(e.dark=ar(e.main,o)))}function Tr(e,t,n,r,i){const o=i.light||i,s=i.dark||1.5*i;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*o).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*s).toFixed(0),"%)")))}function Er(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i}=e,o=f(e,br),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:vr[200],light:vr[50],dark:vr[400]}:{main:vr[700],light:vr[400],dark:vr[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pr[200],light:pr[50],dark:pr[400]}:{main:pr[500],light:pr[300],dark:pr[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:mr[500],light:mr[300],dark:mr[700]}:{main:mr[700],light:mr[400],dark:mr[800]}}(t),u=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:yr[400],light:yr[300],dark:yr[700]}:{main:yr[700],light:yr[500],dark:yr[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_r[400],light:_r[300],dark:_r[700]}:{main:_r[800],light:_r[500],dark:_r[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gr[400],light:gr[300],dark:gr[700]}:{main:"#ed6c02",light:gr[500],dark:gr[900]}}(t);function p(e){if(i)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=ir(e),r=ir(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,kr.text.primary)>=n?kr.text.primary:Sr.text.primary;return t}const m=e=>{let{color:t,name:n,mainShade:o=500,lightShade:s=300,darkShade:a=700}=e;if(t=l({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error(zt(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error(zt(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return i?(Tr(i,t,"light",s,r),Tr(i,t,"dark",a,r)):(Cr(t,"light",s,r),Cr(t,"dark",a,r)),t.contrastText||(t.contrastText=p(t.main)),t};let g;"light"===t?g=wr():"dark"===t&&(g=xr());return Ct(l({common:l({},dr),mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:d,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:h,name:"success"}),grey:fr,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r},g),o)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(o):", var(--".concat(e?"".concat(e,"-"):"").concat(o).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function Pr(e){const t={};return Object.entries(e).forEach(e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))}),t}const Ar=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])})};function Nr(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};var a,l;return a=(e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(i,{[r]:l}),Ar(o,e,"var(".concat(r,")"),a),Ar(s,e,"var(".concat(r,", ").concat(l,")"),a)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach(t=>{let[i,o]=t;(!l||l&&!l([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...n,i],Array.isArray(o)?[...r,i]:r):a([...n,i],o,r))})}(e),{css:i,vars:o,varsWithDefaults:s}}const Rr=["colorSchemes","components","defaultColorScheme"];const Lr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:s}=t,{colorSchemes:a={},components:c,defaultColorScheme:u="light"}=e,h=f(e,Rr),{vars:d,css:p,varsWithDefaults:m}=Nr(h,t);let g=m;const v={},{[u]:y}=a,_=f(a,[u].map(o));if(Object.entries(_||{}).forEach(e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=Nr(r,t);g=Ct(g,s),v[n]={css:o,vars:i}}),y){const{css:e,vars:n,varsWithDefaults:r}=Nr(y,t);g=Ct(g,r),v[u]={css:e,vars:n}}function b(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var o;if(e.defaultColorScheme===t)return":root";const r=(null===(o=a[t])||void 0===o||null===(o=o.palette)||void 0===o?void 0:o.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:g,generateThemeVars:()=>{let e=l({},d);return Object.entries(v).forEach(t=>{let[,{vars:n}]=t;e=Ct(e,n)}),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function c(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:l({},n)}:e)}c(n(void 0,l({},p)),p);const{[i]:u}=v,h=f(v,[i].map(o));if(u){var d;const{css:e}=u,t=null===(d=a[i])||void 0===d||null===(d=d.palette)||void 0===d?void 0:d.mode,o=l(!r&&t?{colorScheme:t}:{},e);c(n(i,l({},o)),o)}return Object.entries(h).forEach(e=>{var t;let[i,{css:o}]=e;const s=null===(t=a[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,u=l(!r&&s?{colorScheme:s}:{},o);c(n(i,l({},u)),u)}),s&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function Or(e,t){return l({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Mr=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const Dr={textTransform:"uppercase"},zr='"Roboto", "Helvetica", "Arial", sans-serif';function Fr(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=zr,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:d}=n,p=f(n,Mr);const m=i/14,g=d||(e=>"".concat(e/u*m,"rem")),v=(e,t,n,i,o)=>{return l(l(l({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===zr?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{}),o),h);var s},y={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,Dr),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,Dr),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ct(l({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c},y),p,{clone:!1})}function jr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Ur=["none",jr(0,2,1,-1,0,1,1,0,0,1,3,0),jr(0,3,1,-2,0,2,2,0,0,1,5,0),jr(0,3,3,-2,0,3,4,0,0,1,8,0),jr(0,2,4,-1,0,4,5,0,0,1,10,0),jr(0,3,5,-1,0,5,8,0,0,1,14,0),jr(0,3,5,-1,0,6,10,0,0,1,18,0),jr(0,4,5,-2,0,7,10,1,0,2,16,1),jr(0,5,5,-3,0,8,10,1,0,3,14,2),jr(0,5,6,-3,0,9,12,1,0,3,16,2),jr(0,6,6,-3,0,10,14,1,0,4,18,3),jr(0,6,7,-4,0,11,15,1,0,4,20,3),jr(0,7,8,-4,0,12,17,2,0,5,22,4),jr(0,7,8,-4,0,13,19,2,0,5,24,4),jr(0,7,9,-4,0,14,21,2,0,5,26,4),jr(0,8,9,-5,0,15,22,2,0,6,28,5),jr(0,8,10,-5,0,16,24,2,0,6,30,5),jr(0,8,11,-5,0,17,26,2,0,6,32,5),jr(0,9,11,-5,0,18,28,2,0,7,34,6),jr(0,9,12,-6,0,19,29,2,0,7,36,6),jr(0,10,13,-6,0,20,31,3,0,8,38,7),jr(0,10,13,-6,0,21,33,3,0,8,40,7),jr(0,10,14,-6,0,22,35,3,0,8,42,7),jr(0,11,14,-7,0,23,36,3,0,9,44,8),jr(0,11,15,-7,0,24,38,3,0,9,46,8)],Br=["duration","easing","delay"],Vr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Wr(e){return"".concat(Math.round(e),"ms")}function Hr(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Kr(e){const t=l(l({},Vr),e.easing),n=l(l({},qr),e.duration);return l(l({getAutoHeightDuration:Hr,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0}=r;f(r,Br);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof i?i:Wr(i)," ").concat(o," ").concat("string"===typeof s?s:Wr(s))).join(",")}},e),{},{easing:t,duration:n})}const Gr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Zr(e){return xt(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function Qr(){const e=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,o]=n[r];!Zr(o)||i.startsWith("unstable_")?delete t[i]:xt(o)&&(t[i]=l({},o),e(t[i]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const Yr=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function Xr(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function Jr(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):r.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):or(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n})(n))},lighten(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #fff ").concat(Xr(n),")"):cr(t,n)},darken(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #000 ").concat(Xr(n),")"):ar(t,n)}})}const $r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:a,colorSpace:c}=e,u=f(e,Yr);if(e.vars&&void 0===e.generateThemeVars)throw new Error(zt(20));const h=Er(l(l({},i),{},{colorSpace:c})),d=Fn(e);let p=Ct(d,{mixins:Or(d.breakpoints,n),palette:h,shadows:Ur.slice(),typography:Fr(h,s),transitions:Kr(o),zIndex:l({},Gr)});p=Ct(p,u);for(var m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];return p=g.reduce((e,t)=>Ct(e,t),p),p.unstable_sxConfig=l(l({},Ln),null===u||void 0===u?void 0:u.unstable_sxConfig),p.unstable_sx=function(e){return Mn({sx:e,theme:this})},p.toRuntimeSource=Qr,Jr(p),p};function ei(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const ti=["palette","opacity","overlays","colorSpace"],ni=[...Array(25)].map((e,t)=>{if(0===t)return"none";const n=ei(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")});function ri(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function ii(e){return"dark"===e?ni:[]}function oi(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const si=e=>[...[...Array(25)].map((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],ai=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(o="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return si(e.cssVarPrefix).forEach(e=>{i[e]=n[e],delete n[e]}),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,["".concat(r,", ").concat(o.replace("%s",t))]:n}:{[r]:l(l({},n),i)}}if(o&&"media"!==o)return"".concat(r,", ").concat(o.replace("%s",String(t)))}else if(t){if("media"===o)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r},li=["palette"],ci=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function ui(e,t,n){!e[t]&&n&&(e[t]=n)}function hi(e){return"string"===typeof e&&e.startsWith("hsl")?rr(e):e}function di(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=tr(hi(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const fi=e=>{try{return e()}catch(fA){}};function pi(e,t,n,r,i){var o,s,a;if(!n)return;n=!0===n?{}:n;const c="dark"===i?"dark":"light";var u;if(!r)return void(t[i]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:i}=e,o=f(e,ti),s=Er(l(l({},t),{},{colorSpace:i}));return l({palette:s,opacity:l(l({},ri(s.mode)),n),overlays:r||ii(s.mode)},o)}(l(l({},n),{},{palette:l({mode:c},null===(u=n)||void 0===u?void 0:u.palette),colorSpace:e})));const h=$r(l(l({},r),{},{palette:l({mode:c},null===(o=n)||void 0===o?void 0:o.palette),colorSpace:e})),{palette:d}=h,p=f(h,li);return t[i]=l(l({},n),{},{palette:d,opacity:l(l({},ri(c)),null===(s=n)||void 0===s?void 0:s.opacity),overlays:(null===(a=n)||void 0===a?void 0:a.overlays)||ii(c)}),p}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=oi,colorSchemeSelector:c=(t.light&&t.dark?"media":void 0),rootSelector:u=":root"}=e,h=f(e,ci),d=Object.keys(t)[0],p=n||(t.light&&"light"!==d?"light":d),m=function(){return Ir(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[p]:g,light:v,dark:y}=t,_=l({},f(t,[p,"light","dark"].map(o)));let b,w=g;if(("dark"===p&&!("dark"in t)||"light"===p&&!("light"in t))&&(w=!0),!w)throw new Error(zt(21,p));s&&(b="oklch");const S=pi(b,_,w,h,p);v&&!_.light&&pi(b,_,v,void 0,"light"),y&&!_.dark&&pi(b,_,y,void 0,"dark");let x=l(l({defaultColorScheme:p},S),{},{cssVarPrefix:i,colorSchemeSelector:c,rootSelector:u,getCssVar:m,colorSchemes:_,font:l(l({},Pr(S.typography)),S.font),spacing:(k=h.spacing,"number"===typeof k?"".concat(k,"px"):"string"===typeof k||"function"===typeof k||Array.isArray(k)?k:"8px")});var k;Object.keys(x.colorSchemes).forEach(e=>{const t=x.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return m(e,t[r][i])};function r(e,t,n){if(b){let r;return e===sr&&(r="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===lr&&(r="#000 ".concat((100*n).toFixed(0),"%")),e===ur&&(r="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(b,", ").concat(t,", ").concat(r,")")}return e(t,n)}var i;if("light"===t.mode&&(ui(t.common,"background","#fff"),ui(t.common,"onBackground","#000")),"dark"===t.mode&&(ui(t.common,"background","#000"),ui(t.common,"onBackground","#fff")),i=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{i[e]||(i[e]={})}),"light"===t.mode){ui(t.Alert,"errorColor",r(lr,t.error.light,.6)),ui(t.Alert,"infoColor",r(lr,t.info.light,.6)),ui(t.Alert,"successColor",r(lr,t.success.light,.6)),ui(t.Alert,"warningColor",r(lr,t.warning.light,.6)),ui(t.Alert,"errorFilledBg",n("palette-error-main")),ui(t.Alert,"infoFilledBg",n("palette-info-main")),ui(t.Alert,"successFilledBg",n("palette-success-main")),ui(t.Alert,"warningFilledBg",n("palette-warning-main")),ui(t.Alert,"errorFilledColor",fi(()=>t.getContrastText(t.error.main))),ui(t.Alert,"infoFilledColor",fi(()=>t.getContrastText(t.info.main))),ui(t.Alert,"successFilledColor",fi(()=>t.getContrastText(t.success.main))),ui(t.Alert,"warningFilledColor",fi(()=>t.getContrastText(t.warning.main))),ui(t.Alert,"errorStandardBg",r(ur,t.error.light,.9)),ui(t.Alert,"infoStandardBg",r(ur,t.info.light,.9)),ui(t.Alert,"successStandardBg",r(ur,t.success.light,.9)),ui(t.Alert,"warningStandardBg",r(ur,t.warning.light,.9)),ui(t.Alert,"errorIconColor",n("palette-error-main")),ui(t.Alert,"infoIconColor",n("palette-info-main")),ui(t.Alert,"successIconColor",n("palette-success-main")),ui(t.Alert,"warningIconColor",n("palette-warning-main")),ui(t.AppBar,"defaultBg",n("palette-grey-100")),ui(t.Avatar,"defaultBg",n("palette-grey-400")),ui(t.Button,"inheritContainedBg",n("palette-grey-300")),ui(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),ui(t.Chip,"defaultBorder",n("palette-grey-400")),ui(t.Chip,"defaultAvatarColor",n("palette-grey-700")),ui(t.Chip,"defaultIconColor",n("palette-grey-700")),ui(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ui(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ui(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ui(t.LinearProgress,"primaryBg",r(ur,t.primary.main,.62)),ui(t.LinearProgress,"secondaryBg",r(ur,t.secondary.main,.62)),ui(t.LinearProgress,"errorBg",r(ur,t.error.main,.62)),ui(t.LinearProgress,"infoBg",r(ur,t.info.main,.62)),ui(t.LinearProgress,"successBg",r(ur,t.success.main,.62)),ui(t.LinearProgress,"warningBg",r(ur,t.warning.main,.62)),ui(t.Skeleton,"bg",b?r(sr,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),ui(t.Slider,"primaryTrack",r(ur,t.primary.main,.62)),ui(t.Slider,"secondaryTrack",r(ur,t.secondary.main,.62)),ui(t.Slider,"errorTrack",r(ur,t.error.main,.62)),ui(t.Slider,"infoTrack",r(ur,t.info.main,.62)),ui(t.Slider,"successTrack",r(ur,t.success.main,.62)),ui(t.Slider,"warningTrack",r(ur,t.warning.main,.62));const e=b?r(lr,t.background.default,.6825):hr(t.background.default,.8);ui(t.SnackbarContent,"bg",e),ui(t.SnackbarContent,"color",fi(()=>b?kr.text.primary:t.getContrastText(e))),ui(t.SpeedDialAction,"fabHoverBg",hr(t.background.paper,.15)),ui(t.StepConnector,"border",n("palette-grey-400")),ui(t.StepContent,"border",n("palette-grey-400")),ui(t.Switch,"defaultColor",n("palette-common-white")),ui(t.Switch,"defaultDisabledColor",n("palette-grey-100")),ui(t.Switch,"primaryDisabledColor",r(ur,t.primary.main,.62)),ui(t.Switch,"secondaryDisabledColor",r(ur,t.secondary.main,.62)),ui(t.Switch,"errorDisabledColor",r(ur,t.error.main,.62)),ui(t.Switch,"infoDisabledColor",r(ur,t.info.main,.62)),ui(t.Switch,"successDisabledColor",r(ur,t.success.main,.62)),ui(t.Switch,"warningDisabledColor",r(ur,t.warning.main,.62)),ui(t.TableCell,"border",r(ur,r(sr,t.divider,1),.88)),ui(t.Tooltip,"bg",r(sr,t.grey[700],.92))}if("dark"===t.mode){ui(t.Alert,"errorColor",r(ur,t.error.light,.6)),ui(t.Alert,"infoColor",r(ur,t.info.light,.6)),ui(t.Alert,"successColor",r(ur,t.success.light,.6)),ui(t.Alert,"warningColor",r(ur,t.warning.light,.6)),ui(t.Alert,"errorFilledBg",n("palette-error-dark")),ui(t.Alert,"infoFilledBg",n("palette-info-dark")),ui(t.Alert,"successFilledBg",n("palette-success-dark")),ui(t.Alert,"warningFilledBg",n("palette-warning-dark")),ui(t.Alert,"errorFilledColor",fi(()=>t.getContrastText(t.error.dark))),ui(t.Alert,"infoFilledColor",fi(()=>t.getContrastText(t.info.dark))),ui(t.Alert,"successFilledColor",fi(()=>t.getContrastText(t.success.dark))),ui(t.Alert,"warningFilledColor",fi(()=>t.getContrastText(t.warning.dark))),ui(t.Alert,"errorStandardBg",r(lr,t.error.light,.9)),ui(t.Alert,"infoStandardBg",r(lr,t.info.light,.9)),ui(t.Alert,"successStandardBg",r(lr,t.success.light,.9)),ui(t.Alert,"warningStandardBg",r(lr,t.warning.light,.9)),ui(t.Alert,"errorIconColor",n("palette-error-main")),ui(t.Alert,"infoIconColor",n("palette-info-main")),ui(t.Alert,"successIconColor",n("palette-success-main")),ui(t.Alert,"warningIconColor",n("palette-warning-main")),ui(t.AppBar,"defaultBg",n("palette-grey-900")),ui(t.AppBar,"darkBg",n("palette-background-paper")),ui(t.AppBar,"darkColor",n("palette-text-primary")),ui(t.Avatar,"defaultBg",n("palette-grey-600")),ui(t.Button,"inheritContainedBg",n("palette-grey-800")),ui(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),ui(t.Chip,"defaultBorder",n("palette-grey-700")),ui(t.Chip,"defaultAvatarColor",n("palette-grey-300")),ui(t.Chip,"defaultIconColor",n("palette-grey-300")),ui(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ui(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ui(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ui(t.LinearProgress,"primaryBg",r(lr,t.primary.main,.5)),ui(t.LinearProgress,"secondaryBg",r(lr,t.secondary.main,.5)),ui(t.LinearProgress,"errorBg",r(lr,t.error.main,.5)),ui(t.LinearProgress,"infoBg",r(lr,t.info.main,.5)),ui(t.LinearProgress,"successBg",r(lr,t.success.main,.5)),ui(t.LinearProgress,"warningBg",r(lr,t.warning.main,.5)),ui(t.Skeleton,"bg",b?r(sr,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),ui(t.Slider,"primaryTrack",r(lr,t.primary.main,.5)),ui(t.Slider,"secondaryTrack",r(lr,t.secondary.main,.5)),ui(t.Slider,"errorTrack",r(lr,t.error.main,.5)),ui(t.Slider,"infoTrack",r(lr,t.info.main,.5)),ui(t.Slider,"successTrack",r(lr,t.success.main,.5)),ui(t.Slider,"warningTrack",r(lr,t.warning.main,.5));const e=b?r(ur,t.background.default,.985):hr(t.background.default,.98);ui(t.SnackbarContent,"bg",e),ui(t.SnackbarContent,"color",fi(()=>b?Sr.text.primary:t.getContrastText(e))),ui(t.SpeedDialAction,"fabHoverBg",hr(t.background.paper,.15)),ui(t.StepConnector,"border",n("palette-grey-600")),ui(t.StepContent,"border",n("palette-grey-600")),ui(t.Switch,"defaultColor",n("palette-grey-300")),ui(t.Switch,"defaultDisabledColor",n("palette-grey-600")),ui(t.Switch,"primaryDisabledColor",r(lr,t.primary.main,.55)),ui(t.Switch,"secondaryDisabledColor",r(lr,t.secondary.main,.55)),ui(t.Switch,"errorDisabledColor",r(lr,t.error.main,.55)),ui(t.Switch,"infoDisabledColor",r(lr,t.info.main,.55)),ui(t.Switch,"successDisabledColor",r(lr,t.success.main,.55)),ui(t.Switch,"warningDisabledColor",r(lr,t.warning.main,.55)),ui(t.TableCell,"border",r(lr,r(sr,t.divider,1),.68)),ui(t.Tooltip,"bg",r(sr,t.grey[700],.92))}di(t.background,"default"),di(t.background,"paper"),di(t.common,"background"),di(t.common,"onBackground"),di(t,"divider"),Object.keys(t).forEach(e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&ui(t[e],"mainChannel",tr(hi(n.main))),n.light&&ui(t[e],"lightChannel",tr(hi(n.light))),n.dark&&ui(t[e],"darkChannel",tr(hi(n.dark))),n.contrastText&&ui(t[e],"contrastTextChannel",tr(hi(n.contrastText))),"text"===e&&(di(t[e],"primary"),di(t[e],"secondary")),"action"===e&&(n.active&&di(t[e],"active"),n.selected&&di(t[e],"selected")))})});for(var C=arguments.length,T=new Array(C>1?C-1:0),E=1;E<C;E++)T[E-1]=arguments[E];x=T.reduce((e,t)=>Ct(e,t),x);const I={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:a,getSelector:ai(x),enableContrastVars:s},{vars:P,generateThemeVars:A,generateStyleSheets:N}=Lr(x,I);return x.vars=P,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(e=>{let[t,n]=e;x[t]=n}),x.generateThemeVars=A,x.generateStyleSheets=N,x.generateSpacing=function(){return on(h.spacing,Xt(this))},x.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(c),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=a,x.unstable_sxConfig=l(l({},Ln),null===h||void 0===h?void 0:h.unstable_sxConfig),x.unstable_sx=function(e){return Mn({sx:e,theme:this})},x.toRuntimeSource=Qr,x}const gi=["palette","cssVariables","colorSchemes","defaultColorScheme"];function vi(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=l(l({},!0!==n&&n),{},{palette:Er(l(l({},!0===n?{}:n.palette),{},{mode:t}))}))}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=f(e,gi),s=i||"light",a=null===r||void 0===r?void 0:r[s],c=l(l({},r),t?{[s]:l(l({},"boolean"!==typeof a&&a),{},{palette:t})}:void 0);for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return $r(e,...h);let n=t;"palette"in e||c[s]&&(!0!==c[s]?n=c[s].palette:"dark"===s&&(n={mode:"dark"}));const r=$r(l(l({},e),{},{palette:n}),...h);return r.defaultColorScheme=s,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=l(l({},!0!==c.light&&c.light),{},{palette:r.palette}),vi(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=l(l({},!0!==c.dark&&c.dark),{},{palette:r.palette}),vi(r,"light",c.light)),r}return t||"light"in c||"light"!==s||(c.light=!0),mi(l(l({},o),{},{colorSchemes:c,defaultColorScheme:s},"boolean"!==typeof n&&n),...h)}const _i=yi(),bi="$$material";const wi=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Si=e=>wi(e)&&"classes"!==e,xi=Qn({themeId:bi,defaultTheme:_i,rootShouldForwardProp:Si});function ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=l({},t);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=i;if("components"===o||"slots"===o)r[o]=l(l({},e[o]),r[o]);else if("componentsProps"===o||"slotProps"===o){const i=e[o],s=t[o];if(s)if(i){r[o]=l({},s);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const t=e;r[o][t]=ki(i[t],s[t],n)}}else r[o]=s;else r[o]=i||{}}else"className"===o&&n&&t.className?r.className=M(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===o&&n&&t.style?r.style=l(l({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===r[o]&&(r[o]=e[o])}return r}var Ci=n(579);const Ti=e.createContext(void 0);function Ei(t){let{props:n,name:r}=t;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?ki(i.defaultProps,r,t.components.mergeClassNameAndStyle):i.styleOverrides||i.variants?r:ki(i,r,t.components.mergeClassNameAndStyle)}({props:n,name:r,theme:{components:e.useContext(Ti)}})}function Ii(e){return Ei(e)}const Pi=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=e.useContext(st);return n&&(r=n,0!==Object.keys(r).length)?n:t;var r},Ai=Fn();const Ni=function(){return Pi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai)};function Ri(){const e=Ni(_i);return e[bi]||e}const Li={theme:void 0};const Oi=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(Li.theme=r.theme,i=Un(e(Li)),t=i,n=r.theme),i}},Mi=e=>e,Di=(()=>{let e=Mi;return{configure(t){e=t},generate:t=>e(t),reset(){e=Mi}}})(),zi={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Fi(e,t){const n=zi[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(Di.generate(e),"-").concat(t)}function ji(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=Fi(e,t,n)}),r}function Ui(e){return Fi("MuiPaper",e)}ji("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Bi=["className","component","elevation","square","variant"],Vi=xi("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(Oi(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),qi=e.forwardRef(function(e,t){var n;const r=Ii({props:e,name:"MuiPaper"}),i=Ri(),{className:o,component:s="div",elevation:a=1,square:c=!1,variant:u="elevation"}=r,h=f(r,Bi),d=l(l({},r),{},{component:s,elevation:a,square:c,variant:u}),p=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return D({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Ui,i)})(d);return(0,Ci.jsx)(Vi,l(l({as:s,ownerState:d,className:M(p.root,o),ref:t},h),{},{style:l(l({},"elevation"===u&&l(l({"--Paper-shadow":(i.vars||i).shadows[a]},i.vars&&{"--Paper-overlay":null===(n=i.vars.overlays)||void 0===n?void 0:n[a]}),!i.vars&&"dark"===i.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(or("#fff",ei(a)),", ").concat(or("#fff",ei(a)),")")})),h.style)}))}),Wi=qi;function Hi(e){return Fi("MuiCard",e)}ji("MuiCard",["root"]);const Ki=["className","raised"],Gi=xi(Wi,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Zi=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=f(n,Ki),s=l(l({},n),{},{raised:i}),a=(e=>{const{classes:t}=e;return D({root:["root"]},Hi,t)})(s);return(0,Ci.jsx)(Gi,l({className:M(a.root,r),elevation:i?8:void 0,ref:t,ownerState:s},o))}),Qi=Zi;function Yi(e){return Fi("MuiCardContent",e)}ji("MuiCardContent",["root"]);const Xi=["className","component"],Ji=xi("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),$i=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=f(n,Xi),s=l(l({},n),{},{component:i}),a=(e=>{const{classes:t}=e;return D({root:["root"]},Yi,t)})(s);return(0,Ci.jsx)(Ji,l({as:i,className:M(a.root,r),ownerState:s,ref:t},o))}),eo=$i,to=["sx"];function no(e){const{sx:t}=e,n=f(e,to),{systemProps:r,otherProps:i}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:Ln;return Object.keys(e).forEach(t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return xt(e)?l(l({},r),e):r}:l(l({},r),t),l(l({},i),{},{sx:o})}n(219);var ro=function(t,n){var r=arguments;if(null==n||!at.call(n,"css"))return e.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=ht,o[1]=function(e,t){var n={};for(var r in t)at.call(t,r)&&(n[r]=t[r]);return n[lt]=e,n}(t,n);for(var s=2;s<i;s++)o[s]=r[s];return e.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(ro||(ro={}));var io=ot(function(t,n){var r=et([t.styles],void 0,e.useContext(st)),i=e.useRef();return rt(function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",e),t.hydrate([s])),i.current=[t,o],function(){t.flush()}},[n]),rt(function(){var e=i.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&Ve(n,r.next,!0),t.tags.length){var o=t.tags[t.tags.length-1].nextElementSibling;t.before=o,t.flush()}n.insert("",r,t,!1)}},[n,r.name]),null});function oo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return et(t)}function so(){var e=oo.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function ao(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,Ci.jsx)(io,{styles:r})}function lo(e){const t=wt(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const co=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=Ni(r),o=n&&i[n]||i;let s="function"===typeof t?t(o):t;return o.modularCssLayers&&(s=Array.isArray(s)?s.map(e=>lo("function"===typeof e?e(o):e)):lo(s)),(0,Ci.jsx)(ao,{styles:s})};const uo=function(e){return(0,Ci.jsx)(co,l(l({},e),{},{defaultTheme:_i,themeId:bi}))};const ho=Ft;function fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function po(e){return Fi("MuiTypography",e)}ji("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const mo=["color"],go=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],vo={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},yo=no,_o=xi("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(ho(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Oi(e=>{var t;let{theme:n}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n}).map(e=>{let[t,n]=e;return{props:{variant:t},style:n}}),...Object.entries(n.palette).filter(fo()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}}),...Object.entries((null===(t=n.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat(ho(t))},style:{color:(n.vars||n).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),bo={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},wo=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiTypography"}),{color:r}=n,i=f(n,mo),o=!vo[r],s=yo(l(l({},i),o&&{color:r})),{align:a="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:d=!1,paragraph:p=!1,variant:m="body1",variantMapping:g=bo}=s,v=f(s,go),y=l(l({},s),{},{align:a,color:r,className:c,component:u,gutterBottom:h,noWrap:d,paragraph:p,variant:m,variantMapping:g}),_=u||(p?"p":g[m]||bo[m])||"span",b=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return D({root:["root",o,"inherit"!==e.align&&"align".concat(ho(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},po,s)})(y);return(0,Ci.jsx)(_o,l(l({as:_,ref:t,className:M(b.root,c)},v),{},{ownerState:y,style:l(l({},"inherit"!==a&&{"--Typography-textAlign":a}),v.style)}))}),So=wo,xo=Qn();function ko(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=Ni(r);return i&&(o=o[i]||o),function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?ki(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t})}const Co=["component","direction","spacing","divider","children","className","useFlexGap"],To=Fn(),Eo=xo("div",{name:"MuiStack",slot:"Root"});function Io(e){return ko({props:e,name:"MuiStack",defaultTheme:To})}function Po(t,n){const r=e.Children.toArray(t).filter(Boolean);return r.reduce((t,i,o)=>(t.push(i),o<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(o)})),t),[])}const Ao=e=>{let{ownerState:t,theme:n}=e,r=l({display:"flex",flexDirection:"column"},Lt({theme:n},Dt({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=Xt(n),i=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),o=Dt({values:t.direction,base:i}),s=Dt({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}});r=Ct(r,Lt({theme:n},s,(n,r)=>{return t.useFlexGap?{gap:Jt(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:Jt(e,n)}};var i}))}return r=function(e){const t=Ot(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=[t,...r].reduce((e,t)=>Ct(e,t),{});return Mt(Object.keys(t),o)}(n.breakpoints,r),r};const No=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Eo,useThemeProps:r=Io,componentName:i="MuiStack"}=t,o=n(Ao),s=e.forwardRef(function(e,t){const n=no(r(e)),{component:s="div",direction:a="column",spacing:c=0,divider:u,children:h,className:d,useFlexGap:p=!1}=n,m=f(n,Co),g={direction:a,spacing:c,useFlexGap:p},v=D({root:["root"]},e=>Fi(i,e),{});return(0,Ci.jsx)(o,l(l({as:s,ownerState:g,ref:t,className:M(v.root,d)},m),{},{children:u?Po(h,u):h}))});return s}({createStyledComponent:xi("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>Ii({props:e,name:"MuiStack"})}),Ro=No;function Lo(e){return Fi("MuiSvgIcon",e)}ji("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Oo=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Mo=xi("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(ho(n.color))],t["fontSize".concat(ho(n.fontSize))]]}})(Oi(e=>{var t,n,r,i,o,s,a,l,c,u,h,d,f,p,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(i=g.vars)&&void 0!==i?i:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(s=o.pxToRem)||void 0===s?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(l=a.pxToRem)||void 0===l?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(h=g.vars)&&void 0!==h?h:g).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(d=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===d||null===(d=d.action)||void 0===d?void 0:d.active}},{props:{color:"disabled"},style:{color:null===(p=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Do=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,m=f(r,Oo),g=e.isValidElement(i)&&"svg"===i.type,v=l(l({},r),{},{color:s,component:a,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:p,hasSvgAsChild:g}),y={};h||(y.viewBox=p);const _=(e=>{const{color:t,fontSize:n,classes:r}=e;return D({root:["root","inherit"!==t&&"color".concat(ho(t)),"fontSize".concat(ho(n))]},Lo,r)})(v);return(0,Ci.jsxs)(Mo,l(l(l(l({as:a,className:M(_.root,o),focusable:"false",color:u,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:n},y),m),g&&i.props),{},{ownerState:v,children:[g?i.props.children:i,d?(0,Ci.jsx)("title",{children:d}):null]}))});Do.muiName="SvgIcon";const zo=Do;function Fo(t,n){function r(e,n){return(0,Ci.jsx)(zo,l(l({"data-testid":void 0,ref:n},e),{},{children:t}))}return r.muiName=zo.muiName,e.memo(e.forwardRef(r))}const jo=Fo((0,Ci.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Uo(e){return Fi("MuiAvatar",e)}ji("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);function Bo(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.useRef(void 0),o=e.useCallback(e=>{const t=n.map(t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}});return()=>{t.forEach(e=>null===e||void 0===e?void 0:e())}},n);return e.useMemo(()=>n.every(e=>null==e)?null:e=>{i.current&&(i.current(),i.current=void 0),null!=e&&(i.current=o(e))},n)}const Vo=function(e){return"string"===typeof e};const qo=function(e,t,n){return void 0===e||Vo(e)?t:l(l({},t),{},{ownerState:l(l({},t.ownerState),n)})};const Wo=function(e,t,n){return"function"===typeof e?e(t,n):e};const Ho=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const Ko=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const Go=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=M(null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),t=l(l(l({},null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),s=l(l(l({},n),i),r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=Ho(l(l({},i),r)),a=Ko(r),c=Ko(i),u=t(s),h=M(null===u||void 0===u?void 0:u.className,null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),d=l(l(l(l({},null===u||void 0===u?void 0:u.style),null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),f=l(l(l(l({},u),n),c),a);return h.length>0&&(f.className=h),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:u.ref}},Zo=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],Qo=["component","slots","slotProps"],Yo=["component"];function Xo(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1}=t,c=f(t,Zo),{component:u,slots:h={[e]:void 0},slotProps:d={[e]:void 0}}=o,p=f(o,Qo),m=h[e]||r,g=Wo(d[e],i),v=Go(l(l({className:n},c),{},{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:g})),{props:{component:y},internalRef:_}=v,b=f(v.props,Yo),w=Bo(_,null===g||void 0===g?void 0:g.ref,t.ref),S="root"===e?y||u:y;return[m,qo(m,l(l(l(l(l(l({},"root"===e&&!u&&!h[e]&&s),"root"!==e&&!h[e]&&s),b),S&&!a&&{as:S}),S&&a&&{component:S}),{},{ref:w}),i)]}const Jo=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],$o=xi("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(Oi(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:l({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:l({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),es=xi("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ts=xi(jo,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});const ns=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:c={},slotProps:u={},imgProps:h,sizes:d,src:p,srcSet:m,variant:g="circular"}=r,v=f(r,Jo);let y=null;const _=l(l({},r),{},{component:a,variant:g}),b=function(t){let{crossOrigin:n,referrerPolicy:r,src:i,srcSet:o}=t;const[s,a]=e.useState(!1);return e.useEffect(()=>{if(!i&&!o)return;a(!1);let e=!0;const t=new Image;return t.onload=()=>{e&&a("loaded")},t.onerror=()=>{e&&a("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,o&&(t.srcset=o),()=>{e=!1}},[n,r,i,o]),s}(l(l(l({},h),"function"===typeof u.img?u.img(_):u.img),{},{src:p,srcSet:m})),w=p||m,S=w&&"error"!==b;_.colorDefault=!S,delete _.ownerState;const x=(e=>{const{classes:t,variant:n,colorDefault:r}=e;return D({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Uo,t)})(_),[k,C]=Xo("root",{ref:n,className:M(x.root,s),elementType:$o,externalForwardedProps:l({slots:c,slotProps:u,component:a},v),ownerState:_}),[T,E]=Xo("img",{className:x.img,elementType:es,externalForwardedProps:{slots:c,slotProps:{img:l(l({},h),u.img)}},additionalProps:{alt:i,src:p,srcSet:m,sizes:d},ownerState:_}),[I,P]=Xo("fallback",{className:x.fallback,elementType:ts,externalForwardedProps:{slots:c,slotProps:u},shouldForwardComponentProp:!0,ownerState:_});return y=S?(0,Ci.jsx)(T,l({},E)):o||0===o?o:w&&i?i[0]:(0,Ci.jsx)(I,l({},P)),(0,Ci.jsx)(k,l(l({},C),{},{children:y}))}),rs=ns,is=["className","component"];const os=ji("MuiBox",["root"]),ss=yi(),as=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=t,s=_t("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Mn),a=e.forwardRef(function(e,t){const a=Ni(r),c=no(e),{className:u,component:h="div"}=c,d=f(c,is);return(0,Ci.jsx)(s,l({as:h,ref:t,className:M(u,o?o(i):i),theme:n&&a[n]||a},d))});return a}({themeId:bi,defaultTheme:ss,defaultClassName:os.root,generateClassName:Di.generate}),ls=as,cs={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},us=e.createContext();const hs=()=>{const t=e.useContext(us);return null!==t&&void 0!==t&&t};function ds(e){try{return e.matches(":focus-visible")}catch(fA){0}return!1}let fs=0;const ps=l({},t).useId;function ms(t){if(void 0!==ps){const e=ps();return null!==t&&void 0!==t?t:e}return function(t){const[n,r]=e.useState(t),i=t||n;return e.useEffect(()=>{null==n&&(fs+=1,r("mui-".concat(fs)))},[n]),i}(t)}const gs=ms;const vs=function(t){const{controlled:n,default:r,name:i,state:o="value"}=t,{current:s}=e.useRef(void 0!==n),[a,l]=e.useState(r);return[s?n:a,e.useCallback(e=>{s||l(e)},[])]},ys=Bo,_s=Fo((0,Ci.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),bs=Fo((0,Ci.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function ws(e){return Fi("MuiRating",e)}const Ss=ji("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),xs=["value"],ks=["component","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value","slots","slotProps"];function Cs(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const Ts=xi("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Ss.visuallyHidden)]:t.visuallyHidden},t.root,t["size".concat(ho(n.size))],n.readOnly&&t.readOnly]}})(Oi(e=>{let{theme:t}=e;return{display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",["&.".concat(Ss.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(Ss.focusVisible," .").concat(Ss.iconActive)]:{outline:"1px solid #999"},["& .".concat(Ss.visuallyHidden)]:cs,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:e=>{let{ownerState:t}=e;return t.readOnly},style:{pointerEvents:"none"}}]}})),Es=xi("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})({cursor:"inherit",variants:[{props:e=>{let{ownerState:t}=e;return t.emptyValueFocused},style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),Is=xi("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(Oi(e=>{let{theme:t}=e;return{display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return t.iconActive},style:{transform:"scale(1.2)"}},{props:e=>{let{ownerState:t}=e;return t.iconEmpty},style:{color:(t.vars||t).palette.action.disabled}}]}})),Ps=xi("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>wi(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})({position:"relative",variants:[{props:e=>{let{iconActive:t}=e;return t},style:{transform:"scale(1.2)"}}]});function As(e){const{value:t}=e,n=f(e,xs);return(0,Ci.jsx)("span",l({},n))}function Ns(t){const{classes:n,disabled:r,emptyIcon:i,focus:o,getLabelText:s,highlightSelectedOnly:a,hover:c,icon:u,IconContainerComponent:h,isActive:d,itemValue:f,labelProps:p,name:m,onBlur:g,onChange:v,onClick:y,onFocus:_,readOnly:b,ownerState:w,ratingValue:S,ratingValueRounded:x,slots:k={},slotProps:C={}}=t,T=a?f===S:f<=S,E=f<=c,I=f<=o,P=f===x,A="".concat(m,"-").concat(gs()),N={slots:k,slotProps:C},[R,L]=Xo("icon",{elementType:Is,className:M(n.icon,T?n.iconFilled:n.iconEmpty,E&&n.iconHover,I&&n.iconFocus,d&&n.iconActive),externalForwardedProps:N,ownerState:l(l({},w),{},{iconEmpty:!T,iconFilled:T,iconHover:E,iconFocus:I,iconActive:d}),additionalProps:{value:f},internalForwardedProps:{as:h}}),[O,D]=Xo("label",{elementType:Es,externalForwardedProps:N,ownerState:l(l({},w),{},{emptyValueFocused:void 0}),additionalProps:{style:null===p||void 0===p?void 0:p.style,htmlFor:A}}),z=(0,Ci.jsx)(R,l(l({},L),{},{children:i&&!T?i:u}));return b?(0,Ci.jsx)("span",l(l({},p),{},{children:z})):(0,Ci.jsxs)(e.Fragment,{children:[(0,Ci.jsxs)(O,l(l({},D),{},{children:[z,(0,Ci.jsx)("span",{className:n.visuallyHidden,children:s(f)})]})),(0,Ci.jsx)("input",{className:n.visuallyHidden,onFocus:_,onBlur:g,onChange:v,onClick:y,disabled:r,value:f,id:A,type:"radio",name:m,checked:P})]})}const Rs=(0,Ci.jsx)(_s,{fontSize:"inherit"}),Ls=(0,Ci.jsx)(bs,{fontSize:"inherit"});function Os(e){return"".concat(e||"0"," Star").concat(1!==e?"s":"")}const Ms=e.forwardRef(function(t,n){const r=Ii({name:"MuiRating",props:t}),{component:i="span",className:o,defaultValue:s=null,disabled:a=!1,emptyIcon:c=Ls,emptyLabelText:u="Empty",getLabelText:h=Os,highlightSelectedOnly:d=!1,icon:p=Rs,IconContainerComponent:m=As,max:g=5,name:v,onChange:y,onChangeActive:_,onMouseLeave:b,onMouseMove:w,precision:S=1,readOnly:x=!1,size:k="medium",value:C,slots:T={},slotProps:E={}}=r,I=f(r,ks),P=gs(v),[A,N]=vs({controlled:C,default:s,name:"Rating"}),R=Cs(A,S),L=hs(),[{hover:O,focus:z},F]=e.useState({hover:-1,focus:-1});let j=R;-1!==O&&(j=O),-1!==z&&(j=z);const[U,B]=e.useState(!1),V=e.useRef(),q=ys(V,n),W=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==O&&(t=O),N(t),y&&y(e,t)},H=e=>{0===e.clientX&&0===e.clientY||(F({hover:-1,focus:-1}),N(null),y&&parseFloat(e.target.value)===R&&y(e,null))},K=e=>{ds(e.target)&&B(!0);const t=parseFloat(e.target.value);F(e=>({hover:e.hover,focus:t}))},G=e=>{if(-1!==O)return;ds(e.target)||B(!1);F(e=>({hover:e.hover,focus:-1}))},[Z,Q]=e.useState(!1),Y=l(l({},r),{},{component:i,defaultValue:s,disabled:a,emptyIcon:c,emptyLabelText:u,emptyValueFocused:Z,focusVisible:U,getLabelText:h,icon:p,IconContainerComponent:m,max:g,precision:S,readOnly:x,size:k}),X=(e=>{const{classes:t,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=e;return D({root:["root","size".concat(ho(n)),i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},ws,t)})(Y),J={slots:T,slotProps:E},[$,ee]=Xo("root",{ref:q,className:M(X.root,o),elementType:Ts,externalForwardedProps:l(l(l({},J),I),{},{component:i}),getSlotProps:e=>l(l({},e),{},{onMouseMove:t=>{var n;(e=>{w&&w(e);const t=V.current,{right:n,left:r,width:i}=t.getBoundingClientRect();let o;o=L?(n-e.clientX)/i:(e.clientX-r)/i;let s=Cs(g*o+S/2,S);s=Jn(s,S,g),F(e=>e.hover===s&&e.focus===s?e:{hover:s,focus:s}),B(!1),_&&O!==s&&_(e,s)})(t),null===(n=e.onMouseMove)||void 0===n||n.call(e,t)},onMouseLeave:t=>{var n;(e=>{b&&b(e),F({hover:-1,focus:-1}),_&&-1!==O&&_(e,-1)})(t),null===(n=e.onMouseLeave)||void 0===n||n.call(e,t)}}),ownerState:Y,additionalProps:{role:x?"img":null,"aria-label":x?h(j):null}}),[te,ne]=Xo("label",{className:M(X.label,X.labelEmptyValue),elementType:Es,externalForwardedProps:J,ownerState:Y}),[re,ie]=Xo("decimal",{className:X.decimal,elementType:Ps,externalForwardedProps:J,ownerState:Y});return(0,Ci.jsxs)($,l(l({},ee),{},{children:[Array.from(new Array(g)).map((t,n)=>{const r=n+1,i={classes:X,disabled:a,emptyIcon:c,focus:z,getLabelText:h,highlightSelectedOnly:d,hover:O,icon:p,IconContainerComponent:m,name:P,onBlur:G,onChange:W,onClick:H,onFocus:K,ratingValue:j,ratingValueRounded:R,readOnly:x,ownerState:Y,slots:T,slotProps:E},o=r===Math.ceil(j)&&(-1!==O||-1!==z);if(S<1){const t=Array.from(new Array(1/S));return(0,e.createElement)(re,l(l({},ie),{},{key:r,className:M(ie.className,o&&X.iconActive),iconActive:o}),t.map((e,n)=>{const o=Cs(r-1+(n+1)*S,S);return(0,Ci.jsx)(Ns,l(l({},i),{},{isActive:!1,itemValue:o,labelProps:{style:t.length-1===n?{}:{width:o===j?"".concat((n+1)*S*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),o)}))}return(0,Ci.jsx)(Ns,l(l({},i),{},{isActive:o,itemValue:r}),r)}),!x&&!a&&(0,Ci.jsxs)(te,l(l({},ne),{},{children:[(0,Ci.jsx)("input",{className:X.visuallyHidden,value:"",id:"".concat(P,"-empty"),type:"radio",name:P,checked:null==R,onFocus:()=>Q(!0),onBlur:()=>Q(!1),onChange:W}),(0,Ci.jsx)("span",{className:X.visuallyHidden,children:u})]}))]}))}),Ds=Ms;function zs(e){return Fi("MuiDivider",e)}ji("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Fs=["absolute","children","className","orientation","component","flexItem","light","role","textAlign","variant"],js=xi("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(Oi(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),Us=xi("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(Oi(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}})),Bs=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,orientation:s="horizontal",component:a=(i||"vertical"===s?"div":"hr"),flexItem:c=!1,light:u=!1,role:h=("hr"!==a?"separator":void 0),textAlign:d="center",variant:p="fullWidth"}=n,m=f(n,Fs),g=l(l({},n),{},{absolute:r,component:a,flexItem:c,light:u,orientation:s,role:h,textAlign:d,variant:p}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return D({root:["root",t&&"absolute",l,o&&"light","vertical"===s&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},zs,r)})(g);return(0,Ci.jsx)(js,l(l({as:a,className:M(v.root,o),role:h,ref:t,ownerState:g,"aria-orientation":"separator"!==h||"hr"===a&&"vertical"!==s?void 0:s},m),{},{children:i?(0,Ci.jsx)(Us,{className:v.wrapper,ownerState:g,children:i}):null}))});Bs&&(Bs.muiSkipListHighlight=!0);const Vs=Bs,qs="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;const Ws=function(t){const n=e.useRef(t);return qs(()=>{n.current=t}),e.useRef(function(){return(0,n.current)(...arguments)}).current},Hs=Ws,Ks={};function Gs(t,n){const r=e.useRef(Ks);return r.current===Ks&&(r.current=t(n)),r}class Zs{static create(){return new Zs}static use(){const t=Gs(Zs.create).current,[n,r]=e.useState(!1);return t.shouldMount=n,t.setShouldMount=r,e.useEffect(t.mountEffect,[n]),t}constructor(){s(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())}),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)})}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)})}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)})}}function Qs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ys(e,t){return Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ys(e,t)}function Xs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ys(e,t)}const Js=e.createContext(null);function $s(t,n){var r=Object.create(null);return t&&e.Children.map(t,function(e){return e}).forEach(function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)}),r}function ea(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ta(t,n,r){var i=$s(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach(function(s){var a=o[s];if((0,e.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],h=(0,e.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,e.isValidElement)(u)&&(o[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:ea(a,"exit",t),enter:ea(a,"enter",t)})):o[s]=(0,e.cloneElement)(a,{in:!1}):o[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:ea(a,"exit",t),enter:ea(a,"enter",t)})}}),o}var na=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ra=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Xs(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=t,i=s,$s(r.children,function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:ea(t,"appear",r),enter:ea(t,"enter",r),exit:ea(t,"exit",r)})})):ta(t,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=$s(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=z({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=d(t,["component","childFactory"]),o=this.state.contextValue,s=na(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Js.Provider,{value:o},s):e.createElement(Js.Provider,{value:o},e.createElement(n,i,s))},n}(e.Component);ra.propTypes={},ra.defaultProps={component:"div",childFactory:function(e){return e}};const ia=ra,oa=[];class sa{constructor(){s(this,"currentId",null),s(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),s(this,"disposeEffect",()=>this.clear)}static create(){return new sa}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function aa(){const t=Gs(sa.create).current;var n;return n=t.disposeEffect,e.useEffect(n,oa),t}const la=function(t){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=t,[h,d]=e.useState(!1),f=M(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),p={width:a,height:a,top:-a/2+s,left:-a/2+o},m=M(r.child,h&&r.childLeaving,i&&r.childPulsate);return l||h||d(!0),e.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}},[c,l,u]),(0,Ci.jsx)("span",{className:f,style:p,children:(0,Ci.jsx)("span",{className:m})})};const ca=ji("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ua=["center","classes","className"];var ha,da,fa,pa;const ma=so(ha||(ha=Qs(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),ga=so(da||(da=Qs(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),va=so(fa||(fa=Qs(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),ya=xi("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),_a=xi(la,{name:"MuiTouchRipple",slot:"Ripple"})(pa||(pa=Qs(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),ca.rippleVisible,ma,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},ca.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},ca.child,ca.childLeaving,ga,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},ca.childPulsate,va,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),ba=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=f(r,ua),[c,u]=e.useState([]),h=e.useRef(0),d=e.useRef(null);e.useEffect(()=>{d.current&&(d.current(),d.current=null)},[c]);const p=e.useRef(!1),m=aa(),g=e.useRef(null),v=e.useRef(null),y=e.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;u(e=>[...e,(0,Ci.jsx)(_a,{classes:{ripple:M(o.ripple,ca.ripple),rippleVisible:M(o.rippleVisible,ca.rippleVisible),ripplePulsate:M(o.ripplePulsate,ca.ripplePulsate),child:M(o.child,ca.child),childLeaving:M(o.childLeaving,ca.childLeaving),childPulsate:M(o.childPulsate,ca.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},h.current)]),h.current+=1,d.current=s},[o]),_=e.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&p.current)return void(p.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(p.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,h;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)h=Math.sqrt((2*l.width**2+l.height**2)/3),h%2===0&&(h+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;h=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:r,rippleX:c,rippleY:u,rippleSize:h,cb:n})},m.start(80,()=>{g.current&&(g.current(),g.current=null)})):y({pulsate:r,rippleX:c,rippleY:u,rippleSize:h,cb:n})},[i,y,m]),b=e.useCallback(()=>{_({},{pulsate:!0})},[_]),w=e.useCallback((e,t)=>{if(m.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,()=>{w(e,t)});g.current=null,u(e=>e.length>0?e.slice(1):e),d.current=t},[m]);return e.useImperativeHandle(n,()=>({pulsate:b,start:_,stop:w}),[b,_,w]),(0,Ci.jsx)(ya,l(l({className:M(ca.root,o.root,s),ref:v},a),{},{children:(0,Ci.jsx)(ia,{component:null,exit:!0,children:c})}))}),wa=ba;function Sa(e){return Fi("MuiButtonBase",e)}const xa=ji("MuiButtonBase",["root","disabled","focusVisible"]),ka=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Ca=xi("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(xa.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ta=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:d=!1,focusRipple:p=!1,focusVisibleClassName:m,LinkComponent:g="a",onBlur:v,onClick:y,onContextMenu:_,onDragLeave:b,onFocus:w,onFocusVisible:S,onKeyDown:x,onKeyUp:k,onMouseDown:C,onMouseLeave:T,onMouseUp:E,onTouchEnd:I,onTouchMove:P,onTouchStart:A,tabIndex:N=0,TouchRippleProps:R,touchRippleRef:L,type:O}=r,z=f(r,ka),F=e.useRef(null),j=Zs.use(),U=ys(j.ref,L),[B,V]=e.useState(!1);u&&B&&V(!1),e.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),F.current.focus()}}),[]);const q=j.shouldMount&&!h&&!u;e.useEffect(()=>{B&&p&&!h&&j.pulsate()},[h,p,B,j]);const W=Ea(j,"start",C,d),H=Ea(j,"stop",_,d),K=Ea(j,"stop",b,d),G=Ea(j,"stop",E,d),Z=Ea(j,"stop",e=>{B&&e.preventDefault(),T&&T(e)},d),Q=Ea(j,"start",A,d),Y=Ea(j,"stop",I,d),X=Ea(j,"stop",P,d),J=Ea(j,"stop",e=>{ds(e.target)||V(!1),v&&v(e)},!1),$=Hs(e=>{F.current||(F.current=e.currentTarget),ds(e.target)&&(V(!0),S&&S(e)),w&&w(e)}),ee=()=>{const e=F.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},te=Hs(e=>{p&&!e.repeat&&B&&" "===e.key&&j.stop(e,()=>{j.start(e)}),e.target===e.currentTarget&&ee()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&ee()&&"Enter"===e.key&&!u&&(e.preventDefault(),y&&y(e))}),ne=Hs(e=>{p&&" "===e.key&&B&&!e.defaultPrevented&&j.stop(e,()=>{j.pulsate(e)}),k&&k(e),y&&e.target===e.currentTarget&&ee()&&" "===e.key&&!e.defaultPrevented&&y(e)});let re=c;"button"===re&&(z.href||z.to)&&(re=g);const ie={};"button"===re?(ie.type=void 0===O?"button":O,ie.disabled=u):(z.href||z.to||(ie.role="button"),u&&(ie["aria-disabled"]=u));const oe=ys(n,F),se=l(l({},r),{},{centerRipple:o,component:c,disabled:u,disableRipple:h,disableTouchRipple:d,focusRipple:p,tabIndex:N,focusVisible:B}),ae=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=D({root:["root",t&&"disabled",n&&"focusVisible"]},Sa,i);return n&&r&&(o.root+=" ".concat(r)),o})(se);return(0,Ci.jsxs)(Ca,l(l(l({as:re,className:M(ae.root,a),ownerState:se,onBlur:J,onClick:y,onContextMenu:H,onFocus:$,onKeyDown:te,onKeyUp:ne,onMouseDown:W,onMouseLeave:Z,onMouseUp:G,onDragLeave:K,onTouchEnd:Y,onTouchMove:X,onTouchStart:Q,ref:oe,tabIndex:u?-1:N,type:O},ie),z),{},{children:[s,q?(0,Ci.jsx)(wa,l({ref:U,center:o},R)):null]}))});function Ea(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Hs(i=>(n&&n(i),r||e[t](i),!0))}const Ia=Ta;function Pa(e){return Fi("MuiCircularProgress",e)}ji("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Aa=["className","color","disableShrink","enableTrackSlot","size","style","thickness","value","variant"];var Na,Ra,La,Oa;const Ma=44,Da=so(Na||(Na=Qs(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),za=so(Ra||(Ra=Qs(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]))),Fa="string"!==typeof Da?oo(La||(La=Qs(["\n        animation: "," 1.4s linear infinite;\n      "])),Da):null,ja="string"!==typeof za?oo(Oa||(Oa=Qs(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),za):null,Ua=xi("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(ho(n.color))]]}})(Oi(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Fa||{animation:"".concat(Da," 1.4s linear infinite")}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})]}})),Ba=xi("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Va=xi("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(ho(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(Oi(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:ja||{animation:"".concat(za," 1.4s ease-in-out infinite")}}]}})),qa=xi("circle",{name:"MuiCircularProgress",slot:"Track"})(Oi(e=>{let{theme:t}=e;return{stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}})),Wa=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,enableTrackSlot:s=!1,size:a=40,style:c,thickness:u=3.6,value:h=0,variant:d="indeterminate"}=n,p=f(n,Aa),m=l(l({},n),{},{color:i,disableShrink:o,size:a,thickness:u,value:h,variant:d,enableTrackSlot:s}),g=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return D({root:["root",n,"color".concat(ho(r))],svg:["svg"],track:["track"],circle:["circle","circle".concat(ho(n)),i&&"circleDisableShrink"]},Pa,t)})(m),v={},y={},_={};if("determinate"===d){const e=2*Math.PI*((Ma-u)/2);v.strokeDasharray=e.toFixed(3),_["aria-valuenow"]=Math.round(h),v.strokeDashoffset="".concat(((100-h)/100*e).toFixed(3),"px"),y.transform="rotate(-90deg)"}return(0,Ci.jsx)(Ua,l(l(l({className:M(g.root,r),style:l(l({width:a,height:a},y),c),ownerState:m,ref:t,role:"progressbar"},_),p),{},{children:(0,Ci.jsxs)(Ba,{className:g.svg,ownerState:m,viewBox:"".concat(22," ").concat(22," ").concat(Ma," ").concat(Ma),children:[s?(0,Ci.jsx)(qa,{className:g.track,ownerState:m,cx:Ma,cy:Ma,r:(Ma-u)/2,fill:"none",strokeWidth:u,"aria-hidden":"true"}):null,(0,Ci.jsx)(Va,{className:g.circle,style:v,ownerState:m,cx:Ma,cy:Ma,r:(Ma-u)/2,fill:"none",strokeWidth:u})]})}))}),Ha=Wa;function Ka(e){return Fi("MuiButton",e)}const Ga=ji("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const Za=e.createContext({});const Qa=e.createContext(void 0),Ya=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","id","loading","loadingIndicator","loadingPosition","size","startIcon","type","variant"],Xa=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Ja=xi(Ia,{shouldForwardProp:e=>Si(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(ho(n.color))],t["size".concat(ho(n.size))],t["".concat(n.variant,"Size").concat(ho(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Oi(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return l(l({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(Ga.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(Ga.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(Ga.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(Ga.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(Ga.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(Ga.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),["&.".concat(Ga.loading)]:{color:"transparent"}}}]})})),$a=xi("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t["iconSize".concat(ho(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Xa]}}),el=xi("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t["iconSize".concat(ho(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Xa]}}),tl=xi("span",{name:"MuiButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}}),nl=xi("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),rl=e.forwardRef(function(t,n){const r=e.useContext(Za),i=e.useContext(Qa),o=Ii({props:ki(r,t),name:"MuiButton"}),{children:s,color:a="primary",component:c="button",className:u,disabled:h=!1,disableElevation:d=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,id:y,loading:_=null,loadingIndicator:b,loadingPosition:w="center",size:S="medium",startIcon:x,type:k,variant:C="text"}=o,T=f(o,Ya),E=gs(y),I=null!==b&&void 0!==b?b:(0,Ci.jsx)(Ha,{"aria-labelledby":E,color:"inherit",size:16}),P=l(l({},o),{},{color:a,component:c,disabled:h,disableElevation:d,disableFocusRipple:p,fullWidth:v,loading:_,loadingIndicator:I,loadingPosition:w,size:S,type:k,variant:C}),A=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:c}=e,u=D({root:["root",s&&"loading",o,"".concat(o).concat(ho(t)),"size".concat(ho(i)),"".concat(o,"Size").concat(ho(i)),"color".concat(ho(t)),n&&"disableElevation",r&&"fullWidth",s&&"loadingPosition".concat(ho(a))],startIcon:["icon","startIcon","iconSize".concat(ho(i))],endIcon:["icon","endIcon","iconSize".concat(ho(i))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},Ka,c);return l(l({},c),u)})(P),N=(x||_&&"start"===w)&&(0,Ci.jsx)($a,{className:A.startIcon,ownerState:P,children:x||(0,Ci.jsx)(nl,{className:A.loadingIconPlaceholder,ownerState:P})}),R=(m||_&&"end"===w)&&(0,Ci.jsx)(el,{className:A.endIcon,ownerState:P,children:m||(0,Ci.jsx)(nl,{className:A.loadingIconPlaceholder,ownerState:P})}),L=i||"",O="boolean"===typeof _?(0,Ci.jsx)("span",{className:A.loadingWrapper,style:{display:"contents"},children:_&&(0,Ci.jsx)(tl,{className:A.loadingIndicator,ownerState:P,children:I})}):null;return(0,Ci.jsxs)(Ja,l(l({ownerState:P,className:M(r.className,A.root,u,L),component:c,disabled:h||_,focusRipple:!p,focusVisibleClassName:M(A.focusVisible,g),ref:n,type:k,id:_?E:y},T),{},{classes:A,children:[N,"end"!==w&&O,s,"end"===w&&O,R]}))}),il=rl;function ol(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout(()=>{e.apply(this,i)},n)}return r.clear=()=>{clearTimeout(t)},r}function sl(e){return e&&e.ownerDocument||document}function al(e){return sl(e).defaultView||window}const ll=["onChange","maxRows","minRows","style","value"];function cl(e){return parseInt(e,10)||0}const ul={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function hl(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const dl=e.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,c=f(t,ll),{current:u}=e.useRef(null!=a),h=e.useRef(null),d=Bo(n,h),p=e.useRef(null),m=e.useRef(null),g=e.useCallback(()=>{const e=h.current,n=m.current;if(!e||!n)return;const r=al(e).getComputedStyle(e);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=e.value||t.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=r.boxSizing,a=cl(r.paddingBottom)+cl(r.paddingTop),l=cl(r.borderBottomWidth)+cl(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let d=c;o&&(d=Math.max(Number(o)*u,d)),i&&(d=Math.min(Number(i)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===s?a+l:0),overflowing:Math.abs(d-c)<=1}},[i,o,t.placeholder]),v=Ws(()=>{const e=h.current,t=g();if(!e||!t||hl(t))return!1;const n=t.outerHeightStyle;return null!=p.current&&p.current!==n}),y=e.useCallback(()=>{const e=h.current,t=g();if(!e||!t||hl(t))return;const n=t.outerHeightStyle;p.current!==n&&(p.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[g]),_=e.useRef(-1);qs(()=>{const e=ol(y),t=null===h||void 0===h?void 0:h.current;if(!t)return;const n=al(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{v()&&(r.unobserve(t),cancelAnimationFrame(_.current),y(),_.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(_.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,y,v]),qs(()=>{y()});return(0,Ci.jsxs)(e.Fragment,{children:[(0,Ci.jsx)("textarea",l({value:a,onChange:e=>{u||y();const t=e.target,n=t.value.length,i=t.value.endsWith("\n"),o=t.selectionStart===n;i&&o&&t.setSelectionRange(n,n),r&&r(e)},ref:d,rows:o,style:s},c)),(0,Ci.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:l(l(l({},ul),s),{},{paddingTop:0,paddingBottom:0})})]})}),fl=dl;function pl(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}const ml=e.createContext(void 0);function gl(){return e.useContext(ml)}const vl=qs;function yl(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function _l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(yl(e.value)&&""!==e.value||t&&yl(e.defaultValue)&&""!==e.defaultValue)}function bl(e){return Fi("MuiInputBase",e)}const wl=ji("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Sl=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"];var xl;const kl=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(ho(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Cl=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Tl=xi("div",{name:"MuiInputBase",slot:"Root",overridesResolver:kl})(Oi(e=>{let{theme:t}=e;return l(l({},t.typography.body1),{},{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(wl.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]})})),El=xi("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Cl})(Oi(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=l(l({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5}),{},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(wl.formControl," &")]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},["&.".concat(wl.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Il=function(e){return function(t){return(0,Ci.jsx)(uo,{styles:"function"===typeof e?n=>e(l({theme:n},t)):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Pl=e.forwardRef(function(t,n){var r;const i=Ii({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:c,color:u,components:h={},componentsProps:d={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,error:y,fullWidth:_=!1,id:b,inputComponent:w="input",inputProps:S={},inputRef:x,margin:k,maxRows:C,minRows:T,multiline:E=!1,name:I,onBlur:P,onChange:A,onClick:N,onFocus:R,onKeyDown:L,onKeyUp:O,placeholder:z,readOnly:F,renderSuffix:j,rows:U,size:B,slotProps:V={},slots:q={},startAdornment:W,type:H="text",value:K}=i,G=f(i,Sl),Z=null!=S.value?S.value:K,{current:Q}=e.useRef(null!=Z),Y=e.useRef(),X=e.useCallback(e=>{0},[]),J=ys(Y,x,S.ref,X),[$,ee]=e.useState(!1),te=gl();const ne=pl({props:i,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ne.focused=te?te.focused:$,e.useEffect(()=>{!te&&m&&$&&(ee(!1),P&&P())},[te,m,$,P]);const re=te&&te.onFilled,ie=te&&te.onEmpty,oe=e.useCallback(e=>{_l(e)?re&&re():ie&&ie()},[re,ie]);vl(()=>{Q&&oe({value:Z})},[Z,oe,Q]);e.useEffect(()=>{oe(Y.current)},[]);let se=w,ae=S;E&&"input"===se&&(ae=l(U?{type:void 0,minRows:U,maxRows:U}:{type:void 0,maxRows:C,minRows:T},ae),se=fl);e.useEffect(()=>{te&&te.setAdornedStart(Boolean(W))},[te,W]);const le=l(l({},i),{},{color:ne.color||"primary",disabled:ne.disabled,endAdornment:v,error:ne.error,focused:ne.focused,formControl:te,fullWidth:_,hiddenLabel:ne.hiddenLabel,multiline:E,size:ne.size,startAdornment:W,type:H}),ce=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:h,size:d,startAdornment:f,type:p}=e;return D({root:["root","color".concat(ho(n)),r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",d&&"medium"!==d&&"size".concat(ho(d)),u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]},bl,t)})(le),ue=q.root||h.Root||Tl,he=V.root||d.root||{},de=q.input||h.Input||El;return ae=l(l({},ae),null!==(r=V.input)&&void 0!==r?r:d.input),(0,Ci.jsxs)(e.Fragment,{children:[!g&&"function"===typeof Il&&(xl||(xl=(0,Ci.jsx)(Il,{}))),(0,Ci.jsxs)(ue,l(l(l(l({},he),{},{ref:n,onClick:e=>{Y.current&&e.currentTarget===e.target&&Y.current.focus(),N&&N(e)}},G),!Vo(ue)&&{ownerState:l(l({},le),he.ownerState)}),{},{className:M(ce.root,he.className,c,F&&"MuiInputBase-readOnly"),children:[W,(0,Ci.jsx)(ml.Provider,{value:null,children:(0,Ci.jsx)(de,l(l(l({"aria-invalid":ne.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:p,disabled:ne.disabled,id:b,onAnimationStart:e=>{oe("mui-auto-fill-cancel"===e.animationName?Y.current:{value:"x"})},name:I,placeholder:z,readOnly:F,required:ne.required,rows:U,value:Z,onKeyDown:L,onKeyUp:O,type:H},ae),!Vo(de)&&{as:se,ownerState:l(l({},le),ae.ownerState)}),{},{ref:J,className:M(ce.input,ae.className,F&&"MuiInputBase-readOnly"),onBlur:e=>{P&&P(e),S.onBlur&&S.onBlur(e),te&&te.onBlur?te.onBlur(e):ee(!1)},onChange:function(e){if(!Q){const t=e.target||Y.current;if(null==t)throw new Error(zt(1));oe({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];S.onChange&&S.onChange(e,...n),A&&A(e,...n)},onFocus:e=>{R&&R(e),S.onFocus&&S.onFocus(e),te&&te.onFocus?te.onFocus(e):ee(!0)}}))}),v,j?j(l(l({},ne),{},{startAdornment:W})):null]}))]})}),Al=Pl;function Nl(e){return Fi("MuiInput",e)}const Rl=l(l({},wl),ji("MuiInput",["root","underline","input"])),Ll=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Ol=xi(Tl,{shouldForwardProp:e=>Si(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...kl(e,t),!n.disableUnderline&&t.underline]}})(Oi(e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Rl.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Rl.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Rl.disabled,", .").concat(Rl.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},["&.".concat(Rl.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n].main)}}}})]}})),Ml=xi(El,{name:"MuiInput",slot:"Input",overridesResolver:Cl})({}),Dl=e.forwardRef(function(e,t){var n,r,i,o;const s=Ii({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:c={},componentsProps:u,fullWidth:h=!1,inputComponent:d="input",multiline:p=!1,slotProps:m,slots:g={},type:v="text"}=s,y=f(s,Ll),_=(e=>{const{classes:t,disableUnderline:n}=e,r=D({root:["root",!n&&"underline"],input:["input"]},Nl,t);return l(l({},t),r)})(s),b={root:{ownerState:{disableUnderline:a}}},w=(null!==m&&void 0!==m?m:u)?Ct(null!==m&&void 0!==m?m:u,b):b,S=null!==(n=null!==(r=g.root)&&void 0!==r?r:c.Root)&&void 0!==n?n:Ol,x=null!==(i=null!==(o=g.input)&&void 0!==o?o:c.Input)&&void 0!==i?i:Ml;return(0,Ci.jsx)(Al,l(l({slots:{root:S,input:x},slotProps:w,fullWidth:h,inputComponent:d,multiline:p,ref:t,type:v},y),{},{classes:_}))});Dl.muiName="Input";const zl=Dl;function Fl(e){return Fi("MuiFilledInput",e)}const jl=l(l({},wl),ji("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])),Ul=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Bl=xi(Tl,{shouldForwardProp:e=>Si(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...kl(e,t),!n.disableUnderline&&t.underline]}})(Oi(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},["&.".concat(jl.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},["&.".concat(jl.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(jl.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(jl.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(jl.disabled,", .").concat(jl.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(jl.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(fo()).map(e=>{var n;let[r]=e;return{props:{disableUnderline:!1,color:r},style:{"&::after":{borderBottom:"2px solid ".concat(null===(n=(t.vars||t).palette[r])||void 0===n?void 0:n.main)}}}}),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}})),Vl=xi(El,{name:"MuiFilledInput",slot:"Input",overridesResolver:Cl})(Oi(e=>{let{theme:t}=e;return l(l(l({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]})})),ql=e.forwardRef(function(e,t){var n,r,i,o;const s=Ii({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:c={},componentsProps:u,fullWidth:h=!1,hiddenLabel:d,inputComponent:p="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=s,_=f(s,Ul),b=l(l({},s),{},{disableUnderline:a,fullWidth:h,inputComponent:p,multiline:m,type:y}),w=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,c=D({root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===o&&"size".concat(ho(o)),s&&"hiddenLabel",a&&"multiline"],input:["input"]},Fl,t);return l(l({},t),c)})(s),S={root:{ownerState:b},input:{ownerState:b}},x=(null!==g&&void 0!==g?g:u)?Ct(S,null!==g&&void 0!==g?g:u):S,k=null!==(n=null!==(r=v.root)&&void 0!==r?r:c.Root)&&void 0!==n?n:Bl,C=null!==(i=null!==(o=v.input)&&void 0!==o?o:c.Input)&&void 0!==i?i:Vl;return(0,Ci.jsx)(Al,l(l({slots:{root:k,input:C},slotProps:x,fullWidth:h,inputComponent:p,multiline:m,ref:t,type:y},_),{},{classes:w}))});ql.muiName="Input";const Wl=ql,Hl=["children","classes","className","label","notched"];var Kl;const Gl=xi("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Si})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Zl=xi("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Si})(Oi(e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function Ql(e){return Fi("MuiOutlinedInput",e)}const Yl=l(l({},wl),ji("MuiOutlinedInput",["root","notchedOutline","input"])),Xl=["components","fullWidth","inputComponent","label","multiline","notched","slots","slotProps","type"],Jl=xi(Tl,{shouldForwardProp:e=>Si(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:kl})(Oi(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(Yl.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(Yl.notchedOutline)]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}},["&.".concat(Yl.focused," .").concat(Yl.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(Yl.focused," .").concat(Yl.notchedOutline)]:{borderColor:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(Yl.error," .").concat(Yl.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(Yl.disabled," .").concat(Yl.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}})),$l=xi(function(e){const{children:t,classes:n,className:r,label:i,notched:o}=e,s=f(e,Hl),a=null!=i&&""!==i,c=l(l({},e),{},{notched:o,withLabel:a});return(0,Ci.jsx)(Gl,l(l({"aria-hidden":!0,className:r,ownerState:c},s),{},{children:(0,Ci.jsx)(Zl,{ownerState:c,children:a?(0,Ci.jsx)("span",{children:i}):Kl||(Kl=(0,Ci.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Oi(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}})),ec=xi(El,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Cl})(Oi(e=>{let{theme:t}=e;return l(l(l({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]})})),tc=e.forwardRef(function(t,n){var r,i,o,s;const a=Ii({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:h="input",label:d,multiline:p=!1,notched:m,slots:g={},slotProps:v={},type:y="text"}=a,_=f(a,Xl),b=(e=>{const{classes:t}=e,n=D({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ql,t);return l(l({},t),n)})(a),w=gl(),S=pl({props:a,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=l(l({},a),{},{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:u,hiddenLabel:S.hiddenLabel,multiline:p,size:S.size,type:y}),k=null!==(r=null!==(i=g.root)&&void 0!==i?i:c.Root)&&void 0!==r?r:Jl,C=null!==(o=null!==(s=g.input)&&void 0!==s?s:c.Input)&&void 0!==o?o:ec,[T,E]=Xo("notchedOutline",{elementType:$l,className:b.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:g,slotProps:v},additionalProps:{label:null!=d&&""!==d&&S.required?(0,Ci.jsxs)(e.Fragment,{children:[d,"\u2009","*"]}):d}});return(0,Ci.jsx)(Al,l(l({slots:{root:k,input:C},slotProps:v,renderSuffix:e=>(0,Ci.jsx)(T,l(l({},E),{},{notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})),fullWidth:u,inputComponent:h,multiline:p,ref:n,type:y},_),{},{classes:l(l({},b),{},{notchedOutline:null})}))});tc.muiName="Input";const nc=tc;function rc(e){return Fi("MuiFormLabel",e)}const ic=ji("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),oc=["children","className","color","component","disabled","error","filled","focused","required"],sc=xi("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(Oi(e=>{let{theme:t}=e;return l(l({color:(t.vars||t).palette.text.secondary},t.typography.body1),{},{lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(ic.focused)]:{color:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(ic.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(ic.error)]:{color:(t.vars||t).palette.error.main}}}]})})),ac=xi("span",{name:"MuiFormLabel",slot:"Asterisk"})(Oi(e=>{let{theme:t}=e;return{["&.".concat(ic.error)]:{color:(t.vars||t).palette.error.main}}})),lc=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:s="label",disabled:a,error:c,filled:u,focused:h,required:d}=n,p=f(n,oc),m=pl({props:n,muiFormControl:gl(),states:["color","required","focused","disabled","error","filled"]}),g=l(l({},n),{},{color:m.color||"primary",component:s,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required}),v=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e;return D({root:["root","color".concat(ho(n)),i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},rc,t)})(g);return(0,Ci.jsxs)(sc,l(l({as:s,ownerState:g,className:M(v.root,i),ref:t},p),{},{children:[r,m.required&&(0,Ci.jsxs)(ac,{ownerState:g,"aria-hidden":!0,className:v.asterisk,children:["\u2009","*"]})]}))}),cc=lc;function uc(e){return Fi("MuiInputLabel",e)}ji("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const hc=["disableAnimation","margin","shrink","variant","className"],dc=xi(cc,{shouldForwardProp:e=>Si(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ic.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Oi(e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),fc=e.forwardRef(function(e,t){const n=Ii({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:i,shrink:o,variant:s,className:a}=n,c=f(n,hc),u=gl();let h=o;"undefined"===typeof h&&u&&(h=u.filled||u.focused||u.adornedStart);const d=pl({props:n,muiFormControl:u,states:["size","variant","required","focused"]}),p=l(l({},n),{},{disableAnimation:r,formControl:u,shrink:h,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),m=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,c=D({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"medium"!==r&&"size".concat(ho(r)),s],asterisk:[a&&"asterisk"]},uc,t);return l(l({},t),c)})(p);return(0,Ci.jsx)(dc,l(l({"data-shrink":h,ref:t,className:M(m.root,a)},c),{},{ownerState:p,classes:m}))}),pc=fc;const mc=function(t,n){var r,i;return e.isValidElement(t)&&-1!==n.indexOf(null!==(r=t.type.muiName)&&void 0!==r?r:null===(i=t.type)||void 0===i||null===(i=i._payload)||void 0===i||null===(i=i.value)||void 0===i?void 0:i.muiName)};function gc(e){return Fi("MuiFormControl",e)}ji("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const vc=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],yc=xi("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["margin".concat(ho(n.margin))],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),_c=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:d=!1,hiddenLabel:p=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,_=f(r,vc),b=l(l({},r),{},{color:s,component:a,disabled:c,error:u,fullWidth:d,hiddenLabel:p,margin:m,required:g,size:v,variant:y}),w=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return D({root:["root","none"!==n&&"margin".concat(ho(n)),r&&"fullWidth"]},gc,t)})(b),[S,x]=e.useState(()=>{let t=!1;return i&&e.Children.forEach(i,e=>{if(!mc(e,["Input","Select"]))return;const n=mc(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}),t}),[k,C]=e.useState(()=>{let t=!1;return i&&e.Children.forEach(i,e=>{mc(e,["Input","Select"])&&(_l(e.props,!0)||_l(e.props.inputProps,!0))&&(t=!0)}),t}),[T,E]=e.useState(!1);c&&T&&E(!1);const I=void 0===h||c?T:h;let P;e.useRef(!1);const A=e.useCallback(()=>{C(!0)},[]),N=e.useCallback(()=>{C(!1)},[]),R=e.useMemo(()=>({adornedStart:S,setAdornedStart:x,color:s,disabled:c,error:u,filled:k,focused:I,fullWidth:d,hiddenLabel:p,size:v,onBlur:()=>{E(!1)},onFocus:()=>{E(!0)},onEmpty:N,onFilled:A,registerEffect:P,required:g,variant:y}),[S,s,c,u,k,I,d,p,P,N,A,g,v,y]);return(0,Ci.jsx)(ml.Provider,{value:R,children:(0,Ci.jsx)(yc,l(l({as:a,ownerState:b,className:M(w.root,o),ref:n},_),{},{children:i}))})}),bc=_c;function wc(e){return Fi("MuiFormHelperText",e)}const Sc=ji("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),xc=["children","className","component","disabled","error","filled","focused","margin","required","variant"];var kc;const Cc=xi("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(ho(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(Oi(e=>{let{theme:t}=e;return l(l({color:(t.vars||t).palette.text.secondary},t.typography.caption),{},{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Sc.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Sc.error)]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]})})),Tc=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p",disabled:s,error:a,filled:c,focused:u,margin:h,required:d,variant:p}=n,m=f(n,xc),g=pl({props:n,muiFormControl:gl(),states:["variant","size","disabled","error","filled","focused","required"]}),v=l(l({},n),{},{component:o,contained:"filled"===g.variant||"outlined"===g.variant,variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required});delete v.ownerState;const y=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e;return D({root:["root",i&&"disabled",o&&"error",r&&"size".concat(ho(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]},wc,t)})(v);return(0,Ci.jsx)(Cc,l(l({as:o,className:M(y.root,i),ref:t},m),{},{ownerState:v,children:" "===r?kc||(kc=(0,Ci.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r}))}),Ec=Tc;function Ic(t){var n;return parseInt(e.version,10)>=19?(null===t||void 0===t||null===(n=t.props)||void 0===n?void 0:n.ref)||null:(null===t||void 0===t?void 0:t.ref)||null}const Pc=sl,Ac=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Nc=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=f(e,Ac),a=o?{}:Wo(r,i),{props:c,internalRef:u}=Go(l(l({},s),{},{externalSlotProps:a})),h=Bo(u,null===a||void 0===a?void 0:a.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return qo(n,l(l({},c),{},{ref:h}),i)};const Rc=e.createContext({});function Lc(e){return Fi("MuiList",e)}ji("MuiList",["root","padding","dense","subheader"]);const Oc=["children","className","component","dense","disablePadding","subheader"],Mc=xi("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),Dc=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:u}=r,h=f(r,Oc),d=e.useMemo(()=>({dense:a}),[a]),p=l(l({},r),{},{component:s,dense:a,disablePadding:c}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return D({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Lc,t)})(p);return(0,Ci.jsx)(Rc.Provider,{value:d,children:(0,Ci.jsxs)(Mc,l(l({as:s,className:M(m.root,o),ref:n,ownerState:p},h),{},{children:[u,i]}))})}),zc=Dc;function Fc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const jc=Fc,Uc=al,Bc=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Vc(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function qc(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Wc(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function Hc(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&Wc(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const Kc=e.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:d="selectedMenu"}=t,p=f(t,Bc),m=e.useRef(null),g=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});vl(()=>{i&&m.current.focus()},[i]),e.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(jc(Uc(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}}),[]);const v=ys(m,n);let y=-1;e.Children.forEach(s,(t,n)=>{e.isValidElement(t)?(t.props.disabled||("selectedMenu"===d&&t.props.selected||-1===y)&&(y=n),y===n&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))):y===n&&(y+=1,y>=s.length&&(y=-1))});const _=e.Children.map(s,(t,n)=>{if(n===y){const n={};return o&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===d&&(n.tabIndex=0),e.cloneElement(t,n)}return t});return(0,Ci.jsx)(zc,l(l({role:"menu",ref:v,className:a,onKeyDown:e=>{const t=m.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(h&&h(e));const r=Pc(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Hc(t,r,u,c,Vc);else if("ArrowUp"===n)e.preventDefault(),Hc(t,r,u,c,qc);else if("Home"===n)e.preventDefault(),Hc(t,null,u,c,Vc);else if("End"===n)e.preventDefault(),Hc(t,null,u,c,qc);else if(1===n.length){const i=g.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&Wc(r,i);i.previousKeyMatched&&(a||Hc(t,r,!1,c,Vc,i))?e.preventDefault():i.previousKeyMatched=!1}h&&h(e)},tabIndex:i?0:-1},p),{},{children:_}))}),Gc=Kc,Zc=ol,Qc=!1;var Yc="unmounted",Xc="exited",Jc="entering",$c="entered",eu="exiting",tu=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=Xc,r.appearStatus=Jc):i=$c:i=e.unmountOnExit||e.mountOnEnter?Yc:Xc,r.state={status:i},r.nextCallback=null,r}Xs(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Yc?{status:Xc}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Jc&&n!==$c&&(t=Jc):n!==Jc&&n!==$c||(t=eu)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Jc){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:_.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xc&&this.setState({status:Yc})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[_.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Qc?this.safeSetState({status:$c},function(){t.props.onEntered(o)}):(this.props.onEnter(o,s),this.safeSetState({status:Jc},function(){t.props.onEntering(o,s),t.onTransitionEnd(l,function(){t.safeSetState({status:$c},function(){t.props.onEntered(o,s)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:_.findDOMNode(this);t&&!Qc?(this.props.onExit(r),this.safeSetState({status:eu},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Xc},function(){e.props.onExited(r)})})})):this.safeSetState({status:Xc},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:_.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===Yc)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,d(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Js.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function nu(){}tu.contextType=Js,tu.propTypes={},tu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nu,onEntering:nu,onEntered:nu,onExit:nu,onExiting:nu,onExited:nu},tu.UNMOUNTED=Yc,tu.EXITED=Xc,tu.ENTERING=Jc,tu.ENTERED=$c,tu.EXITING=eu;const ru=tu,iu=e=>e.scrollTop;function ou(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!==(n=s.transitionDuration)&&void 0!==n?n:"number"===typeof i?i:i[t.mode]||0,easing:null!==(r=s.transitionTimingFunction)&&void 0!==r?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const su=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],au=["ownerState"];function lu(e){return"scale(".concat(e,", ").concat(e**2,")")}const cu={entering:{opacity:1,transform:lu(1)},entered:{opacity:1,transform:"none"}},uu="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hu=e.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:c,onEntered:u,onEntering:h,onExit:d,onExited:p,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=ru}=t,_=f(t,su),b=aa(),w=e.useRef(),S=Ri(),x=e.useRef(null),k=ys(x,Ic(o),n),C=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},T=C(h),E=C((e,t)=>{iu(e);const{duration:n,delay:r,easing:i}=ou({style:g,timeout:v,easing:s},{mode:"enter"});let o;"auto"===v?(o=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=n,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:r}),S.transitions.create("transform",{duration:uu?o:.666*o,delay:r,easing:i})].join(","),c&&c(e,t)}),I=C(u),P=C(m),A=C(e=>{const{duration:t,delay:n,easing:r}=ou({style:g,timeout:v,easing:s},{mode:"exit"});let i;"auto"===v?(i=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=i):i=t,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:n}),S.transitions.create("transform",{duration:uu?i:.666*i,delay:uu?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=lu(.75),d&&d(e)}),N=C(p);return(0,Ci.jsx)(y,l(l({appear:i,in:a,nodeRef:x,onEnter:E,onEntered:I,onEntering:T,onExit:A,onExited:N,onExiting:P,addEndListener:e=>{"auto"===v&&b.start(w.current||0,e),r&&r(x.current,e)},timeout:"auto"===v?null:v},_),{},{children:(t,n)=>{let{ownerState:r}=n,i=f(n,au);return e.cloneElement(o,l({style:l(l(l({opacity:0,transform:lu(.75),visibility:"exited"!==t||a?void 0:"hidden"},cu[t]),g),o.props.style),ref:k},i))}}))});hu&&(hu.muiSupportAuto=!0);const du=hu,fu=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function pu(e){const t=[],n=[];return Array.from(e.querySelectorAll(fu)).forEach((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function mu(){return!0}const gu=function(t){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=pu,isEnabled:a=mu,open:l}=t,c=e.useRef(!1),u=e.useRef(null),h=e.useRef(null),d=e.useRef(null),f=e.useRef(null),p=e.useRef(!1),m=e.useRef(null),g=Bo(Ic(n),m),v=e.useRef(null);e.useEffect(()=>{l&&m.current&&(p.current=!r)},[r,l]),e.useEffect(()=>{if(!l||!m.current)return;const e=sl(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(d.current&&d.current.focus&&(c.current=!0,d.current.focus()),d.current=null)}},[l]),e.useEffect(()=>{if(!l||!m.current)return;const e=sl(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,h.current&&h.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==h.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==h.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null===(r=v.current)||void 0===r?void 0:r.shiftKey)&&"Tab"===(null===(o=v.current)||void 0===o?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,i,o,a,l,s]);const y=e=>{null===d.current&&(d.current=e.relatedTarget),p.current=!0};return(0,Ci.jsxs)(e.Fragment,{children:[(0,Ci.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:g,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,Ci.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:h,"data-testid":"sentinelEnd"})]})};function vu(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const yu=e.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=e.useState(null),l=Bo(e.isValidElement(r)?Ic(r):null,n);if(qs(()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)},[i,o]),qs(()=>{if(s&&!o)return vu(n,s),()=>{vu(n,null)}},[n,s,o]),o){if(e.isValidElement(r)){const t={ref:l};return e.cloneElement(r,t)}return r}return s?_.createPortal(r,s):s}),_u=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],bu=["ownerState"],wu={entering:{opacity:1},entered:{opacity:1}},Su=e.forwardRef(function(t,n){const r=Ri(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:c,in:u,onEnter:h,onEntered:d,onEntering:p,onExit:m,onExited:g,onExiting:v,style:y,timeout:_=i,TransitionComponent:b=ru}=t,w=f(t,_u),S=e.useRef(null),x=ys(S,Ic(a),n),k=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},C=k(p),T=k((e,t)=>{iu(e);const n=ou({style:y,timeout:_,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)}),E=k(d),I=k(v),P=k(e=>{const t=ou({style:y,timeout:_,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)}),A=k(g);return(0,Ci.jsx)(b,l(l({appear:s,in:u,nodeRef:S,onEnter:T,onEntered:E,onEntering:C,onExit:P,onExited:A,onExiting:I,addEndListener:e=>{o&&o(S.current,e)},timeout:_},w),{},{children:(t,n)=>{let{ownerState:r}=n,i=f(n,bu);return e.cloneElement(a,l({style:l(l(l({opacity:0,visibility:"exited"!==t||u?void 0:"hidden"},wu[t]),y),a.props.style),ref:x},i))}}))}),xu=Su;function ku(e){return Fi("MuiBackdrop",e)}ji("MuiBackdrop",["root","invisible"]);const Cu=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],Tu=xi("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Eu=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:s=!1,open:a,components:c={},componentsProps:u={},slotProps:h={},slots:d={},TransitionComponent:p,transitionDuration:m}=n,g=f(n,Cu),v=l(l({},n),{},{component:o,invisible:s}),y=(e=>{const{classes:t,invisible:n}=e;return D({root:["root",n&&"invisible"]},ku,t)})(v),_={component:o,slots:l({transition:p,root:c.Root},d),slotProps:l(l({},u),h)},[b,w]=Xo("root",{elementType:Tu,externalForwardedProps:_,className:M(y.root,i),ownerState:v}),[S,x]=Xo("transition",{elementType:xu,externalForwardedProps:_,ownerState:v});return(0,Ci.jsx)(S,l(l(l({in:a,timeout:m},g),x),{},{children:(0,Ci.jsx)(b,l(l({"aria-hidden":!0},w),{},{classes:y,ref:t,children:r}))}))}),Iu=Eu;function Pu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)},()=>{})}function Au(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Nu(e){return parseInt(al(e).getComputedStyle(e).paddingRight,10)||0}function Ru(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Au(e,i)})}function Lu(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function Ou(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=sl(e);return t.body===e?al(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Fc(al(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Nu(r)+e,"px");const t=sl(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Nu(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=sl(r).body;else{const t=r.parentElement,n=al(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const Mu=()=>{},Du=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Au(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);Ru(t,e.mount,e.modalRef,r,!0);const i=Lu(this.containers,e=>e.container===t);return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Lu(this.containers,t=>t.modals.includes(e)),r=this.containers[n];r.restore||(r.restore=Ou(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Lu(this.containers,t=>t.modals.includes(e)),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Au(e.modalRef,t),Ru(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&Au(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const zu=function(t){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:c,onClose:u,open:h,rootRef:d}=t,f=e.useRef({}),p=e.useRef(null),m=e.useRef(null),g=Bo(m,d),[v,y]=e.useState(!h),_=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let b=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(b=!1);const w=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),S=()=>{Du.mount(w(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},x=Ws(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||sl(p.current).body;Du.add(w(),e),m.current&&S()}),k=()=>Du.isTopModal(w()),C=Ws(e=>{p.current=e,e&&(h&&k()?S():m.current&&Au(m.current,b))}),T=e.useCallback(()=>{Du.remove(w(),b)},[b]);e.useEffect(()=>()=>{T()},[T]),e.useEffect(()=>{h?x():_&&o||T()},[h,T,_,o,x]);const E=e=>t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},I=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Ho(t);delete n.onTransitionEnter,delete n.onTransitionExited;const r=l(l({},n),e);return l(l({role:"presentation"},r),{},{onKeyDown:E(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(l({"aria-hidden":!0},e),{},{onClick:I(e),open:h})},getTransitionProps:()=>{var e,t;return{onEnter:Pu(()=>{y(!1),s&&s()},null!==(e=null===c||void 0===c?void 0:c.props.onEnter)&&void 0!==e?e:Mu),onExited:Pu(()=>{y(!0),a&&a(),o&&T()},null!==(t=null===c||void 0===c?void 0:c.props.onExited)&&void 0!==t?t:Mu)}},rootRef:g,portalRef:C,isTopModal:k,exited:v,hasTransition:_}};function Fu(e){return Fi("MuiModal",e)}ji("MuiModal",["root","hidden","backdrop"]);const ju=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Uu=xi("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Oi(e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}})),Bu=xi(Iu,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Vu=e.forwardRef(function(t,n){const r=Ii({name:"MuiModal",props:t}),{BackdropComponent:i=Bu,BackdropProps:o,classes:s,className:a,closeAfterTransition:c=!1,children:u,container:h,component:d,components:p={},componentsProps:m={},disableAutoFocus:g=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:y=!1,disablePortal:_=!1,disableRestoreFocus:b=!1,disableScrollLock:w=!1,hideBackdrop:S=!1,keepMounted:x=!1,onClose:k,onTransitionEnter:C,onTransitionExited:T,open:E,slotProps:I={},slots:P={},theme:A}=r,N=f(r,ju),R=l(l({},r),{},{closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:v,disableEscapeKeyDown:y,disablePortal:_,disableRestoreFocus:b,disableScrollLock:w,hideBackdrop:S,keepMounted:x}),{getRootProps:L,getBackdropProps:O,getTransitionProps:z,portalRef:F,isTopModal:j,exited:U,hasTransition:B}=zu(l(l({},R),{},{rootRef:n})),V=l(l({},R),{},{exited:U}),q=(e=>{const{open:t,exited:n,classes:r}=e;return D({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Fu,r)})(V),W={};if(void 0===u.props.tabIndex&&(W.tabIndex="-1"),B){const{onEnter:e,onExited:t}=z();W.onEnter=e,W.onExited=t}const H={slots:l({root:p.Root,backdrop:p.Backdrop},P),slotProps:l(l({},m),I)},[K,G]=Xo("root",{ref:n,elementType:Uu,externalForwardedProps:l(l(l({},H),N),{},{component:d}),getSlotProps:L,ownerState:V,className:M(a,null===q||void 0===q?void 0:q.root,!V.open&&V.exited&&(null===q||void 0===q?void 0:q.hidden))}),[Z,Q]=Xo("backdrop",{ref:null===o||void 0===o?void 0:o.ref,elementType:i,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:e=>O(l(l({},e),{},{onClick:t=>{null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:M(null===o||void 0===o?void 0:o.className,null===q||void 0===q?void 0:q.backdrop),ownerState:V});return x||E||B&&!U?(0,Ci.jsx)(yu,{ref:F,container:h,disablePortal:_,children:(0,Ci.jsxs)(K,l(l({},G),{},{children:[!S&&i?(0,Ci.jsx)(Z,l({},Q)):null,(0,Ci.jsx)(gu,{disableEnforceFocus:v,disableAutoFocus:g,disableRestoreFocus:b,isEnabled:j,open:E,children:e.cloneElement(u,W)})]}))}):null}),qu=Vu;function Wu(e){return Fi("MuiPopover",e)}ji("MuiPopover",["root","paper"]);function Hu(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach(r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})}),n}if("function"===typeof e||"function"===typeof t)return r=>{const i="function"===typeof t?t(r):t,o="function"===typeof e?e(l(l({},r),i)):e,s=M(null===r||void 0===r?void 0:r.className,null===i||void 0===i?void 0:i.className,null===o||void 0===o?void 0:o.className),a=n(o,i);return l(l(l(l(l(l({},i),o),a),!!s&&{className:s}),(null===i||void 0===i?void 0:i.style)&&(null===o||void 0===o?void 0:o.style)&&{style:l(l({},i.style),o.style)}),(null===i||void 0===i?void 0:i.sx)&&(null===o||void 0===o?void 0:o.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]})};const r=t,i=n(e,r),o=M(null===r||void 0===r?void 0:r.className,null===e||void 0===e?void 0:e.className);return l(l(l(l(l(l({},t),e),i),!!o&&{className:o}),(null===r||void 0===r?void 0:r.style)&&(null===e||void 0===e?void 0:e.style)&&{style:l(l({},r.style),e.style)}),(null===r||void 0===r?void 0:r.sx)&&(null===e||void 0===e?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]})}const Ku=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Gu=["slots","slotProps"];function Zu(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Qu(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Yu(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function Xu(e){return"function"===typeof e?e():e}const Ju=xi(qu,{name:"MuiPopover",slot:"Root"})({}),$u=xi(Wi,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),eh=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:u,className:h,container:d,elevation:p=8,marginThreshold:m=16,open:g,PaperProps:v={},slots:y={},slotProps:_={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:S="auto",TransitionProps:x={},disableScrollLock:k=!1}=r,C=f(r,Ku),T=e.useRef(),E=l(l({},r),{},{anchorOrigin:s,anchorReference:c,elevation:p,marginThreshold:m,transformOrigin:b,TransitionComponent:w,transitionDuration:S,TransitionProps:x}),I=(e=>{const{classes:t}=e;return D({root:["root"],paper:["paper"]},Wu,t)})(E),P=e.useCallback(()=>{if("anchorPosition"===c)return a;const e=Xu(o),t=(e&&1===e.nodeType?e:Pc(T.current).body).getBoundingClientRect();return{top:t.top+Zu(t,s.vertical),left:t.left+Qu(t,s.horizontal)}},[o,s.horizontal,s.vertical,a,c]),A=e.useCallback(e=>({vertical:Zu(e,b.vertical),horizontal:Qu(e,b.horizontal)}),[b.horizontal,b.vertical]),N=e.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=A(t);if("none"===c)return{top:null,left:null,transformOrigin:Yu(n)};const r=P();let i=r.top-n.vertical,s=r.left-n.horizontal;const a=i+t.height,l=s+t.width,u=Uc(Xu(o)),h=u.innerHeight-m,d=u.innerWidth-m;if(null!==m&&i<m){const e=i-m;i-=e,n.vertical+=e}else if(null!==m&&a>h){const e=a-h;i-=e,n.vertical+=e}if(null!==m&&s<m){const e=s-m;s-=e,n.horizontal+=e}else if(l>d){const e=l-d;s-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:Yu(n)}},[o,c,P,A,m]),[R,L]=e.useState(g),O=e.useCallback(()=>{const e=T.current;if(!e)return;const t=N(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,L(!0)},[N]);e.useEffect(()=>(k&&window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[o,k,O]);e.useEffect(()=>{g&&O()}),e.useImperativeHandle(i,()=>g?{updatePosition:()=>{O()}}:null,[g,O]),e.useEffect(()=>{if(!g)return;const e=Zc(()=>{O()}),t=Uc(Xu(o));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[o,g,O]);let z=S;const F={slots:l({transition:w},y),slotProps:l({transition:x,paper:v},_)},[j,U]=Xo("transition",{elementType:du,externalForwardedProps:F,ownerState:E,getSlotProps:e=>l(l({},e),{},{onEntering:(t,n)=>{var r;null===(r=e.onEntering)||void 0===r||r.call(e,t,n),O()},onExited:t=>{var n;null===(n=e.onExited)||void 0===n||n.call(e,t),L(!1)}}),additionalProps:{appear:!0,in:g}});"auto"!==S||j.muiSupportAuto||(z=void 0);const B=d||(o?Pc(Xu(o)).body:void 0),[V,q]=Xo("root",{ref:n,elementType:Ju,externalForwardedProps:l(l({},F),C),shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:y.backdrop},slotProps:{backdrop:Hu("function"===typeof _.backdrop?_.backdrop(E):_.backdrop,{invisible:!0})},container:B,open:g},ownerState:E,className:M(I.root,h)}),{slots:W,slotProps:H}=q,K=f(q,Gu),[G,Z]=Xo("paper",{ref:T,className:I.paper,elementType:$u,externalForwardedProps:F,shouldForwardComponentProp:!0,additionalProps:{elevation:p,style:R?void 0:{opacity:0}},ownerState:E});return(0,Ci.jsx)(V,l(l(l({},K),!Vo(V)&&{slots:W,slotProps:H,disableScrollLock:k}),{},{children:(0,Ci.jsx)(j,l(l({},U),{},{timeout:z,children:(0,Ci.jsx)(G,l(l({},Z),{},{children:u}))}))}))}),th=eh;function nh(e){return Fi("MuiMenu",e)}ji("MuiMenu",["root","paper","list"]);const rh=["onEntering"],ih=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],oh={vertical:"top",horizontal:"right"},sh={vertical:"top",horizontal:"left"},ah=xi(th,{shouldForwardProp:e=>Si(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),lh=xi($u,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ch=xi(Gc,{name:"MuiMenu",slot:"List"})({outline:0}),uh=e.forwardRef(function(t,n){const r=Ii({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:u,open:h,PaperProps:d={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:_={}}=r,b=f(r.TransitionProps,rh),w=f(r,ih),S=hs(),x=l(l({},r),{},{autoFocus:i,disableAutoFocusItem:a,MenuListProps:c,onEntering:g,PaperProps:d,transitionDuration:m,TransitionProps:b,variant:v}),k=(e=>{const{classes:t}=e;return D({root:["root"],paper:["paper"],list:["list"]},nh,t)})(x),C=i&&!a&&h,T=e.useRef(null);let E=-1;e.Children.map(o,(t,n)=>{e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===v&&t.props.selected||-1===E)&&(E=n))});const I={slots:y,slotProps:l({list:c,transition:b,paper:d},_)},P=Nc({elementType:y.root,externalSlotProps:_.root,ownerState:x,className:[k.root,s]}),[A,N]=Xo("paper",{className:k.paper,elementType:lh,externalForwardedProps:I,shouldForwardComponentProp:!0,ownerState:x}),[R,L]=Xo("list",{className:M(k.list,c.className),elementType:ch,shouldForwardComponentProp:!0,externalForwardedProps:I,getSlotProps:e=>l(l({},e),{},{onKeyDown:t=>{var n;(e=>{"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))})(t),null===(n=e.onKeyDown)||void 0===n||n.call(e,t)}}),ownerState:x}),O="function"===typeof I.slotProps.transition?I.slotProps.transition(x):I.slotProps.transition;return(0,Ci.jsx)(ah,l(l({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?oh:sh,slots:l({root:y.root,paper:A,backdrop:y.backdrop},y.transition&&{transition:y.transition}),slotProps:{root:P,paper:N,backdrop:"function"===typeof _.backdrop?_.backdrop(x):_.backdrop,transition:l(l({},O),{},{onEntering:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];((e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,{direction:S?"rtl":"ltr"}),g&&g(e,t)})(...n),null===O||void 0===O||null===(e=O.onEntering)||void 0===e||e.call(O,...n)}})},open:h,ref:n,transitionDuration:m,ownerState:x},w),{},{classes:p,children:(0,Ci.jsx)(R,l(l({actions:T,autoFocus:i&&(-1===E||a),autoFocusItem:C,variant:v},L),{},{children:o}))}))}),hh=uh;function dh(e){return Fi("MuiNativeSelect",e)}const fh=ji("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ph=["className","disabled","error","IconComponent","inputRef","variant"],mh=xi("select",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(fh.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),gh=xi(mh,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Si,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(fh.multiple)]:t.multiple}]}})({}),vh=xi("svg",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,["&.".concat(fh.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),yh=xi(vh,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(ho(n.variant))],n.open&&t.iconOpen]}})({}),_h=e.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:c="standard"}=t,u=f(t,ph),h=l(l({},t),{},{disabled:i,variant:c,error:o}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return D({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat(ho(n)),o&&"iconOpen",r&&"disabled"]},dh,t)})(h);return(0,Ci.jsxs)(e.Fragment,{children:[(0,Ci.jsx)(gh,l({ownerState:h,className:M(d.select,r),disabled:i,ref:a||n},u)),t.multiple?null:(0,Ci.jsx)(yh,{as:s,ownerState:h,className:d.icon})]})}),bh=_h;function wh(e){return Fi("MuiSelect",e)}const Sh=ji("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xh=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"];var kh;const Ch=xi(mh,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(Sh.select)]:t.select},{["&.".concat(Sh.select)]:t[n.variant]},{["&.".concat(Sh.error)]:t.error},{["&.".concat(Sh.multiple)]:t.multiple}]}})({["&.".concat(Sh.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Th=xi(vh,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(ho(n.variant))],n.open&&t.iconOpen]}})({}),Eh=xi("input",{shouldForwardProp:e=>wi(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ih(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Ph(e){return null==e||"string"===typeof e&&!e.trim()}const Ah=e.forwardRef(function(t,n){var r,i,o,s;const{"aria-describedby":a,"aria-label":c,autoFocus:u,autoWidth:h,children:d,className:p,defaultOpen:m,defaultValue:g,disabled:v,displayEmpty:y,error:_=!1,IconComponent:b,inputRef:w,labelId:S,MenuProps:x={},multiple:k,name:C,onBlur:T,onChange:E,onClose:I,onFocus:P,onOpen:A,open:N,readOnly:R,renderValue:L,required:O,SelectDisplayProps:z={},tabIndex:F,type:j,value:U,variant:B="standard"}=t,V=f(t,xh),[q,W]=vs({controlled:U,default:g,name:"Select"}),[H,K]=vs({controlled:N,default:m,name:"Select"}),G=e.useRef(null),Z=e.useRef(null),[Q,Y]=e.useState(null),{current:X}=e.useRef(null!=N),[J,$]=e.useState(),ee=ys(n,w),te=e.useCallback(e=>{Z.current=e,e&&Y(e)},[]),ne=null===Q||void 0===Q?void 0:Q.parentNode;e.useImperativeHandle(ee,()=>({focus:()=>{Z.current.focus()},node:G.current,value:q}),[q]),e.useEffect(()=>{m&&H&&Q&&!X&&($(h?null:ne.clientWidth),Z.current.focus())},[Q,h]),e.useEffect(()=>{u&&Z.current.focus()},[u]),e.useEffect(()=>{if(!S)return;const e=Pc(Z.current).getElementById(S);if(e){const t=()=>{getSelection().isCollapsed&&Z.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[S]);const re=(e,t)=>{e?A&&A(t):I&&I(t),X||($(h?null:ne.clientWidth),K(e))},ie=e.Children.toArray(d),oe=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(k){n=Array.isArray(q)?q.slice():[];const t=q.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),q!==n&&(W(n),E)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:C}}),E(i,e)}k||re(!1,t)}},se=null!==Q&&H;let ae,le;delete V["aria-invalid"];const ce=[];let ue=!1,he=!1;(_l({value:q})||y)&&(L?ae=L(q):ue=!0);const de=ie.map(t=>{if(!e.isValidElement(t))return null;let n;if(k){if(!Array.isArray(q))throw new Error(zt(2));n=q.some(e=>Ih(e,t.props.value)),n&&ue&&ce.push(t.props.children)}else n=Ih(q,t.props.value),n&&ue&&(le=t.props.children);return n&&(he=!0),e.cloneElement(t,{"aria-selected":n?"true":"false",onClick:oe(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})});ue&&(ae=k?0===ce.length?null:ce.reduce((e,t,n)=>(e.push(t),n<ce.length-1&&e.push(", "),e),[]):le);let fe,pe=J;!h&&X&&Q&&(pe=ne.clientWidth),fe="undefined"!==typeof F?F:v?null:0;const me=z.id||(C?"mui-component-select-".concat(C):void 0),ge=l(l({},t),{},{variant:B,value:q,open:se,error:_}),ve=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return D({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat(ho(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},wh,t)})(ge),ye=l(l({},x.PaperProps),"function"===typeof(null===(r=x.slotProps)||void 0===r?void 0:r.paper)?x.slotProps.paper(ge):null===(i=x.slotProps)||void 0===i?void 0:i.paper),_e=l(l({},x.MenuListProps),"function"===typeof(null===(o=x.slotProps)||void 0===o?void 0:o.list)?x.slotProps.list(ge):null===(s=x.slotProps)||void 0===s?void 0:s.list),be=ms();return(0,Ci.jsxs)(e.Fragment,{children:[(0,Ci.jsx)(Ch,l(l({as:"div",ref:te,tabIndex:fe,role:"combobox","aria-controls":se?be:void 0,"aria-disabled":v?"true":void 0,"aria-expanded":se?"true":"false","aria-haspopup":"listbox","aria-label":c,"aria-labelledby":[S,me].filter(Boolean).join(" ")||void 0,"aria-describedby":a,"aria-required":O?"true":void 0,"aria-invalid":_?"true":void 0,onKeyDown:e=>{if(!R){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),re(!0,e))}},onMouseDown:v||R?null:e=>{0===e.button&&(e.preventDefault(),Z.current.focus(),re(!0,e))},onBlur:e=>{!se&&T&&(Object.defineProperty(e,"target",{writable:!0,value:{value:q,name:C}}),T(e))},onFocus:P},z),{},{ownerState:ge,className:M(z.className,ve.select,p),id:me,children:Ph(ae)?kh||(kh=(0,Ci.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):ae})),(0,Ci.jsx)(Eh,l(l({"aria-invalid":_,value:Array.isArray(q)?q.join(","):q,name:C,ref:G,"aria-hidden":!0,onChange:e=>{const t=ie.find(t=>t.props.value===e.target.value);void 0!==t&&(W(t.props.value),E&&E(e,t))},tabIndex:-1,disabled:v,className:ve.nativeInput,autoFocus:u,required:O},V),{},{ownerState:ge})),(0,Ci.jsx)(Th,{as:b,className:ve.icon,ownerState:ge}),(0,Ci.jsx)(hh,l(l({id:"menu-".concat(C||""),anchorEl:ne,open:se,onClose:e=>{re(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x),{},{slotProps:l(l({},x.slotProps),{},{list:l({"aria-labelledby":S,role:"listbox","aria-multiselectable":k?"true":void 0,disableListWrap:!0,id:be},_e),paper:l(l({},ye),{},{style:l({minWidth:pe},null!=ye?ye.style:null)})}),children:de}))]})}),Nh=Ah,Rh=Fo((0,Ci.jsx)("path",{d:"M7 10l5 5 5-5z"})),Lh=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Oh=["root"],Mh={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Si(e)&&"variant"!==e},Dh=xi(zl,Mh)(""),zh=xi(nc,Mh)(""),Fh=xi(Wl,Mh)(""),jh=e.forwardRef(function(t,n){const r=Ii({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=Rh,id:d,input:p,inputProps:m,label:g,labelId:v,MenuProps:y,multiple:_=!1,native:b=!1,onClose:w,onOpen:S,open:x,renderValue:k,SelectDisplayProps:C,variant:T="outlined"}=r,E=f(r,Lh),I=b?bh:Nh,P=pl({props:r,muiFormControl:gl(),states:["variant","error"]}),A=P.variant||T,N=l(l({},r),{},{variant:A,classes:s}),R=(e=>{const{classes:t}=e,n=D({root:["root"]},wh,t);return l(l({},t),n)})(N),{root:L}=R,O=f(R,Oh),z=p||{standard:(0,Ci.jsx)(Dh,{ownerState:N}),outlined:(0,Ci.jsx)(zh,{label:g,ownerState:N}),filled:(0,Ci.jsx)(Fh,{ownerState:N})}[A],F=ys(n,Ic(z));return(0,Ci.jsx)(e.Fragment,{children:e.cloneElement(z,l(l(l({inputComponent:I,inputProps:l(l(l({children:o,error:P.error,IconComponent:h,variant:A,type:void 0,multiple:_},b?{id:d}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:v,MenuProps:y,onClose:w,onOpen:S,open:x,renderValue:k,SelectDisplayProps:l({id:d},C)}),m),{},{classes:m?Ct(O,m.classes):O},p?p.props.inputProps:{})},(_&&b||u)&&"outlined"===A?{notched:!0}:{}),{},{ref:F,className:M(z.props.className,a,R.root)},!p&&{variant:A}),E))})});jh.muiName="Select";const Uh=jh;function Bh(e){return Fi("MuiTextField",e)}ji("MuiTextField",["root"]);const Vh=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","slots","slotProps","type","value","variant"],qh={standard:zl,filled:Wl,outlined:nc},Wh=xi(bc,{name:"MuiTextField",slot:"Root"})({}),Hh=e.forwardRef(function(e,t){const n=Ii({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:c,disabled:u=!1,error:h=!1,FormHelperTextProps:d,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:v,inputProps:y,InputProps:_,inputRef:b,label:w,maxRows:S,minRows:x,multiline:k=!1,name:C,onBlur:T,onChange:E,onFocus:I,placeholder:P,required:A=!1,rows:N,select:R=!1,SelectProps:L,slots:O={},slotProps:z={},type:F,value:j,variant:U="outlined"}=n,B=f(n,Vh),V=l(l({},n),{},{autoFocus:i,color:a,disabled:u,error:h,fullWidth:p,multiline:k,required:A,select:R,variant:U}),q=(e=>{const{classes:t}=e;return D({root:["root"]},Bh,t)})(V);const W=ms(g),H=m&&W?"".concat(W,"-helper-text"):void 0,K=w&&W?"".concat(W,"-label"):void 0,G=qh[U],Z={slots:O,slotProps:l({input:_,inputLabel:v,htmlInput:y,formHelperText:d,select:L},z)},Q={},Y=Z.slotProps.inputLabel;"outlined"===U&&(Y&&"undefined"!==typeof Y.shrink&&(Q.notched=Y.shrink),Q.label=w),R&&(L&&L.native||(Q.id=void 0),Q["aria-describedby"]=void 0);const[X,J]=Xo("root",{elementType:Wh,shouldForwardComponentProp:!0,externalForwardedProps:l(l({},Z),B),ownerState:V,className:M(q.root,s),ref:t,additionalProps:{disabled:u,error:h,fullWidth:p,required:A,color:a,variant:U}}),[$,ee]=Xo("input",{elementType:G,externalForwardedProps:Z,additionalProps:Q,ownerState:V}),[te,ne]=Xo("inputLabel",{elementType:pc,externalForwardedProps:Z,ownerState:V}),[re,ie]=Xo("htmlInput",{elementType:"input",externalForwardedProps:Z,ownerState:V}),[oe,se]=Xo("formHelperText",{elementType:Ec,externalForwardedProps:Z,ownerState:V}),[ae,le]=Xo("select",{elementType:Uh,externalForwardedProps:Z,ownerState:V}),ce=(0,Ci.jsx)($,l({"aria-describedby":H,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:p,multiline:k,name:C,rows:N,maxRows:S,minRows:x,type:F,value:j,id:W,inputRef:b,onBlur:T,onChange:E,onFocus:I,placeholder:P,inputProps:ie,slots:{input:O.htmlInput?re:void 0}},ee));return(0,Ci.jsxs)(X,l(l({},J),{},{children:[null!=w&&""!==w&&(0,Ci.jsx)(te,l(l({htmlFor:W,id:K},ne),{},{children:w})),R?(0,Ci.jsx)(ae,l(l({"aria-describedby":H,id:W,labelId:K,value:j,input:ce},le),{},{children:o})):ce,m&&(0,Ci.jsx)(oe,l(l({id:H},se),{},{children:m}))]}))}),Kh=Hh,Gh=Fo((0,Ci.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),Zh=Fo((0,Ci.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),Qh=Fo((0,Ci.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Yh=Fo([(0,Ci.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,Ci.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),Xh=!1,Jh=!1,$h="${JSCORE_VERSION}",ed=function(e,t){if(!e)throw td(t)},td=function(e){return new Error("Firebase Database ("+$h+") INTERNAL ASSERT FAILED: "+e)},nd=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nd(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new id;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class id extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const od=function(e){const t=nd(e);return rd.encodeByteArray(t,!0)},sd=function(e){return od(e).replace(/\./g,"")},ad=function(e){try{return rd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ld(e){return cd(void 0,e)}function cd(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&ud(n)&&(e[n]=cd(e[n],t[n]));return e}function ud(e){return"__proto__"!==e}const hd=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,dd=()=>{try{return hd()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/iptracker-main",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ad(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},fd=e=>{var t,n;return null===(n=null===(t=dd())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},pd=e=>{const t=fd(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},md=()=>{var e;return null===(e=dd())||void 0===e?void 0:e.config},gd=e=>{var t;return null===(t=dd())||void 0===t?void 0:t["_".concat(e)]};class vd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function yd(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sd(JSON.stringify({alg:"none",type:"JWT"})),sd(JSON.stringify(o)),""].join(".")}function _d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bd(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_d())}function wd(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Sd(){return!0===Xh||!0===Jh}function xd(){try{return"object"===typeof indexedDB}catch(e){return!1}}class kd extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,kd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cd.prototype.create)}}class Cd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Td,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new kd(n,o,t)}}const Td=/\{\$([^}]+)}/g;function Ed(e){return JSON.parse(e)}function Id(e){return JSON.stringify(e)}const Pd=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Ed(ad(o[0])||""),n=Ed(ad(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Ad(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Nd(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Rd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ld(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Od(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Md(n)&&Md(o)){if(!Od(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Md(e){return null!==e&&"object"===typeof e}function Dd(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zd(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Fd(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class jd{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Ud{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Bd),void 0===r.error&&(r.error=Bd),void 0===r.complete&&(r.complete=Bd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bd(){}function Vd(e,t){return"".concat(e," failed: ").concat(t," argument ")}const qd=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Wd(e){return e&&e._delegate?e._delegate:e}class Hd{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kd="[DEFAULT]";class Gd{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vd;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Kd})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zd(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd;return this.component?this.component.multipleInstances?e:Kd:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Zd(e){return e===Kd?void 0:e}class Qd{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gd(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yd=[];var Xd;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xd||(Xd={}));const Jd={debug:Xd.DEBUG,verbose:Xd.VERBOSE,info:Xd.INFO,warn:Xd.WARN,error:Xd.ERROR,silent:Xd.SILENT},$d=Xd.INFO,ef={[Xd.DEBUG]:"log",[Xd.VERBOSE]:"log",[Xd.INFO]:"info",[Xd.WARN]:"warn",[Xd.ERROR]:"error"},tf=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ef[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class nf{constructor(e){this.name=e,this._logLevel=$d,this._logHandler=tf,this._userLogHandler=null,Yd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xd))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Jd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xd.DEBUG,...t),this._logHandler(this,Xd.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xd.VERBOSE,...t),this._logHandler(this,Xd.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xd.INFO,...t),this._logHandler(this,Xd.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xd.WARN,...t),this._logHandler(this,Xd.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xd.ERROR,...t),this._logHandler(this,Xd.ERROR,...t)}}let rf,of;const sf=new WeakMap,af=new WeakMap,lf=new WeakMap,cf=new WeakMap,uf=new WeakMap;let hf={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return af.get(e);if("objectStoreNames"===t)return e.objectStoreNames||lf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pf(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function df(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(of||(of=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(mf(this),n),pf(sf.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pf(e.apply(mf(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(mf(this),t,...r);return lf.set(o,t.sort?t.sort():[t]),pf(o)}}function ff(e){return"function"===typeof e?df(e):(e instanceof IDBTransaction&&function(e){if(af.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});af.set(e,t)}(e),t=e,(rf||(rf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,hf):e);var t}function pf(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(pf(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&sf.set(t,e)}).catch(()=>{}),uf.set(t,e),t}(e);if(cf.has(e))return cf.get(e);const t=ff(e);return t!==e&&(cf.set(e,t),uf.set(t,e)),t}const mf=e=>uf.get(e);const gf=["get","getKey","getAll","getAllKeys","count"],vf=["put","add","delete","clear"],yf=new Map;function _f(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(yf.get(t))return yf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=vf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gf.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return yf.set(t,o),o}hf=(e=>l(l({},e),{},{get:(t,n,r)=>_f(t,n)||e.get(t,n,r),has:(t,n)=>!!_f(t,n)||e.has(t,n)}))(hf);class bf{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const wf="@firebase/app",Sf="0.9.25",xf=new nf("@firebase/app"),kf="@firebase/app-compat",Cf="@firebase/analytics-compat",Tf="@firebase/analytics",Ef="@firebase/app-check-compat",If="@firebase/app-check",Pf="@firebase/auth",Af="@firebase/auth-compat",Nf="@firebase/database",Rf="@firebase/database-compat",Lf="@firebase/functions",Of="@firebase/functions-compat",Mf="@firebase/installations",Df="@firebase/installations-compat",zf="@firebase/messaging",Ff="@firebase/messaging-compat",jf="@firebase/performance",Uf="@firebase/performance-compat",Bf="@firebase/remote-config",Vf="@firebase/remote-config-compat",qf="@firebase/storage",Wf="@firebase/storage-compat",Hf="@firebase/firestore",Kf="@firebase/firestore-compat",Gf="firebase",Zf="[DEFAULT]",Qf={[wf]:"fire-core",[kf]:"fire-core-compat",[Tf]:"fire-analytics",[Cf]:"fire-analytics-compat",[If]:"fire-app-check",[Ef]:"fire-app-check-compat",[Pf]:"fire-auth",[Af]:"fire-auth-compat",[Nf]:"fire-rtdb",[Rf]:"fire-rtdb-compat",[Lf]:"fire-fn",[Of]:"fire-fn-compat",[Mf]:"fire-iid",[Df]:"fire-iid-compat",[zf]:"fire-fcm",[Ff]:"fire-fcm-compat",[jf]:"fire-perf",[Uf]:"fire-perf-compat",[Bf]:"fire-rc",[Vf]:"fire-rc-compat",[qf]:"fire-gcs",[Wf]:"fire-gcs-compat",[Hf]:"fire-fst",[Kf]:"fire-fst-compat","fire-js":"fire-js",[Gf]:"fire-js-all"},Yf=new Map,Xf=new Map;function Jf(e,t){try{e.container.addComponent(t)}catch(n){xf.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $f(e){const t=e.name;if(Xf.has(t))return xf.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xf.set(t,e);for(const n of Yf.values())Jf(n,e);return!0}function ep(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const tp=new Cd("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class np{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tp.create("app-deleted",{appName:this._name})}}const rp="10.7.1";function ip(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Zf,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw tp.create("bad-app-name",{appName:String(i)});if(n||(n=md()),!n)throw tp.create("no-options");const o=Yf.get(i);if(o){if(Od(n,o.options)&&Od(r,o.config))return o;throw tp.create("duplicate-app",{appName:i})}const s=new Qd(i);for(const l of Xf.values())s.addComponent(l);const a=new np(n,r,s);return Yf.set(i,a),a}function op(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zf;const t=Yf.get(e);if(!t&&e===Zf&&md())return ip();if(!t)throw tp.create("no-app",{appName:e});return t}function sp(e,t,n){var r;let i=null!==(r=Qf[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xf.warn(e.join(" "))}$f(new Hd("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ap="firebase-heartbeat-store";let lp=null;function cp(){return lp||(lp=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=pf(s);return r&&s.addEventListener("upgradeneeded",e=>{r(pf(s.result),e.oldVersion,e.newVersion,pf(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ap)}}).catch(e=>{throw tp.create("idb-open",{originalErrorMessage:e.message})})),lp}async function up(e,t){try{const n=(await cp()).transaction(ap,"readwrite"),r=n.objectStore(ap);await r.put(t,hp(e)),await n.done}catch(n){if(n instanceof kd)xf.warn(n.message);else{const e=tp.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});xf.warn(e.message)}}}function hp(e){return"".concat(e.name,"!").concat(e.options.appId)}class dp{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pp(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fp();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(e=>e.date===r))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=fp(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),mp(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=sd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function fp(){return(new Date).toISOString().substring(0,10)}class pp{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!xd()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(fA){t(fA)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await cp();return await t.transaction(ap).objectStore(ap).get(hp(e))}catch(t){if(t instanceof kd)xf.warn(t.message);else{const e=tp.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});xf.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return up(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return up(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function mp(e){return sd(JSON.stringify({version:2,heartbeats:e})).length}var gp;gp="",$f(new Hd("platform-logger",e=>new bf(e),"PRIVATE")),$f(new Hd("heartbeat",e=>new dp(e),"PRIVATE")),sp(wf,Sf,gp),sp(wf,Sf,"esm2017"),sp("fire-js","");sp("firebase","10.7.1","app");var vp,yp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_p={},bp=bp||{},wp=yp||self;function Sp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kp="closure_uid_"+(1e9*Math.random()>>>0),Cp=0;function Tp(e,t,n){return e.call.apply(e.bind,arguments)}function Ep(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ip(e,t,n){return(Ip=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tp:Ep).apply(null,arguments)}function Pp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ap(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Np(){this.s=this.s,this.o=this.o}Np.prototype.s=!1,Np.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,kp)&&e[kp]||(e[kp]=++Cp))},Np.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Lp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Op(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Sp(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Mp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Mp.prototype.h=function(){this.defaultPrevented=!0};var Dp=function(){if(!wp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};wp.addEventListener("test",e,t),wp.removeEventListener("test",e,t)}catch(n){}return e}();function zp(e){return/^[\s\xa0]*$/.test(e)}function Fp(){var e=wp.navigator;return e&&(e=e.userAgent)?e:""}function jp(e){return-1!=Fp().indexOf(e)}function Up(e){return Up[" "](e),e}Up[" "]=function(){};var Bp,Vp,qp=jp("Opera"),Wp=jp("Trident")||jp("MSIE"),Hp=jp("Edge"),Kp=Hp||Wp,Gp=jp("Gecko")&&!(-1!=Fp().toLowerCase().indexOf("webkit")&&!jp("Edge"))&&!(jp("Trident")||jp("MSIE"))&&!jp("Edge"),Zp=-1!=Fp().toLowerCase().indexOf("webkit")&&!jp("Edge");function Qp(){var e=wp.document;return e?e.documentMode:void 0}e:{var Yp="",Xp=function(){var e=Fp();return Gp?/rv:([^\);]+)(\)|;)/.exec(e):Hp?/Edge\/([\d\.]+)/.exec(e):Wp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zp?/WebKit\/(\S+)/.exec(e):qp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xp&&(Yp=Xp?Xp[1]:""),Wp){var Jp=Qp();if(null!=Jp&&Jp>parseFloat(Yp)){Bp=String(Jp);break e}}Bp=Yp}if(wp.document&&Wp){var $p=Qp();Vp=$p||(parseInt(Bp,10)||void 0)}else Vp=void 0;var em=Vp;function tm(e,t){if(Mp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gp){e:{try{Up(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tm.$.h.call(this)}}Ap(tm,Mp);var nm={2:"touch",3:"pen",4:"mouse"};tm.prototype.h=function(){tm.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rm="closure_listenable_"+(1e6*Math.random()|0),im=0;function om(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++im,this.fa=this.ia=!1}function sm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function am(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function lm(e){const t={};for(const n in e)t[n]=e[n];return t}const cm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function um(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<cm.length;t++)n=cm[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hm(e){this.src=e,this.g={},this.h=0}function dm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Rp(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(sm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fm(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}hm.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=fm(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new om(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var pm="closure_lm_"+(1e6*Math.random()|0),mm={};function gm(e,t,n,r,i){if(r&&r.once)return ym(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)gm(e,t[o],n,r,i);return null}return n=Cm(n),e&&e[rm]?e.O(t,n,xp(r)?!!r.capture:!!r,i):vm(e,t,n,!1,r,i)}function vm(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=xp(i)?!!i.capture:!!i,a=xm(e);if(a||(e[pm]=a=new hm(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Sm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Dp||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ym(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ym(e,t[o],n,r,i);return null}return n=Cm(n),e&&e[rm]?e.P(t,n,xp(r)?!!r.capture:!!r,i):vm(e,t,n,!0,r,i)}function _m(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_m(e,t[o],n,r,i);else r=xp(r)?!!r.capture:!!r,n=Cm(n),e&&e[rm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fm(o=e.g[t],n,r,i))&&(sm(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=xm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fm(t,n,r,i)),(n=-1<e?t[e]:null)&&bm(n))}function bm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[rm])dm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xm(t))?(dm(n,e),0==n.h&&(n.src=null,t[pm]=null)):sm(e)}}}function wm(e){return e in mm?mm[e]:mm[e]="on"+e}function Sm(e,t){if(e.fa)e=!0;else{t=new tm(t,this);var n=e.listener,r=e.la||e.src;e.ia&&bm(e),e=n.call(r,t)}return e}function xm(e){return(e=e[pm])instanceof hm?e:null}var km="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(e){return"function"===typeof e?e:(e[km]||(e[km]=function(t){return e.handleEvent(t)}),e[km])}function Tm(){Np.call(this),this.i=new hm(this),this.S=this,this.J=null}function Em(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Mp(t,e);else if(t instanceof Mp)t.target=t.target||e;else{var i=t;um(t=new Mp(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Im(s,r,!0,t)&&i}if(i=Im(s=t.g=e,r,!0,t)&&i,i=Im(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Im(s=t.g=n[o],r,!1,t)&&i}function Im(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&dm(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ap(Tm,Np),Tm.prototype[rm]=!0,Tm.prototype.removeEventListener=function(e,t,n,r){_m(this,e,t,n,r)},Tm.prototype.N=function(){if(Tm.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sm(n[r]);delete t.g[e],t.h--}}this.J=null},Tm.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Tm.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pm=wp.JSON.stringify;function Am(){var e=zm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Nm=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Rm,e=>e.reset());class Rm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lm(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Om(e){wp.setTimeout(()=>{throw e},0)}let Mm,Dm=!1,zm=new class{constructor(){this.h=this.g=null}add(e,t){const n=Nm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Fm=()=>{const e=wp.Promise.resolve(void 0);Mm=()=>{e.then(jm)}};var jm=()=>{for(var e;e=Am();){try{e.h.call(e.g)}catch(n){Om(n)}var t=Nm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Dm=!1};function Um(e,t){Tm.call(this),this.h=e||1,this.g=t||wp,this.j=Ip(this.qb,this),this.l=Date.now()}function Bm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Vm(e,t,n){if("function"===typeof e)n&&(e=Ip(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ip(e.handleEvent,e)}return 2147483647<Number(t)?-1:wp.setTimeout(e,t||0)}function qm(e){e.g=Vm(()=>{e.g=null,e.i&&(e.i=!1,qm(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ap(Um,Tm),(vp=Um.prototype).ga=!1,vp.T=null,vp.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Em(this,"tick"),this.ga&&(Bm(this),this.start()))}},vp.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vp.N=function(){Um.$.N.call(this),Bm(this),delete this.g};class Wm extends Np{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qm(this)}N(){super.N(),this.g&&(wp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hm(e){Np.call(this),this.h=e,this.g={}}Ap(Hm,Np);var Km=[];function Gm(e,t,n,r){Array.isArray(n)||(n&&(Km[0]=n.toString()),n=Km);for(var i=0;i<n.length;i++){var o=gm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Zm(e){am(e.g,function(e,t){this.g.hasOwnProperty(t)&&bm(e)},e),e.g={}}function Qm(){this.g=!0}function Ym(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Pm(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Hm.prototype.N=function(){Hm.$.N.call(this),Zm(this)},Hm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qm.prototype.Ea=function(){this.g=!1},Qm.prototype.info=function(){};var Xm={},Jm=null;function $m(){return Jm=Jm||new Tm}function eg(e){Mp.call(this,Xm.Ta,e)}function tg(e){const t=$m();Em(t,new eg(t))}function ng(e,t){Mp.call(this,Xm.STAT_EVENT,e),this.stat=t}function rg(e){const t=$m();Em(t,new ng(t,e))}function ig(e,t){Mp.call(this,Xm.Ua,e),this.size=t}function og(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wp.setTimeout(function(){e()},t)}Xm.Ta="serverreachability",Ap(eg,Mp),Xm.STAT_EVENT="statevent",Ap(ng,Mp),Xm.Ua="timingevent",Ap(ig,Mp);var sg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ag={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lg(){}function cg(e){return e.h||(e.h=e.i())}function ug(){}lg.prototype.h=null;var hg,dg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fg(){Mp.call(this,"d")}function pg(){Mp.call(this,"c")}function mg(){}function gg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Hm(this),this.P=yg,e=Kp?125:void 0,this.V=new Um(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vg}function vg(){this.i=null,this.g="",this.h=!1}Ap(fg,Mp),Ap(pg,Mp),Ap(mg,lg),mg.prototype.g=function(){return new XMLHttpRequest},mg.prototype.i=function(){return{}},hg=new mg;var yg=45e3,_g={},bg={};function wg(e,t,n){e.L=1,e.A=Ug(Mg(t)),e.u=n,e.S=!0,Sg(e,null)}function Sg(e,t){e.G=Date.now(),Tg(e),e.B=Mg(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),$g(n.i,"t",r),e.o=0,n=e.l.J,e.h=new vg,e.g=ey(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Wm(Ip(e.Pa,e,e.g),e.O)),Gm(e.U,e.g,"readystatechange",e.nb),t=e.I?lm(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),tg(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.v,e.B,e.m,e.W,e.u)}function xg(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function kg(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Cg(e,n),r==bg){4==t&&(e.s=4,rg(14),i=!1),Ym(e.j,e.m,null,"[Incomplete Response]");break}if(r==_g){e.s=4,rg(15),Ym(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ym(e.j,e.m,r,null),Ng(e,r)}xg(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,rg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kv(t),t.M=!0,rg(11))):(Ym(e.j,e.m,n,"[Invalid Chunked Response]"),Ag(e),Pg(e))}function Cg(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?bg:(n=Number(t.substring(n,r)),isNaN(n)?_g:(r+=1)+n>t.length?bg:(t=t.slice(r,r+n),e.o=r+n,t))}function Tg(e){e.Y=Date.now()+e.P,Eg(e,e.P)}function Eg(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=og(Ip(e.lb,e),t)}function Ig(e){e.C&&(wp.clearTimeout(e.C),e.C=null)}function Pg(e){0==e.l.H||e.J||Qv(e.l,e)}function Ag(e){Ig(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Bm(e.V),Zm(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ng(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||sv(n.i,e)))if(!e.K&&sv(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Zv(n),Fv(n)}Hv(n),rg(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=og(Ip(n.ib,n),6e3));if(1>=ov(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Xv(n,11)}else if((e.K||n.g==e)&&Zv(n),!zp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(av(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,jg(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=$v(r,r.J?r.pa:null,r.Y),s.K){lv(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Ig(a),Tg(a)),r.g=s}else Wv(r);0<n.j.length&&Uv(n)}else"stop"!=c[0]&&"close"!=c[0]||Xv(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xv(n,7):zv(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}tg()}catch(c){}}function Rg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Sp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Sp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Sp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(vp=gg.prototype).setTimeout=function(e){this.P=e},vp.nb=function(e){e=e.target;const t=this.M;t&&3==Nv(e)?t.l():this.Pa(e)},vp.Pa=function(e){try{if(e==this.g)e:{const u=Nv(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Kp||this.g&&(this.h.h||this.g.ja()||Rv(this.g)))){this.J||4!=u||7==t||tg(),Ig(this);var n=this.g.da();this.ca=n;t:if(xg(this)){var r=Rv(this.g);e="";var i=r.length,o=4==Nv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ag(this),Pg(this);var s="";break t}this.h.i=new wp.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,rg(12),Ag(this),Pg(this);break e}Ym(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ng(this,n)}this.S?(kg(this,u,s),Kp&&this.i&&3==u&&(Gm(this.U,this.V,"tick",this.mb),this.V.start())):(Ym(this.j,this.m,s,null),Ng(this,s)),4==u&&Ag(this),this.i&&!this.J&&(4==u?Qv(this.l,this):(this.i=!1,Tg(this)))}else(function(e){const t={};e=(e.g&&2<=Nv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(zp(e[r]))continue;var n=Lm(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,rg(12)):(this.s=0,rg(13)),Ag(this),Pg(this)}}}catch(u){}},vp.mb=function(){if(this.g){var e=Nv(this.g),t=this.g.ja();this.o<t.length&&(Ig(this),kg(this,e,t),this.i&&4!=e&&Tg(this))}},vp.cancel=function(){this.J=!0,Ag(this)},vp.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(tg(),rg(17)),Ag(this),this.s=2,Pg(this)):Eg(this,this.Y-e)};var Lg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Og(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Og){this.h=e.h,Dg(this,e.j),this.s=e.s,this.g=e.g,zg(this,e.m),this.l=e.l;var t=e.i,n=new Qg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Fg(this,n),this.o=e.o}else e&&(t=String(e).match(Lg))?(this.h=!1,Dg(this,t[1]||"",!0),this.s=Bg(t[2]||""),this.g=Bg(t[3]||"",!0),zg(this,t[4]),this.l=Bg(t[5]||"",!0),Fg(this,t[6]||"",!0),this.o=Bg(t[7]||"")):(this.h=!1,this.i=new Qg(null,this.h))}function Mg(e){return new Og(e)}function Dg(e,t,n){e.j=n?Bg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fg(e,t,n){t instanceof Qg?(e.i=t,function(e,t){t&&!e.j&&(Yg(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Xg(this,t),$g(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Vg(t,Gg)),e.i=new Qg(t,e.h))}function jg(e,t,n){e.i.set(t,n)}function Ug(e){return jg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Og.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vg(t,Wg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vg(t,Wg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vg(n,"/"==n.charAt(0)?Kg:Hg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vg(n,Zg)),e.join("")};var Wg=/[#\/\?@]/g,Hg=/[#\?:]/g,Kg=/[#\?]/g,Gg=/[#\?@]/g,Zg=/#/g;function Qg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Xg(e,t){Yg(e),t=ev(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Jg(e,t){return Yg(e),t=ev(e,t),e.g.has(t)}function $g(e,t,n){Xg(e,t),0<n.length&&(e.i=null,e.g.set(ev(e,t),Lp(n)),e.h+=n.length)}function ev(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(vp=Qg.prototype).add=function(e,t){Yg(this),this.i=null,e=ev(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},vp.forEach=function(e,t){Yg(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},vp.ta=function(){Yg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},vp.Z=function(e){Yg(this);let t=[];if("string"===typeof e)Jg(this,e)&&(t=t.concat(this.g.get(ev(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},vp.set=function(e,t){return Yg(this),this.i=null,Jg(this,e=ev(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},vp.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},vp.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var tv=class{constructor(e,t){this.g=e,this.map=t}};function nv(e){this.l=e||rv,wp.PerformanceNavigationTiming?e=0<(e=wp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wp.g&&wp.g.Ka&&wp.g.Ka()&&wp.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rv=10;function iv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ov(e){return e.h?1:e.g?e.g.size:0}function sv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function av(e,t){e.g?e.g.add(t):e.h=t}function lv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Lp(e.i)}nv.prototype.cancel=function(){if(this.i=cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var uv,hv=class{stringify(e){return wp.JSON.stringify(e,void 0)}parse(e){return wp.JSON.parse(e,void 0)}};function dv(){this.g=new hv}function fv(e,t,n){const r=n||"";try{Rg(e,function(e,n){let i=e;xp(e)&&(i=Pm(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function mv(e){this.l=e.ec||null,this.j=e.ob||!1}function gv(e,t){Tm.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=vv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ap(mv,lg),mv.prototype.g=function(){return new gv(this.l,this.j)},mv.prototype.i=(uv={},function(){return uv}),Ap(gv,Tm);var vv=0;function yv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function _v(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bv(e)}function bv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(vp=gv.prototype).open=function(e,t){if(this.readyState!=vv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bv(this)},vp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||wp).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},vp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_v(this)),this.readyState=vv},vp.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bv(this)),this.g&&(this.readyState=3,bv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof wp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},vp.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_v(this):bv(this),3==this.readyState&&yv(this)}},vp.Za=function(e){this.g&&(this.response=this.responseText=e,_v(this))},vp.Ya=function(e){this.g&&(this.response=e,_v(this))},vp.ka=function(){this.g&&_v(this)},vp.setRequestHeader=function(e,t){this.v.append(e,t)},vp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},vp.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(gv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wv=wp.JSON.parse;function Sv(e){Tm.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xv,this.L=this.M=!1}Ap(Sv,Tm);var xv="",kv=/^https?$/i,Cv=["POST","PUT"];function Tv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ev(e),Pv(e)}function Ev(e){e.F||(e.F=!0,Em(e,"complete"),Em(e,"error"))}function Iv(e){if(e.h&&"undefined"!=typeof bp&&(!e.C[1]||4!=Nv(e)||2!=e.da()))if(e.v&&4==Nv(e))Vm(e.La,0,e);else if(Em(e,"readystatechange"),4==Nv(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Lg)[1]||null;!i&&wp.self&&wp.self.location&&(i=wp.self.location.protocol.slice(0,-1)),r=!kv.test(i?i.toLowerCase():"")}n=r}if(n)Em(e,"complete"),Em(e,"success");else{e.m=6;try{var o=2<Nv(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Ev(e)}}finally{Pv(e)}}}function Pv(e,t){if(e.g){Av(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Em(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Av(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(wp.clearTimeout(e.A),e.A=null)}function Nv(e){return e.g?e.g.readyState:0}function Rv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case xv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jy){return null}}function Lv(e){let t="";return am(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ov(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jg(e,t,n))}function Mv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dv(e){this.Ga=0,this.j=[],this.l=new Qm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mv("baseRetryDelayMs",5e3,e),this.hb=Mv("retryDelaySeedMs",1e4,e),this.eb=Mv("forwardChannelMaxRetries",2,e),this.xa=Mv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nv(e&&e.concurrentRequestLimit),this.Ja=new dv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zv(e){if(jv(e),3==e.H){var t=e.W++,n=Mg(e.I);if(jg(n,"SID",e.K),jg(n,"RID",t),jg(n,"TYPE","terminate"),Vv(e,n),(t=new gg(e,e.l,t)).L=2,t.A=Ug(Mg(n)),n=!1,wp.navigator&&wp.navigator.sendBeacon)try{n=wp.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&wp.Image&&((new Image).src=t.A,n=!0),n||(t.g=ey(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Tg(t)}Jv(e)}function Fv(e){e.g&&(Kv(e),e.g.cancel(),e.g=null)}function jv(e){Fv(e),e.u&&(wp.clearTimeout(e.u),e.u=null),Zv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&wp.clearTimeout(e.m),e.m=null)}function Uv(e){if(!iv(e.i)&&!e.m){e.m=!0;var t=e.Na;Mm||Fm(),Dm||(Mm(),Dm=!0),zm.add(t,e),e.C=0}}function Bv(e,t){var n;n=t?t.m:e.W++;const r=Mg(e.I);jg(r,"SID",e.K),jg(r,"RID",n),jg(r,"AID",e.V),Vv(e,r),e.o&&e.s&&Ov(r,e.o,e.s),n=new gg(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=qv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),av(e.i,n),wg(n,r,t)}function Vv(e,t){e.na&&am(e.na,function(e,n){jg(t,n,e)}),e.h&&Rg({},function(e,n){jg(t,n,e)})}function qv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ip(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{fv(a,e,"req"+n+"_")}catch(L){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Wv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Mm||Fm(),Dm||(Mm(),Dm=!0),zm.add(t,e),e.A=0}}function Hv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=og(Ip(e.Ma,e),Yv(e,e.A)),e.A++,!0)}function Kv(e){null!=e.B&&(wp.clearTimeout(e.B),e.B=null)}function Gv(e){e.g=new gg(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Mg(e.wa);jg(t,"RID","rpc"),jg(t,"SID",e.K),jg(t,"AID",e.V),jg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&jg(t,"TO",e.qa),jg(t,"TYPE","xmlhttp"),Vv(e,t),e.o&&e.s&&Ov(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Ug(Mg(t)),n.u=null,n.S=!0,Sg(n,e)}function Zv(e){null!=e.v&&(wp.clearTimeout(e.v),e.v=null)}function Qv(e,t){var n=null;if(e.g==t){Zv(e),Kv(e),e.g=null;var r=2}else{if(!sv(e.i,t))return;n=t.F,lv(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Em(r=$m(),new ig(r,n)),Uv(e)}else Wv(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ov(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=og(Ip(e.Na,e,t),Yv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xv(e,5);break;case 4:Xv(e,10);break;case 3:Xv(e,6);break;default:Xv(e,2)}}function Yv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Xv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ip(e.pb,e);n||(n=new Og("//www.google.com/images/cleardot.gif"),wp.location&&"http"==wp.location.protocol||Dg(n,"https"),Ug(n)),function(e,t){const n=new Qm;if(wp.Image){const r=new Image;r.onload=Pp(pv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pp(pv,n,r,"TestLoadImage: error",!1,t),r.onabort=Pp(pv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pp(pv,n,r,"TestLoadImage: timeout",!1,t),wp.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else rg(2);e.H=0,e.h&&e.h.za(t),Jv(e),jv(e)}function Jv(e){if(e.H=0,e.ma=[],e.h){const t=cv(e.i);0==t.length&&0==e.j.length||(Op(e.ma,t),Op(e.ma,e.j),e.i.i.length=0,Lp(e.j),e.j.length=0),e.h.ya()}}function $v(e,t,n){var r=n instanceof Og?Mg(n):new Og(n);if(""!=r.g)t&&(r.g=t+"."+r.g),zg(r,r.m);else{var i=wp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Og(null);r&&Dg(o,r),t&&(o.g=t),i&&zg(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&jg(r,n,t),jg(r,"VER",e.ra),Vv(e,r),r}function ey(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Sv(new mv({ob:n})):new Sv(e.va)).Oa(e.J),t}function ty(){}function ny(){if(Wp&&!(10<=Number(em)))throw Error("Environmental error: no available transport.")}function ry(e,t){Tm.call(this),this.g=new Dv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!zp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sy(this)}function iy(e){fg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function oy(){pg.call(this),this.status=1}function sy(e){this.g=e}function ay(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ly(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function cy(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(vp=Sv.prototype).Oa=function(e){this.M=e},vp.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hg.g(),this.C=this.u?cg(this.u):cg(hg),this.g.onreadystatechange=Ip(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Tv(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=wp.FormData&&e instanceof wp.FormData,!(0<=Rp(Cv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Av(this),0<this.B&&((this.L=function(e){return Wp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ip(this.ua,this)):this.A=Vm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Tv(this,o)}},vp.ua=function(){"undefined"!=typeof bp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Em(this,"timeout"),this.abort(8))},vp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Em(this,"complete"),Em(this,"abort"),Pv(this))},vp.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pv(this,!0)),Sv.$.N.call(this)},vp.La=function(){this.s||(this.G||this.v||this.l?Iv(this):this.kb())},vp.kb=function(){Iv(this)},vp.isActive=function(){return!!this.g},vp.da=function(){try{return 2<Nv(this)?this.g.status:-1}catch(uv){return-1}},vp.ja=function(){try{return this.g?this.g.responseText:""}catch(uv){return""}},vp.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wv(t)}},vp.Ia=function(){return this.m},vp.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(vp=Dv.prototype).ra=8,vp.H=1,vp.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new gg(this,this.l,e);let o=this.s;if(this.U&&(o?(o=lm(o),um(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=qv(this,i,t),jg(n=Mg(this.I),"RID",e),jg(n,"CVER",22),this.F&&jg(n,"X-HTTP-Session-Id",this.F),Vv(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lv(o)))+"&"+t:this.o&&Ov(n,this.o,o)),av(this.i,i),this.bb&&jg(n,"TYPE","init"),this.P?(jg(n,"$req",t),jg(n,"SID","null"),i.aa=!0,wg(i,n,null)):wg(i,n,t),this.H=2}}else 3==this.H&&(e?Bv(this,e):0==this.j.length||iv(this.i)||Bv(this))},vp.Ma=function(){if(this.u=null,Gv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=og(Ip(this.jb,this),e)}},vp.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rg(10),Fv(this),Gv(this))},vp.ib=function(){null!=this.v&&(this.v=null,Fv(this),Hv(this),rg(19))},vp.pb=function(e){e?(this.l.info("Successfully pinged google.com"),rg(2)):(this.l.info("Failed to ping google.com"),rg(1))},vp.isActive=function(){return!!this.h&&this.h.isActive(this)},(vp=ty.prototype).Ba=function(){},vp.Aa=function(){},vp.za=function(){},vp.ya=function(){},vp.isActive=function(){return!0},vp.Va=function(){},ny.prototype.g=function(e,t){return new ry(e,t)},Ap(ry,Tm),ry.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;rg(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$v(e,null,e.Y),Uv(e)},ry.prototype.close=function(){zv(this.g)},ry.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Pm(e),e=n);t.j.push(new tv(t.fb++,e)),3==t.H&&Uv(t)},ry.prototype.N=function(){this.g.h=null,delete this.j,zv(this.g),delete this.g,ry.$.N.call(this)},Ap(iy,fg),Ap(oy,pg),Ap(sy,ty),sy.prototype.Ba=function(){Em(this.g,"a")},sy.prototype.Aa=function(e){Em(this.g,new iy(e))},sy.prototype.za=function(e){Em(this.g,new oy)},sy.prototype.ya=function(){Em(this.g,"b")},Ap(ay,function(){this.blockSize=-1}),ay.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ay.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)ly(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){ly(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){ly(this,r),i=0;break}}this.h=i,this.i+=t},ay.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var uy={};function hy(e){return-128<=e&&128>e?function(e,t){var n=uy;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new cy([0|e],0>e?-1:0)}):new cy([0|e],0>e?-1:0)}function dy(e){if(isNaN(e)||!isFinite(e))return py;if(0>e)return _y(dy(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=fy;return new cy(t,0)}var fy=4294967296,py=hy(0),my=hy(1),gy=hy(16777216);function vy(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function yy(e){return-1==e.h}function _y(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new cy(n,~e.h).add(my)}function by(e,t){return e.add(_y(t))}function wy(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Sy(e,t){this.g=e,this.h=t}function xy(e,t){if(vy(t))throw Error("division by zero");if(vy(e))return new Sy(py,py);if(yy(e))return t=xy(_y(e),t),new Sy(_y(t.g),_y(t.h));if(yy(t))return t=xy(e,_y(t)),new Sy(_y(t.g),t.h);if(30<e.g.length){if(yy(e)||yy(t))throw Error("slowDivide_ only works with positive integers.");for(var n=my,r=t;0>=r.X(e);)n=ky(n),r=ky(r);var i=Cy(n,1),o=Cy(r,1);for(r=Cy(r,2),n=Cy(n,2);!vy(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Cy(r,1),n=Cy(n,1)}return t=by(e,i.R(t)),new Sy(i,t)}for(i=py;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=dy(n)).R(t);yy(s)||0<s.X(e);)s=(o=dy(n-=r)).R(t);vy(o)&&(o=my),i=i.add(o),e=by(e,s)}return new Sy(i,e)}function ky(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new cy(n,e.h)}function Cy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new cy(i,e.h)}(vp=cy.prototype).ea=function(){if(yy(this))return-_y(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:fy+r)*t,t*=fy}return e},vp.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(vy(this))return"0";if(yy(this))return"-"+_y(this).toString(e);for(var t=dy(Math.pow(e,6)),n=this,r="";;){var i=xy(n,t).g,o=((0<(n=by(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(vy(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},vp.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},vp.X=function(e){return yy(e=by(this,e))?-1:vy(e)?0:1},vp.abs=function(){return yy(this)?_y(this):this},vp.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new cy(n,-2147483648&n[n.length-1]?-1:0)},vp.R=function(e){if(vy(this)||vy(e))return py;if(yy(this))return yy(e)?_y(this).R(_y(e)):_y(_y(this).R(e));if(yy(e))return _y(this.R(_y(e)));if(0>this.X(gy)&&0>e.X(gy))return dy(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,wy(n,2*r+2*i),n[2*r+2*i+1]+=o*l,wy(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,wy(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,wy(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new cy(n,0)},vp.gb=function(e){return xy(this,e).h},vp.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new cy(n,this.h&e.h)},vp.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new cy(n,this.h|e.h)},vp.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new cy(n,this.h^e.h)},ny.prototype.createWebChannel=ny.prototype.g,ry.prototype.send=ry.prototype.u,ry.prototype.open=ry.prototype.m,ry.prototype.close=ry.prototype.close,sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,ag.COMPLETE="complete",ug.EventType=dg,dg.OPEN="a",dg.CLOSE="b",dg.ERROR="c",dg.MESSAGE="d",Tm.prototype.listen=Tm.prototype.O,Sv.prototype.listenOnce=Sv.prototype.P,Sv.prototype.getLastError=Sv.prototype.Sa,Sv.prototype.getLastErrorCode=Sv.prototype.Ia,Sv.prototype.getStatus=Sv.prototype.da,Sv.prototype.getResponseJson=Sv.prototype.Wa,Sv.prototype.getResponseText=Sv.prototype.ja,Sv.prototype.send=Sv.prototype.ha,Sv.prototype.setWithCredentials=Sv.prototype.Oa,ay.prototype.digest=ay.prototype.l,ay.prototype.reset=ay.prototype.reset,ay.prototype.update=ay.prototype.j,cy.prototype.add=cy.prototype.add,cy.prototype.multiply=cy.prototype.R,cy.prototype.modulo=cy.prototype.gb,cy.prototype.compare=cy.prototype.X,cy.prototype.toNumber=cy.prototype.ea,cy.prototype.toString=cy.prototype.toString,cy.prototype.getBits=cy.prototype.D,cy.fromNumber=dy,cy.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return _y(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=dy(Math.pow(n,8)),i=py,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=dy(Math.pow(n,s)),i=i.R(s).add(dy(a))):i=(i=i.R(r)).add(dy(a))}return i};var Ty=_p.createWebChannelTransport=function(){return new ny},Ey=_p.getStatEventTarget=function(){return $m()},Iy=_p.ErrorCode=sg,Py=_p.EventType=ag,Ay=_p.Event=Xm,Ny=_p.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ry=(_p.FetchXmlHttpFactory=mv,_p.WebChannel=ug),Ly=_p.XhrIo=Sv,Oy=_p.Md5=ay,My=_p.Integer=cy;const Dy="@firebase/firestore";class zy{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zy.UNAUTHENTICATED=new zy(null),zy.GOOGLE_CREDENTIALS=new zy("google-credentials-uid"),zy.FIRST_PARTY=new zy("first-party-uid"),zy.MOCK_USER=new zy("mock-user");let Fy="10.7.0";const jy=new nf("@firebase/firestore");function Uy(){return jy.logLevel}function By(e){if(jy.logLevel<=Xd.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wy);jy.debug("Firestore (".concat(Fy,"): ").concat(e),...i)}}function Vy(e){if(jy.logLevel<=Xd.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wy);jy.error("Firestore (".concat(Fy,"): ").concat(e),...i)}}function qy(e){if(jy.logLevel<=Xd.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wy);jy.warn("Firestore (".concat(Fy,"): ").concat(e),...i)}}function Wy(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Hy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Fy,") INTERNAL ASSERTION FAILED: ")+e;throw Vy(t),new Error(t)}function Ky(e,t){e||Hy()}function Gy(e,t){return e}const Zy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qy extends kd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Yy{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Xy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Jy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zy.UNAUTHENTICATED))}shutdown(){}}class $y{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class e_{constructor(e){this.t=e,this.currentUser=zy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Yy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yy,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{By("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(By("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yy)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(By("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ky("string"==typeof t.accessToken),new Xy(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ky(null===e||"string"==typeof e),new zy(e)}}class t_{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=zy.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n_{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new t_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zy.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i_{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&By("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,By("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{By("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):By("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ky("string"==typeof e.token),this.R=e.token,new r_(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function o_(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class s_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=o_(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function a_(e,t){return e<t?-1:e>t?1:0}function l_(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class c_{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qy(Zy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qy(Zy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qy(Zy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qy(Zy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return c_.fromMillis(Date.now())}static fromDate(e){return c_.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new c_(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?a_(this.nanoseconds,e.nanoseconds):a_(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class u_{constructor(e){this.timestamp=e}static fromTimestamp(e){return new u_(e)}static min(){return new u_(new c_(0,0))}static max(){return new u_(new c_(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class h_{constructor(e,t,n){void 0===t?t=0:t>e.length&&Hy(),void 0===n?n=e.length-t:n>e.length-t&&Hy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===h_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof h_?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class d_ extends h_{construct(e,t,n){return new d_(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new d_(e)}static emptyPath(){return new d_([])}}const f_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class p_ extends h_{construct(e,t,n){return new p_(e,t,n)}static isValidIdentifier(e){return f_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),p_.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new p_(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qy(Zy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qy(Zy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Qy(Zy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new p_(t)}static emptyPath(){return new p_([])}}class m_{constructor(e){this.path=e}static fromPath(e){return new m_(d_.fromString(e))}static fromName(e){return new m_(d_.fromString(e).popFirst(5))}static empty(){return new m_(d_.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===d_.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return d_.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new m_(new d_(e.slice()))}}class g_{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}g_.UNKNOWN_ID=-1;function v_(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=u_.fromTimestamp(1e9===r?new c_(n+1,0):new c_(n,r));return new __(i,m_.empty(),t)}function y_(e){return new __(e.readTime,e.key,-1)}class __{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new __(u_.min(),m_.empty(),-1)}static max(){return new __(u_.max(),m_.empty(),-1)}}function b_(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=m_.comparator(e.documentKey,t.documentKey),0!==n?n:a_(e.largestBatchId,t.largestBatchId))}const w_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function x_(e){if(e.code!==Zy.FAILED_PRECONDITION||e.message!==w_)throw e;By("LocalStore","Unexpectedly lost primary lease")}class k_{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Hy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new k_((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof k_?t:k_.resolve(t)}catch(e){return k_.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):k_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):k_.reject(t)}static resolve(e){return new k_((t,n)=>{t(e)})}static reject(e){return new k_((t,n)=>{n(e)})}static waitFor(e){return new k_((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=k_.resolve(!1);for(const n of e)t=t.next(e=>e?k_.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new k_((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new k_((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function C_(e){return"IndexedDbTransactionError"===e.name}class T_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function E_(e){return null==e}function I_(e){return 0===e&&1/e==-1/0}function P_(e){return"number"==typeof e&&Number.isInteger(e)&&!I_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}T_._e=-1;const A_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],N_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R_=N_;function L_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function O_(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function M_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class D_{constructor(e,t){this.comparator=e,this.root=t||F_.EMPTY}insert(e,t){return new D_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,F_.BLACK,null,null))}remove(e){return new D_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,F_.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new z_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new z_(this.root,e,this.comparator,!1)}getReverseIterator(){return new z_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new z_(this.root,e,this.comparator,!0)}}class z_{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class F_{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:F_.RED,this.left=null!=r?r:F_.EMPTY,this.right=null!=i?i:F_.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new F_(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return F_.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return F_.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,F_.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,F_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Hy();if(this.right.isRed())throw Hy();const e=this.left.check();if(e!==this.right.check())throw Hy();return e+(this.isRed()?0:1)}}F_.EMPTY=null,F_.RED=!0,F_.BLACK=!1,F_.EMPTY=new class{constructor(){this.size=0}get key(){throw Hy()}get value(){throw Hy()}get color(){throw Hy()}get left(){throw Hy()}get right(){throw Hy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new F_(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class j_{constructor(e){this.comparator=e,this.data=new D_(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof j_))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new j_(this.comparator);return t.data=e,t}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class B_{constructor(e){this.fields=e,e.sort(p_.comparator)}static empty(){return new B_([])}unionWith(e){let t=new j_(p_.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new B_(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return l_(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class V_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class q_{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new V_("Invalid base64 string: "+e):e}}(e);return new q_(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new q_(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return a_(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}q_.EMPTY_BYTE_STRING=new q_("");const W_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function H_(e){if(Ky(!!e),"string"==typeof e){let t=0;const n=W_.exec(e);if(Ky(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:K_(e.seconds),nanos:K_(e.nanos)}}function K_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function G_(e){return"string"==typeof e?q_.fromBase64String(e):q_.fromUint8Array(e)}function Z_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Q_(e){const t=e.mapValue.fields.__previous_value__;return Z_(t)?Q_(t):t}function Y_(e){const t=H_(e.mapValue.fields.__local_write_time__.timestampValue);return new c_(t.seconds,t.nanos)}class X_{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class J_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new J_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof J_&&e.projectId===this.projectId&&e.database===this.database}}const $_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Z_(e)?4:pb(e)?9007199254740991:10:Hy()}function tb(e,t){if(e===t)return!0;const n=eb(e);if(n!==eb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Y_(e).isEqual(Y_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=H_(e.timestampValue),r=H_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return G_(e.bytesValue).isEqual(G_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return K_(e.geoPointValue.latitude)===K_(t.geoPointValue.latitude)&&K_(e.geoPointValue.longitude)===K_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return K_(e.integerValue)===K_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=K_(e.doubleValue),r=K_(t.doubleValue);return n===r?I_(n)===I_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return l_(e.arrayValue.values||[],t.arrayValue.values||[],tb);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(L_(n)!==L_(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tb(n[i],r[i])))return!1;return!0}(e,t);default:return Hy()}}function nb(e,t){return void 0!==(e.values||[]).find(e=>tb(e,t))}function rb(e,t){if(e===t)return 0;const n=eb(e),r=eb(t);if(n!==r)return a_(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return a_(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=K_(e.integerValue||e.doubleValue),r=K_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ib(e.timestampValue,t.timestampValue);case 4:return ib(Y_(e),Y_(t));case 5:return a_(e.stringValue,t.stringValue);case 6:return function(e,t){const n=G_(e),r=G_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=a_(n[i],r[i]);if(0!==e)return e}return a_(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=a_(K_(e.latitude),K_(t.latitude));return 0!==n?n:a_(K_(e.longitude),K_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=rb(n[i],r[i]);if(e)return e}return a_(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$_.mapValue&&t===$_.mapValue)return 0;if(e===$_.mapValue)return 1;if(t===$_.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=a_(r[s],o[s]);if(0!==e)return e;const t=rb(n[r[s]],i[o[s]]);if(0!==t)return t}return a_(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Hy()}}function ib(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return a_(e,t);const n=H_(e),r=H_(t),i=a_(n.seconds,r.seconds);return 0!==i?i:a_(n.nanos,r.nanos)}function ob(e){return sb(e)}function sb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=H_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return G_(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return m_.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=sb(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(sb(e.fields[i]));return n+"}"}(e.mapValue):Hy()}function ab(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function lb(e){return!!e&&"integerValue"in e}function cb(e){return!!e&&"arrayValue"in e}function ub(e){return!!e&&"nullValue"in e}function hb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function db(e){return!!e&&"mapValue"in e}function fb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return O_(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=fb(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fb(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class mb{constructor(e){this.value=e}static empty(){return new mb({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!db(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fb(t)}setAll(e){let t=p_.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=fb(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());db(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];db(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){O_(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new mb(fb(this.value))}}function gb(e){const t=[];return O_(e.fields,(e,n)=>{const r=new p_([e]);if(db(n)){const e=gb(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new B_(t)}class vb{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new vb(e,0,u_.min(),u_.min(),u_.min(),mb.empty(),0)}static newFoundDocument(e,t,n,r){return new vb(e,1,t,u_.min(),n,r,0)}static newNoDocument(e,t){return new vb(e,2,t,u_.min(),u_.min(),mb.empty(),0)}static newUnknownDocument(e,t){return new vb(e,3,t,u_.min(),u_.min(),mb.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(u_.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mb.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mb.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=u_.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vb&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vb(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class yb{constructor(e,t){this.position=e,this.inclusive=t}}function _b(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?m_.comparator(m_.fromName(s.referenceValue),n.key):rb(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function bb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tb(e.position[n],t.position[n]))return!1;return!0}class wb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Sb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xb{}class kb extends xb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Rb(e,t,n):"array-contains"===t?new Db(e,n):"in"===t?new zb(e,n):"not-in"===t?new Fb(e,n):"array-contains-any"===t?new jb(e,n):new kb(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Lb(e,n):new Ob(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rb(t,this.value)):null!==t&&eb(this.value)===eb(t)&&this.matchesComparison(rb(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cb extends xb{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Cb(e,t)}matches(e){return Tb(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Tb(e){return"and"===e.op}function Eb(e){return Ib(e)&&Tb(e)}function Ib(e){for(const t of e.filters)if(t instanceof Cb)return!1;return!0}function Pb(e){if(e instanceof kb)return e.field.canonicalString()+e.op.toString()+ob(e.value);if(Eb(e))return e.filters.map(e=>Pb(e)).join(",");{const t=e.filters.map(e=>Pb(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ab(e,t){return e instanceof kb?function(e,t){return t instanceof kb&&e.op===t.op&&e.field.isEqual(t.field)&&tb(e.value,t.value)}(e,t):e instanceof Cb?function(e,t){return t instanceof Cb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ab(n,t.filters[r]),!0)}(e,t):void Hy()}function Nb(e){return e instanceof kb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ob(e.value))}(e):e instanceof Cb?function(e){return e.op.toString()+" {"+e.getFilters().map(Nb).join(" ,")+"}"}(e):"Filter"}class Rb extends kb{constructor(e,t,n){super(e,t,n),this.key=m_.fromName(n.referenceValue)}matches(e){const t=m_.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lb extends kb{constructor(e,t){super(e,"in",t),this.keys=Mb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ob extends kb{constructor(e,t){super(e,"not-in",t),this.keys=Mb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>m_.fromName(e.referenceValue))}class Db extends kb{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cb(t)&&nb(t.arrayValue,this.value)}}class zb extends kb{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nb(this.value.arrayValue,t)}}class Fb extends kb{constructor(e,t){super(e,"not-in",t)}matches(e){if(nb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nb(this.value.arrayValue,t)}}class jb extends kb{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>nb(this.value.arrayValue,e))}}class Ub{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Bb(e){return new Ub(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vb(e){const t=Gy(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Pb(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),E_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ob(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ob(e)).join(",")),t.ce=e}return t.ce}function qb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Sb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ab(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bb(e.startAt,t.startAt)&&bb(e.endAt,t.endAt)}function Wb(e){return m_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Hb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Kb(e,t,n,r,i,o,s,a){return new Hb(e,t,n,r,i,o,s,a)}function Gb(e){return new Hb(e)}function Zb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qb(e){return null!==e.collectionGroup}function Yb(e){const t=Gy(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new j_(p_.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new wb(r,n))}),e.has(p_.keyField().canonicalString())||t.le.push(new wb(p_.keyField(),n))}return t.le}function Xb(e){const t=Gy(e);return t.he||(t.he=Jb(t,Yb(e))),t.he}function Jb(e,t){if("F"===e.limitType)return Bb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new wb(e.field,t)});const n=e.endAt?new yb(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yb(e.startAt.position,e.startAt.inclusive):null;return Bb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $b(e,t){const n=e.filters.concat([t]);return new Hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ew(e,t,n){return new Hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tw(e,t){return qb(Xb(e),Xb(t))&&e.limitType===t.limitType}function nw(e){return"".concat(Vb(Xb(e)),"|lt:").concat(e.limitType)}function rw(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Nb(e)).join(", "),"]")),E_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ob(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ob(e)).join(",")),"Target(".concat(t,")")}(Xb(e)),"; limitType=").concat(e.limitType,")")}function iw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):m_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Yb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=_b(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yb(e),t))&&!(e.endAt&&!function(e,t,n){const r=_b(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yb(e),t))}(e,t)}function ow(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sw(e){return(t,n)=>{let r=!1;for(const i of Yb(e)){const e=aw(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function aw(e,t,n){const r=e.field.isKeyField()?m_.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rb(r,i):Hy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hy()}}class lw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){O_(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return M_(this.inner)}size(){return this.innerSize}}const cw=new D_(m_.comparator);function uw(){return cw}const hw=new D_(m_.comparator);function dw(){let e=hw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function fw(e){let t=hw;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function pw(){return gw()}function mw(){return gw()}function gw(){return new lw(e=>e.toString(),(e,t)=>e.isEqual(t))}const vw=new D_(m_.comparator),yw=new j_(m_.comparator);function _w(){let e=yw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const bw=new j_(a_);function ww(){return bw}function Sw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I_(t)?"-0":t}}function xw(e){return{integerValue:""+e}}function kw(e,t){return P_(t)?xw(t):Sw(e,t)}class Cw{constructor(){this._=void 0}}function Tw(e,t,n){return e instanceof Pw?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Z_(t)&&(t=Q_(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Aw?Nw(e,t):e instanceof Rw?Lw(e,t):function(e,t){const n=Iw(e,t),r=Mw(n)+Mw(e.Ie);return lb(n)&&lb(e.Ie)?xw(r):Sw(e.serializer,r)}(e,t)}function Ew(e,t,n){return e instanceof Aw?Nw(e,t):e instanceof Rw?Lw(e,t):n}function Iw(e,t){return e instanceof Ow?function(e){return lb(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Pw extends Cw{}class Aw extends Cw{constructor(e){super(),this.elements=e}}function Nw(e,t){const n=Dw(t);for(const r of e.elements)n.some(e=>tb(e,r))||n.push(r);return{arrayValue:{values:n}}}class Rw extends Cw{constructor(e){super(),this.elements=e}}function Lw(e,t){let n=Dw(t);for(const r of e.elements)n=n.filter(e=>!tb(e,r));return{arrayValue:{values:n}}}class Ow extends Cw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Mw(e){return K_(e.integerValue||e.doubleValue)}function Dw(e){return cb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class zw{constructor(e,t){this.field=e,this.transform=t}}class Fw{constructor(e,t){this.version=e,this.transformResults=t}}class jw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jw}static exists(e){return new jw(void 0,e)}static updateTime(e){return new jw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Bw{}function Vw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Jw(e.key,jw.none()):new Gw(e.key,e.data,jw.none());{const n=e.data,r=mb.empty();let i=new j_(p_.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Zw(e.key,r,new B_(i.toArray()),jw.none())}}function qw(e,t,n){e instanceof Gw?function(e,t,n){const r=e.value.clone(),i=Yw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zw?function(e,t,n){if(!Uw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Yw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ww(e,t,n,r){return e instanceof Gw?function(e,t,n,r){if(!Uw(e.precondition,t))return n;const i=e.value.clone(),o=Xw(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Zw?function(e,t,n,r){if(!Uw(e.precondition,t))return n;const i=Xw(e.fieldTransforms,r,t),o=t.data;return o.setAll(Qw(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Uw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Iw(r.transform,e||null);null!=i&&(null===n&&(n=mb.empty()),n.set(r.field,i))}return n||null}function Kw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&l_(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Aw&&t instanceof Aw||e instanceof Rw&&t instanceof Rw?l_(e.elements,t.elements,tb):e instanceof Ow&&t instanceof Ow?tb(e.Ie,t.Ie):e instanceof Pw&&t instanceof Pw}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Gw extends Bw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zw extends Bw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Qw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Yw(e,t,n){const r=new Map;Ky(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ew(s,a,n[i]))}return r}function Xw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Tw(e,o,t))}return r}class Jw extends Bw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $w extends Bw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eS{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&qw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ww(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ww(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=mw();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Vw(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(u_.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_w())}isEqual(e){return this.batchId===e.batchId&&l_(this.mutations,e.mutations,(e,t)=>Kw(e,t))&&l_(this.baseMutations,e.baseMutations,(e,t)=>Kw(e,t))}}class tS{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ky(e.mutations.length===n.length);let r=vw;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new tS(e,t,n,r)}}class nS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class rS{constructor(e,t){this.count=e,this.unchangedNames=t}}var iS,oS;function sS(e){switch(e){default:return Hy();case Zy.CANCELLED:case Zy.UNKNOWN:case Zy.DEADLINE_EXCEEDED:case Zy.RESOURCE_EXHAUSTED:case Zy.INTERNAL:case Zy.UNAVAILABLE:case Zy.UNAUTHENTICATED:return!1;case Zy.INVALID_ARGUMENT:case Zy.NOT_FOUND:case Zy.ALREADY_EXISTS:case Zy.PERMISSION_DENIED:case Zy.FAILED_PRECONDITION:case Zy.ABORTED:case Zy.OUT_OF_RANGE:case Zy.UNIMPLEMENTED:case Zy.DATA_LOSS:return!0}}function aS(e){if(void 0===e)return Vy("GRPC error has no .code"),Zy.UNKNOWN;switch(e){case iS.OK:return Zy.OK;case iS.CANCELLED:return Zy.CANCELLED;case iS.UNKNOWN:return Zy.UNKNOWN;case iS.DEADLINE_EXCEEDED:return Zy.DEADLINE_EXCEEDED;case iS.RESOURCE_EXHAUSTED:return Zy.RESOURCE_EXHAUSTED;case iS.INTERNAL:return Zy.INTERNAL;case iS.UNAVAILABLE:return Zy.UNAVAILABLE;case iS.UNAUTHENTICATED:return Zy.UNAUTHENTICATED;case iS.INVALID_ARGUMENT:return Zy.INVALID_ARGUMENT;case iS.NOT_FOUND:return Zy.NOT_FOUND;case iS.ALREADY_EXISTS:return Zy.ALREADY_EXISTS;case iS.PERMISSION_DENIED:return Zy.PERMISSION_DENIED;case iS.FAILED_PRECONDITION:return Zy.FAILED_PRECONDITION;case iS.ABORTED:return Zy.ABORTED;case iS.OUT_OF_RANGE:return Zy.OUT_OF_RANGE;case iS.UNIMPLEMENTED:return Zy.UNIMPLEMENTED;case iS.DATA_LOSS:return Zy.DATA_LOSS;default:return Hy()}}(oS=iS||(iS={}))[oS.OK=0]="OK",oS[oS.CANCELLED=1]="CANCELLED",oS[oS.UNKNOWN=2]="UNKNOWN",oS[oS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oS[oS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oS[oS.NOT_FOUND=5]="NOT_FOUND",oS[oS.ALREADY_EXISTS=6]="ALREADY_EXISTS",oS[oS.PERMISSION_DENIED=7]="PERMISSION_DENIED",oS[oS.UNAUTHENTICATED=16]="UNAUTHENTICATED",oS[oS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oS[oS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oS[oS.ABORTED=10]="ABORTED",oS[oS.OUT_OF_RANGE=11]="OUT_OF_RANGE",oS[oS.UNIMPLEMENTED=12]="UNIMPLEMENTED",oS[oS.INTERNAL=13]="INTERNAL",oS[oS.UNAVAILABLE=14]="UNAVAILABLE",oS[oS.DATA_LOSS=15]="DATA_LOSS";let lS=null;function cS(){return new TextEncoder}const uS=new My([4294967295,4294967295],0);function hS(e){const t=cS().encode(e),n=new Oy;return n.update(t),new Uint8Array(n.digest())}function dS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new My([n,r],0),new My([i,o],0)]}class fS{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new pS("Invalid padding: ".concat(t));if(n<0)throw new pS("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new pS("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new pS("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=My.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(My.fromNumber(n)));return 1===r.compare(uS)&&(r=new My([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=hS(e),[n,r]=dS(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new fS(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.Te)return;const t=hS(e),[n,r]=dS(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class pS extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mS{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,gS.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new mS(u_.min(),r,new D_(a_),uw(),_w())}}class gS{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new gS(n,t,_w(),_w(),_w())}}class vS{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class yS{constructor(e,t){this.targetId=e,this.fe=t}}class _S{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q_.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class bS{constructor(){this.ge=0,this.pe=xS(),this.ye=q_.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_w(),t=_w(),n=_w();return this.pe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hy()}}),new gS(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=xS()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ky(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class wS{constructor(e){this.Le=e,this.ke=new Map,this.qe=uw(),this.Qe=SS(),this.Ke=new D_(a_)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Hy()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((e,n)=>{this.je(n)&&t(n)})}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Wb(i))if(0===n){const e=new m_(i.path);this.We(t,e,vb.newNoDocument(e,u_.min()))}else Ky(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==lS||lS.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=G_(n).toUint8Array()}catch(e){if(e instanceof V_)return qy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new fS(o,r,i)}catch(e){return qy(e instanceof pS?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Wb(i.target)){const t=new m_(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,vb.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}});let n=_w();this.Qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.qe.forEach((t,n)=>n.setReadTime(e));const r=new mS(e,t,this.Ke,this.qe,n);return this.qe=uw(),this.Qe=SS(),this.Ke=new D_(a_),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new bS,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new j_(a_),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||By("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new bS),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function SS(){return new D_(m_.comparator)}function xS(){return new D_(m_.comparator)}const kS={asc:"ASCENDING",desc:"DESCENDING"},CS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TS={and:"AND",or:"OR"};class ES{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function IS(e,t){return e.useProto3Json||E_(t)?t:{value:t}}function PS(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function AS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function NS(e,t){return PS(e,t.toTimestamp())}function RS(e){return Ky(!!e),u_.fromTimestamp(function(e){const t=H_(e);return new c_(t.seconds,t.nanos)}(e))}function LS(e,t){return function(e){return new d_(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function OS(e){const t=d_.fromString(e);return Ky(ex(t)),t}function MS(e,t){return LS(e.databaseId,t.path)}function DS(e,t){const n=OS(t);if(n.get(1)!==e.databaseId.projectId)throw new Qy(Zy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qy(Zy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new m_(US(n))}function zS(e,t){return LS(e.databaseId,t)}function FS(e){const t=OS(e);return 4===t.length?d_.emptyPath():US(t)}function jS(e){return new d_(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function US(e){return Ky(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function BS(e,t,n){return{name:MS(e,t),fields:n.value.mapValue.fields}}function VS(e,t){let n;if(t instanceof Gw)n={update:BS(e,t.key,t.value)};else if(t instanceof Jw)n={delete:MS(e,t.key)};else if(t instanceof Zw)n={update:BS(e,t.key,t.data),updateMask:$S(t.fieldMask)};else{if(!(t instanceof $w))return Hy();n={verify:MS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Pw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Aw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ow)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Hy()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:NS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hy()}(e,t.precondition)),n}function qS(e,t){return{documents:[zS(e,t.path)]}}function WS(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return JS(Cb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:YS(e.field),direction:GS(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=IS(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function HS(e){let t=FS(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ky(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=KS(e);return t instanceof Cb&&Eb(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new wb(XS(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,E_(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new yb(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new yb(n,t)}(n.endAt)),Kb(t,i,s,o,a,"F",l,c)}function KS(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=XS(e.unaryFilter.field);return kb.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=XS(e.unaryFilter.field);return kb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=XS(e.unaryFilter.field);return kb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=XS(e.unaryFilter.field);return kb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hy()}}(e):void 0!==e.fieldFilter?function(e){return kb.create(XS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Cb.create(e.compositeFilter.filters.map(e=>KS(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Hy()}}(e.compositeFilter.op))}(e):Hy()}function GS(e){return kS[e]}function ZS(e){return CS[e]}function QS(e){return TS[e]}function YS(e){return{fieldPath:e.canonicalString()}}function XS(e){return p_.fromServerFormat(e.fieldPath)}function JS(e){return e instanceof kb?function(e){if("=="===e.op){if(hb(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NAN"}};if(ub(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hb(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NOT_NAN"}};if(ub(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:YS(e.field),op:ZS(e.op),value:e.value}}}(e):e instanceof Cb?function(e){const t=e.getFilters().map(e=>JS(e));return 1===t.length?t[0]:{compositeFilter:{op:QS(e.op),filters:t}}}(e):Hy()}function $S(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ex(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class tx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u_.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:u_.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:q_.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new tx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nx{constructor(e){this.ut=e}}function rx(e){const t=HS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ew(t,t.limit,"L"):t}class ix{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(K_(e.integerValue));else if("doubleValue"in e){const n=K_(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),I_(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(G_(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?pb(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Hy()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),m_.fromName(e).path.forEach(e=>{this.Tt(t,60),this.wt(e,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}ix.St=new ix;class ox{constructor(){this.on=new sx}addToCollectionParentIndex(e,t){return this.on.add(t),k_.resolve()}getCollectionParents(e,t){return k_.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return k_.resolve()}deleteFieldIndex(e,t){return k_.resolve()}deleteAllFieldIndexes(e){return k_.resolve()}createTargetIndexes(e,t){return k_.resolve()}getDocumentsMatchingTarget(e,t){return k_.resolve(null)}getIndexType(e,t){return k_.resolve(0)}getFieldIndexes(e,t){return k_.resolve([])}getNextCollectionGroupToUpdate(e){return k_.resolve(null)}getMinOffset(e,t){return k_.resolve(__.min())}getMinOffsetFromCollectionGroup(e,t){return k_.resolve(__.min())}updateCollectionGroup(e,t,n){return k_.resolve()}updateIndexEntries(e,t){return k_.resolve()}}class sx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new j_(d_.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new j_(d_.comparator)).toArray()}}new Uint8Array(0);class ax{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ax(e,ax.DEFAULT_COLLECTION_PERCENTILE,ax.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ax.DEFAULT_COLLECTION_PERCENTILE=10,ax.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ax.DEFAULT=new ax(41943040,ax.DEFAULT_COLLECTION_PERCENTILE,ax.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ax.DISABLED=new ax(-1,0,0);class lx{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new lx(0)}static Nn(){return new lx(-1)}}class cx{constructor(){this.changes=new lw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vb.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?k_.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ux{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ww(n.mutation,e,B_.empty(),c_.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,_w()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_w();const r=pw();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=dw();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=pw();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,_w()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=uw();const o=gw(),s=gw();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Zw)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Ww(s.mutation,t,s.mutation.getFieldMask(),c_.now())):o.set(t.key,B_.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ux(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=gw();let r=new D_((e,t)=>e-t),i=_w();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||B_.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||_w()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=mw();l.forEach(e=>{if(!i.has(e)){const r=Vw(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return k_.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return m_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):k_.resolve(pw());let s=-1,a=i;return o.next(t=>k_.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?k_.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,_w())).next(e=>({batchId:s,changes:fw(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new m_(t)).next(e=>{let t=dw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=dw();return this.indexManager.getCollectionParents(e,i).next(s=>k_.forEach(s,s=>{const a=function(e,t){return new Hb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,vb.newInvalidDocument(r)))});let n=dw();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Ww(o.mutation,r,B_.empty(),c_.now()),iw(t,r)&&(n=n.insert(e,r))}),n})}}class dx{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return k_.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:RS(e.createTime)}}(t)),k_.resolve()}getNamedQuery(e,t){return k_.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:rx(e.bundledQuery),readTime:RS(e.readTime)}}(t)),k_.resolve()}}class fx{constructor(){this.overlays=new D_(m_.comparator),this.lr=new Map}getOverlay(e,t){return k_.resolve(this.overlays.get(t))}getOverlays(e,t){const n=pw();return k_.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.lt(e,t,r)}),k_.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.lr.delete(n)),k_.resolve()}getOverlaysForCollection(e,t,n){const r=pw(),i=t.length+1,o=new m_(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return k_.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new D_((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=pw(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=pw(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return k_.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new nS(t,n));let i=this.lr.get(t);void 0===i&&(i=_w(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class px{constructor(){this.hr=new j_(mx.Pr),this.Ir=new j_(mx.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new mx(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.dr(new mx(e,t))}Ar(e,t){e.forEach(e=>this.removeReference(e,t))}Rr(e){const t=new m_(new d_([])),n=new mx(t,e),r=new mx(t,e+1),i=[];return this.Ir.forEachInRange([n,r],e=>{this.dr(e),i.push(e.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new m_(new d_([])),n=new mx(t,e),r=new mx(t,e+1);let i=_w();return this.Ir.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new mx(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class mx{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return m_.comparator(e.key,t.key)||a_(e.gr,t.gr)}static Tr(e,t){return a_(e.gr,t.gr)||m_.comparator(e.key,t.key)}}class gx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new j_(mx.Pr)}checkEmpty(e){return k_.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eS(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new mx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return k_.resolve(o)}lookupMutationBatch(e,t){return k_.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return k_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return k_.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return k_.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new mx(t,0),r=new mx(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],e=>{const t=this.wr(e.gr);i.push(t)}),k_.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new j_(a_);return t.forEach(e=>{const t=new mx(e,0),r=new mx(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],e=>{n=n.add(e.gr)})}),k_.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;m_.isDocumentKey(i)||(i=i.child(""));const o=new mx(new m_(i),0);let s=new j_(a_);return this.yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)},o),k_.resolve(this.br(s))}br(e){const t=[];return e.forEach(e=>{const n=this.wr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ky(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return k_.forEach(t.mutations,r=>{const i=new mx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=n})}Fn(e){}containsKey(e,t){const n=new mx(t,0),r=this.yr.firstAfterOrEqual(n);return k_.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k_.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vx{constructor(e){this.Cr=e,this.docs=new D_(m_.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return k_.resolve(n?n.document.mutableCopy():vb.newInvalidDocument(t))}getEntries(e,t){let n=uw();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():vb.newInvalidDocument(e))}),k_.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=uw();const o=t.path,s=new m_(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||b_(y_(s),n)<=0||(r.has(s.key)||iw(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return k_.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Hy()}vr(e,t){return k_.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new yx(this)}getSize(e){return k_.resolve(this.size)}}class yx extends cx{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)}),k_.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class _x{constructor(e){this.persistence=e,this.Fr=new lw(e=>Vb(e),qb),this.lastRemoteSnapshotVersion=u_.min(),this.highestTargetId=0,this.Mr=0,this.Or=new px,this.targetCount=0,this.Nr=lx.On()}forEachTarget(e,t){return this.Fr.forEach((e,n)=>t(n)),k_.resolve()}getLastRemoteSnapshotVersion(e){return k_.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k_.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),k_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),k_.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new lx(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,k_.resolve()}updateTargetData(e,t){return this.kn(t),k_.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,k_.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),k_.waitFor(i).next(()=>r)}getTargetCount(e){return k_.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return k_.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),k_.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),k_.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),k_.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return k_.resolve(n)}containsKey(e,t){return k_.resolve(this.Or.containsKey(t))}}class bx{constructor(e,t){this.Br={},this.overlays={},this.Lr=new T_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new _x(this),this.indexManager=new ox,this.remoteDocumentCache=function(e){return new vx(e)}(e=>this.referenceDelegate.Qr(e)),this.serializer=new nx(t),this.Kr=new dx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new gx(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){By("MemoryPersistence","Starting transaction:",e);const r=new wx(this.Lr.next());return this.referenceDelegate.$r(),n(r).next(e=>this.referenceDelegate.Ur(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Wr(e,t){return k_.or(Object.values(this.Br).map(n=>()=>n.containsKey(e,t)))}}class wx extends S_{constructor(e){super(),this.currentSequenceNumber=e}}class Sx{constructor(e){this.persistence=e,this.Gr=new px,this.zr=null}static jr(e){return new Sx(e)}get Hr(){if(this.zr)return this.zr;throw Hy()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),k_.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),k_.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),k_.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(e=>this.Hr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Hr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k_.forEach(this.Hr,n=>{const r=m_.fromPath(n);return this.Jr(e,r).next(e=>{e||t.removeEntry(r,u_.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return k_.or([()=>k_.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class xx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=_w(),r=_w();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new xx(e,t.fromCache,n,r)}}class kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cx{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ji(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new kx;return this.Hi(e,t,n).next(r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)})}).next(()=>i.result)}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Uy()<=Xd.DEBUG&&By("QueryEngine","SDK will not create cache indexes for query:",rw(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k_.resolve()):(Uy()<=Xd.DEBUG&&By("QueryEngine","Query:",rw(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Uy()<=Xd.DEBUG&&By("QueryEngine","The SDK decides to create cache indexes for query:",rw(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xb(t))):k_.resolve())}zi(e,t){if(Zb(t))return k_.resolve(null);let n=Xb(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ew(t,null,"F"),n=Xb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=_w(...r);return this.Gi.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,ew(t,null,"F")):this.Xi(e,o,t,n)}))})))}ji(e,t,n,r){return Zb(t)||r.isEqual(u_.min())?k_.resolve(null):this.Gi.getDocuments(e,n).next(i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?k_.resolve(null):(Uy()<=Xd.DEBUG&&By("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rw(t)),this.Xi(e,o,t,v_(r,-1)).next(e=>e))})}Yi(e,t){let n=new j_(sw(e));return t.forEach((t,r)=>{iw(e,r)&&(n=n.add(r))}),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Uy()<=Xd.DEBUG&&By("QueryEngine","Using full collection scan to execute query:",rw(t)),this.Gi.getDocumentsMatchingQuery(e,t,__.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Tx{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new D_(a_),this.ns=new lw(e=>Vb(e),qb),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function Ex(e,t,n,r){return new Tx(e,t,n,r)}async function Ix(e,t){const n=Gy(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=_w();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({_s:e,removedBatchIds:i,addedBatchIds:o}))})})}function Px(e){const t=Gy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function Ax(e,t,n){let r=_w(),i=_w();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=uw();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(u_.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):By("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{us:r,cs:i}})}function Nx(e,t){const n=Gy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Rx(e,t){const n=Gy(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.qr.getTargetData(e,t).next(i=>i?(r=i,k_.resolve(r)):n.qr.allocateTargetId(e).next(i=>(r=new tx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e})}async function Lx(e,t,n){const r=Gy(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!C_(e))throw e;By("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Ox(e,t,n){const r=Gy(e);let i=u_.min(),o=_w();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Gy(e),i=r.ns.get(n);return void 0!==i?k_.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Xb(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.es.getDocumentsMatchingQuery(e,t,n?i:u_.min(),n?o:_w())).next(e=>(Mx(r,ow(t),e),{documents:e,ls:o})))}function Mx(e,t,n){let r=e.rs.get(t)||u_.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.rs.set(t,r)}class Dx{constructor(){this.activeTargetIds=ww()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zx{constructor(){this.eo=new Dx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Dx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fx{ro(e){}shutdown(){}}class jx{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){By("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){By("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ux=null;function Bx(){return null===Ux?Ux=268435456+Math.round(2147483648*Math.random()):Ux++,"0x"+Ux.toString(16)}const Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qx{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Wx="WebChannelConnection";class Hx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=Bx(),s=this.So(e,t);By("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then(t=>(By("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw qy("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}So(e,t){const n=Vx[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=Bx();return new Promise((o,s)=>{const a=new Ly;a.setWithCredentials(!0),a.listenOnce(Py.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Iy.NO_ERROR:const t=a.getResponseJson();By(Wx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Iy.TIMEOUT:By(Wx,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Qy(Zy.DEADLINE_EXCEEDED,"Request time out"));break;case Iy.HTTP_ERROR:const n=a.getStatus();if(By(Wx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zy).indexOf(t)>=0?t:Zy.UNKNOWN}(t.status);s(new Qy(e,t.message))}else s(new Qy(Zy.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Qy(Zy.UNAVAILABLE,"Connection failed."));break;default:Hy()}}finally{By(Wx,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);By(Wx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}vo(e,t,n){const r=Bx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ty(),s=Ey(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");By(Wx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new qx({co:t=>{d?By(Wx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(By(Wx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),By(Wx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Ry.EventType.OPEN,()=>{d||By(Wx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,Ry.EventType.CLOSE,()=>{d||(d=!0,By(Wx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())}),p(u,Ry.EventType.ERROR,t=>{d||(d=!0,qy(Wx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Qy(Zy.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ry.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];Ky(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){By(Wx,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=iS[e];if(void 0!==t)return aS(t)}(t),i=s.message;void 0===n&&(n=Zy.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Ro(new Qy(n,i)),u.close()}else By(Wx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}}),p(s,Ay.STAT_EVENT,t=>{t.stat===Ny.PROXY?By(Wx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ny.NOPROXY&&By(Wx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.Ao()},0),f}}function Kx(){return"undefined"!=typeof document?document:null}function Gx(e){return new ES(e,!0)}class Zx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&By("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Qx{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Zx(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Zy.RESOURCE_EXHAUSTED?(Vy(t.toString()),Vy("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Zy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)},t=>{e(()=>{const e=new Qy(Zy.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)})})}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{n(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(e=>{n(()=>this.o_(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return By("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(By("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yx extends Qx{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ky(void 0===t||"string"==typeof t),q_.fromBase64String(t||"")):(Ky(void 0===t||t instanceof Uint8Array),q_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Zy.UNKNOWN:aS(e.code);return new Qy(t,e.message||"")}(s);n=new _S(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=DS(e,r.document.name),o=RS(r.document.updateTime),s=r.document.createTime?RS(r.document.createTime):u_.min(),a=new mb({mapValue:{fields:r.document.fields}}),l=vb.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vS(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=DS(e,r.document),o=r.readTime?RS(r.readTime):u_.min(),s=vb.newNoDocument(i,o),a=r.removedTargetIds||[];n=new vS([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=DS(e,r.document),o=r.removedTargetIds||[];n=new vS([],o,i,null)}else{if(!("filter"in t))return Hy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new rS(r,i),s=e.targetId;n=new yS(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return u_.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?u_.min():t.readTime?RS(t.readTime):u_.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=jS(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Wb(r)?{documents:qS(e,r)}:{query:WS(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=AS(e,t.resumeToken);const r=IS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(u_.min())>0){n.readTime=PS(e,t.snapshotVersion.toTimestamp());const r=IS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Hy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=jS(this.serializer),t.removeTarget=e,this.e_(t)}}class Xx extends Qx{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ky(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Ky(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?RS(e.updateTime):RS(t);return n.isEqual(u_.min())&&(n=RS(t)),new Fw(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=RS(e.commitTime);return this.listener.I_(n,t)}return Ky(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=jS(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>VS(this.serializer,e))};this.e_(t)}}class Jx extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Qy(Zy.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qy(Zy.UNKNOWN,e.toString())})}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qy(Zy.UNKNOWN,e.toString())})}terminate(){this.d_=!0}}class $x{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Vy(t),this.f_=!1):By("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class ek{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(e=>{n.enqueueAndForget(async()=>{ck(this)&&(By("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Gy(e);t.C_.add(4),await nk(t),t.M_.set("Unknown"),t.C_.delete(4),await tk(t)}(this))})}),this.M_=new $x(n,r)}}async function tk(e){if(ck(e))for(const t of e.v_)await t(!0)}async function nk(e){for(const t of e.v_)await t(!1)}function rk(e,t){const n=Gy(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),lk(n)?ak(n):Ek(n).Ho()&&ok(n,t))}function ik(e,t){const n=Gy(e),r=Ek(n);n.D_.delete(t),r.Ho()&&sk(n,t),0===n.D_.size&&(r.Ho()?r.Zo():ck(n)&&n.M_.set("Unknown"))}function ok(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(u_.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ek(e).u_(t)}function sk(e,t){e.x_.Oe(t),Ek(e).c_(t)}function ak(e){e.x_=new wS({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ek(e).start(),e.M_.g_()}function lk(e){return ck(e)&&!Ek(e).jo()&&e.D_.size>0}function ck(e){return 0===Gy(e).C_.size}function uk(e){e.x_=void 0}async function hk(e){e.D_.forEach((t,n)=>{ok(e,t)})}async function dk(e,t){uk(e),lk(e)?(e.M_.w_(t),ak(e)):e.M_.set("Unknown")}async function fk(e,t,n){if(e.M_.set("Online"),t instanceof _S&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){By("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pk(e,n)}else if(t instanceof vS?e.x_.$e(t):t instanceof yS?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(u_.min()))try{const t=await Px(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(q_.EMPTY_BYTE_STRING,r.snapshotVersion)),sk(e,t);const i=new tx(r.target,t,n,r.sequenceNumber);ok(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){By("RemoteStore","Failed to raise snapshot:",t),await pk(e,t)}}async function pk(e,t,n){if(!C_(t))throw t;e.C_.add(1),await nk(e),e.M_.set("Offline"),n||(n=()=>Px(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{By("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await tk(e)})}function mk(e,t){return t().catch(n=>pk(e,n,t))}async function gk(e){const t=Gy(e),n=Ik(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;vk(t);)try{const e=await Nx(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,yk(t,e)}catch(e){await pk(t,e)}_k(t)&&bk(t)}function vk(e){return ck(e)&&e.b_.length<10}function yk(e,t){e.b_.push(t);const n=Ik(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function _k(e){return ck(e)&&!Ik(e).jo()&&e.b_.length>0}function bk(e){Ik(e).start()}async function wk(e){Ik(e).E_()}async function Sk(e){const t=Ik(e);for(const n of e.b_)t.P_(n.mutations)}async function xk(e,t,n){const r=e.b_.shift(),i=tS.from(r,t,n);await mk(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await gk(e)}async function kk(e,t){t&&Ik(e).h_&&await async function(e,t){if(function(e){return sS(e)&&e!==Zy.ABORTED}(t.code)){const n=e.b_.shift();Ik(e).Yo(),await mk(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await gk(e)}}(e,t),_k(e)&&bk(e)}async function Ck(e,t){const n=Gy(e);n.asyncQueue.verifyOperationInProgress(),By("RemoteStore","RemoteStore received new credentials");const r=ck(n);n.C_.add(3),await nk(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await tk(n)}async function Tk(e,t){const n=Gy(e);t?(n.C_.delete(2),await tk(n)):t||(n.C_.add(2),await nk(n),n.M_.set("Unknown"))}function Ek(e){return e.O_||(e.O_=function(e,t,n){const r=Gy(e);return r.A_(),new Yx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:hk.bind(null,e),Io:dk.bind(null,e),a_:fk.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),lk(e)?ak(e):e.M_.set("Unknown")):(await e.O_.stop(),uk(e))})),e.O_}function Ik(e){return e.N_||(e.N_=function(e,t,n){const r=Gy(e);return r.A_(),new Xx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:wk.bind(null,e),Io:kk.bind(null,e),T_:Sk.bind(null,e),I_:xk.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await gk(e)):(await e.N_.stop(),e.b_.length>0&&(By("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))})),e.N_}class Pk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Pk(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qy(Zy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ak(e,t){if(Vy("AsyncQueue","".concat(t,": ").concat(e)),C_(e))return new Qy(Zy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Nk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||m_.comparator(t.key,n.key):(e,t)=>m_.comparator(e.key,t.key),this.keyedMap=dw(),this.sortedSet=new D_(this.comparator)}static emptySet(e){return new Nk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Nk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Rk{constructor(){this.B_=new D_(m_.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Hy():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Lk{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Lk(e,t,Nk.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ok{constructor(){this.k_=void 0,this.listeners=[]}}class Mk{constructor(){this.queries=new lw(e=>nw(e),tw),this.onlineState="Unknown",this.q_=new Set}}async function Dk(e,t){const n=Gy(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Ok),i)try{o.k_=await n.onListen(r)}catch(e){const n=Ak(e,"Initialization of query '".concat(rw(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&Uk(n)}async function zk(e,t){const n=Gy(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Fk(e,t){const n=Gy(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&Uk(n)}function jk(e,t,n){const r=Gy(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Uk(e){e.q_.forEach(e=>{e.next()})}class Bk{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Lk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=Lk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Vk{constructor(e){this.key=e}}class qk{constructor(e){this.key=e}}class Wk{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_w(),this.mutatedKeys=_w(),this._a=sw(e),this.aa=new Nk(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new Rk,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=iw(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hy()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc)),this.Pa(n),r=null!=r&&r;const s=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Lk(this.query,e.aa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Rk,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_w(),this.aa.forEach(e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))});const t=[];return e.forEach(e=>{this.oa.has(e)||t.push(new qk(e))}),this.oa.forEach(n=>{e.has(n)||t.push(new Vk(n))}),t}da(e){this.ia=e.ls,this.oa=_w();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Lk.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Hk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kk{constructor(e){this.key=e,this.Ra=!1}}class Gk{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new lw(e=>nw(e),tw),this.fa=new Map,this.ga=new Set,this.pa=new D_(m_.comparator),this.ya=new Map,this.wa=new px,this.Sa={},this.ba=new Map,this.Da=lx.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function Zk(e,t){const n=dC(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await Rx(n.localStore,Xb(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Qk(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&rk(n.remoteStore,e)}return i}async function Qk(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await Ox(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ca(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return sC(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const o=await Ox(e.localStore,t,!0),s=new Wk(t,o.ls),a=s.ca(o.documents),l=gS.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);sC(e,n,c.Ta);const u=new Hk(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function Yk(e,t){const n=Gy(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(e=>!tw(e,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lx(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ik(n.remoteStore,r.targetId),iC(n,r.targetId)}).catch(x_)):(iC(n,r.targetId),await Lx(n.localStore,r.targetId,!0))}async function Xk(e,t){const n=Gy(e);try{const e=await function(e,t){const n=Gy(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.qr.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(q_.EMPTY_BYTE_STRING,u_.min()).withLastLimboFreeSnapshotVersion(u_.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))});let a=uw(),l=_w();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Ax(e,o,t.documentUpdates).next(e=>{a=e.us,l=e.cs})),!r.isEqual(u_.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next(t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return k_.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.ts=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.ya.get(t);r&&(Ky(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Ky(r.Ra):e.removedDocuments.size>0&&(Ky(r.Ra),r.Ra=!1))}),await cC(n,e,t)}catch(e){await x_(e)}}function Jk(e,t,n){const r=Gy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Gy(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)}),r&&Uk(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $k(e,t,n){const r=Gy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new D_(m_.comparator);e=e.insert(o,vb.newNoDocument(o,u_.min()));const n=_w().add(o),i=new mS(u_.min(),new Map,new D_(a_),e,n);await Xk(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),lC(r)}else await Lx(r.localStore,t,!1).then(()=>iC(r,t,n)).catch(x_)}async function eC(e,t){const n=Gy(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Gy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=k_.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Ky(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_w();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);rC(n,r,null),nC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cC(n,e)}catch(e){await x_(e)}}async function tC(e,t,n){const r=Gy(e);try{const e=await function(e,t){const n=Gy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ky(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);rC(r,t,n),nC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cC(r,e)}catch(n){await x_(n)}}function nC(e,t){(e.ba.get(t)||[]).forEach(e=>{e.resolve()}),e.ba.delete(t)}function rC(e,t,n){const r=Gy(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function iC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(t=>{e.wa.containsKey(t)||oC(e,t)})}function oC(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(ik(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),lC(e))}function sC(e,t,n){for(const r of n)r instanceof Vk?(e.wa.addReference(r.key,t),aC(e,r)):r instanceof qk?(By("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||oC(e,r.key)):Hy()}function aC(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(By("SyncEngine","New document in limbo: "+n),e.ga.add(r),lC(e))}function lC(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new m_(d_.fromString(t)),r=e.Da.next();e.ya.set(r,new Kk(n)),e.pa=e.pa.insert(n,r),rk(e.remoteStore,new tx(Xb(Gb(n.path)),r,"TargetPurposeLimboResolution",T_._e))}}async function cC(e,t,n){const r=Gy(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((e,a)=>{s.push(r.va(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=xx.Qi(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=Gy(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>k_.forEach(t,t=>k_.forEach(t.ki,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>k_.forEach(t.qi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!C_(e))throw e;By("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function uC(e,t){const n=Gy(e);if(!n.currentUser.isEqual(t)){By("SyncEngine","User change. New user:",t.toKey());const e=await Ix(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach(e=>{e.forEach(e=>{e.reject(new Qy(Zy.CANCELLED,t))})}),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cC(n,e._s)}}function hC(e,t){const n=Gy(e),r=n.ya.get(t);if(r&&r.Ra)return _w().add(r.key);{let e=_w();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}function dC(e){const t=Gy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$k.bind(null,t),t.Va.a_=Fk.bind(null,t.eventManager),t.Va.Fa=jk.bind(null,t.eventManager),t}function fC(e){const t=Gy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,t),t}class pC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gx(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ex(this.persistence,new Cx,e.initialUser,this.serializer)}createPersistence(e){return new bx(Sx.jr,this.serializer)}createSharedClientState(e){return new zx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=uC.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mk}createDatastore(e){const t=Gx(e.databaseInfo.databaseId),n=function(e){return new Hx(e)}(e.databaseInfo);return function(e,t,n,r){return new Jx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ek(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Jk(this.syncEngine,e,0),jx.D()?new jx:new Fx)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Gk(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Gy(e);By("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await nk(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}class gC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Vy("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vC{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zy.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{By("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(By("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qy(Zy.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ak(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function yC(e,t){e.asyncQueue.verifyOperationInProgress(),By("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ix(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _C(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wC(e);By("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Ck(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ck(t.remoteStore,n)),e._onlineComponents=t}function bC(e){return"FirebaseError"===e.name?e.code===Zy.FAILED_PRECONDITION||e.code===Zy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function wC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){By("FirestoreClient","Using user provided OfflineComponentProvider");try{await yC(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bC(n))throw n;qy("Error using user provided cache. Falling back to memory cache: "+n),await yC(e,new pC)}}else By("FirestoreClient","Using default OfflineComponentProvider"),await yC(e,new pC);return e._offlineComponents}async function SC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(By("FirestoreClient","Using user provided OnlineComponentProvider"),await _C(e,e._uninitializedComponentsProvider._online)):(By("FirestoreClient","Using default OnlineComponentProvider"),await _C(e,new mC))),e._onlineComponents}function xC(e){return SC(e).then(e=>e.syncEngine)}async function kC(e){const t=await SC(e),n=t.eventManager;return n.onListen=Zk.bind(null,t.syncEngine),n.onUnlisten=Yk.bind(null,t.syncEngine),n}function CC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Yy;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new gC({next:o=>{t.enqueueAndForget(()=>zk(e,s));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Qy(Zy.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Qy(Zy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Bk(Gb(n.path),o,{includeMetadataChanges:!0,J_:!0});return Dk(e,s)}(await kC(e),e.asyncQueue,t,n,r)),r.promise}function TC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Yy;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new gC({next:n=>{t.enqueueAndForget(()=>zk(e,s)),n.fromCache&&"server"===r.source?i.reject(new Qy(Zy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Bk(n,o,{includeMetadataChanges:!0,J_:!0});return Dk(e,s)}(await kC(e),e.asyncQueue,t,n,r)),r.promise}function EC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const IC=new Map;function PC(e,t,n){if(!n)throw new Qy(Zy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function AC(e){if(!m_.isDocumentKey(e))throw new Qy(Zy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function NC(e){if(m_.isDocumentKey(e))throw new Qy(Zy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function RC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Hy()}function LC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qy(Zy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RC(e);throw new Qy(Zy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class OC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Qy(Zy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qy(Zy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Qy(Zy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Qy(Zy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Qy(Zy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Qy(Zy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class MC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qy(Zy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qy(Zy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jy;switch(e.type){case"firstParty":return new n_(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Qy(Zy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=IC.get(e);t&&(By("ComponentProvider","Removing Datastore"),IC.delete(e),t.terminate())}(this),Promise.resolve()}}class DC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new DC(this.firestore,e,this._query)}}class zC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new FC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zC(this.firestore,e,this._key)}}class FC extends DC{constructor(e,t,n){super(e,t,Gb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zC(this.firestore,null,new m_(e))}withConverter(e){return new FC(this.firestore,e,this._path)}}function jC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wd(e),PC("collection","path",t),e instanceof MC){const n=d_.fromString(t,...r);return NC(n),new FC(e,null,n)}{if(!(e instanceof zC||e instanceof FC))throw new Qy(Zy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(d_.fromString(t,...r));return NC(n),new FC(e.firestore,null,n)}}function UC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wd(e),1===arguments.length&&(t=s_.newId()),PC("doc","path",t),e instanceof MC){const n=d_.fromString(t,...r);return AC(n),new zC(e,null,new m_(n))}{if(!(e instanceof zC||e instanceof FC))throw new Qy(Zy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(d_.fromString(t,...r));return AC(n),new zC(e.firestore,e instanceof FC?e.converter:null,new m_(n))}}class BC{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Zx(this,"async_queue_retry"),this.iu=()=>{const e=Kx();e&&By("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Kx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Kx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Yy;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!C_(e))throw e;By("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Vy("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.tu=!1,e))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=Pk.createAndSchedule(this,e,t,n,e=>this.au(e));return this.Xa.push(r),r}su(){this.eu&&Hy()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function VC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class qC extends MC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new BC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||HC(this),this._firestoreClient.terminate()}}function WC(e){return e._firestoreClient||HC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HC(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new X_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,EC(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new vC(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class KC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new KC(q_.fromBase64String(e))}catch(e){throw new Qy(Zy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new KC(q_.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class GC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new p_(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ZC{constructor(e){this._methodName=e}}class QC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qy(Zy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qy(Zy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return a_(this._lat,e._lat)||a_(this._long,e._long)}}const YC=/^__.*__$/;class XC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gw(e,this.data,t,this.fieldTransforms)}}class JC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $C(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hy()}}class eT{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new eT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return gT(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if($C(this.Iu)&&YC.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class tT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gx(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new eT({Iu:e,methodName:t,gu:n,path:p_.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nT(e){const t=e._freezeSettings(),n=Gx(e._databaseId);return new tT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rT(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);dT("Data must be an object, but it was:",s,r);const a=uT(r,s);let l,c;if(o.merge)l=new B_(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=fT(t,r,n);if(!s.contains(i))throw new Qy(Zy.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));vT(e,i)||e.push(i)}l=new B_(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new XC(new mb(a),l,c)}class iT extends ZC{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iT}}class oT extends ZC{_toFieldTransform(e){return new zw(e.path,new Pw)}isEqual(e){return e instanceof oT}}function sT(e,t,n,r){const i=e.pu(1,t,n);dT("Data must be an object, but it was:",i,r);const o=[],s=mb.empty();O_(r,(e,r)=>{const a=mT(t,e,n);r=Wd(r);const l=i.Ru(a);if(r instanceof iT)o.push(a);else{const e=cT(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new B_(o);return new JC(s,a,i.fieldTransforms)}function aT(e,t,n,r,i,o){const s=e.pu(1,t,n),a=[fT(t,r,n)],l=[i];if(o.length%2!=0)throw new Qy(Zy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(fT(t,o[d])),l.push(o[d+1]);const c=[],u=mb.empty();for(let d=a.length-1;d>=0;--d)if(!vT(c,a[d])){const e=a[d];let t=l[d];t=Wd(t);const n=s.Ru(e);if(t instanceof iT)c.push(e);else{const r=cT(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new B_(c);return new JC(u,h,s.fieldTransforms)}function lT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return cT(n,e.pu(r?4:3,t))}function cT(e,t){if(hT(e=Wd(e)))return dT("Unsupported field value:",t,e),uT(e,t);if(e instanceof ZC)return function(e,t){if(!$C(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=cT(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Wd(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=c_.fromDate(e);return{timestampValue:PS(t.serializer,n)}}if(e instanceof c_){const n=new c_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:PS(t.serializer,n)}}if(e instanceof QC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof KC)return{bytesValue:AS(t.serializer,e._byteString)};if(e instanceof zC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:LS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(RC(e)))}(e,t)}function uT(e,t){const n={};return M_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):O_(e,(e,r)=>{const i=cT(r,t.Eu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function hT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof c_||e instanceof QC||e instanceof KC||e instanceof zC||e instanceof ZC)}function dT(e,t,n){if(!hT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=RC(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function fT(e,t,n){if((t=Wd(t))instanceof GC)return t._internalPath;if("string"==typeof t)return mT(e,t);throw gT("Field path arguments must be of type string or ",e,!1,void 0,n)}const pT=new RegExp("[~\\*/\\[\\]]");function mT(e,t,n){if(t.search(pT)>=0)throw gT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new GC(...t.split("."))._internalPath}catch(O){throw gT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gT(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Qy(Zy.INVALID_ARGUMENT,a+e+l)}function vT(e,t){return e.some(e=>e.isEqual(t))}class yT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _T(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _T extends yT{data(){return super.data()}}function bT(e,t){return"string"==typeof t?mT(e,t):t instanceof GC?t._internalPath:t._delegate._internalPath}function wT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Qy(Zy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ST{}class xT extends ST{}function kT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof ST&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof TT).length,n=e.filter(e=>e instanceof CT).length;if(t>1||t>0&&n>0)throw new Qy(Zy.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class CT extends xT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new CT(e,t,n)}_apply(e){const t=this._parse(e);return AT(e._query,t),new DC(e.firestore,e.converter,$b(e._query,t))}_parse(e){const t=nT(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){PT(s,o);const t=[];for(const n of s)t.push(IT(r,e,n));a={arrayValue:{values:t}}}else a=IT(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||PT(s,o),a=lT(n,t,s,"in"===o||"not-in"===o);return kb.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class TT extends ST{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new TT(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Cb.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)AT(n,i),n=$b(n,i)}(e._query,t),new DC(e.firestore,e.converter,$b(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ET extends xT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ET(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wb(t,n)}(e._query,this._field,this._direction);return new DC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Hb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function IT(e,t,n){if("string"==typeof(n=Wd(n))){if(""===n)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qb(t)&&-1!==n.indexOf("/"))throw new Qy(Zy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(d_.fromString(n));if(!m_.isDocumentKey(r))throw new Qy(Zy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ab(e,new m_(r))}if(n instanceof zC)return ab(e,n._key);throw new Qy(Zy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(RC(n),"."))}function PT(e,t){if(!Array.isArray(e)||0===e.length)throw new Qy(Zy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function AT(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Qy(Zy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Qy(Zy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class NT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(eb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return K_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(G_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return O_(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new QC(K_(e.latitude),K_(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Q_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Y_(e));default:return null}}convertTimestamp(e){const t=H_(e);return new c_(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=d_.fromString(e);Ky(ex(n));const r=new J_(n.get(1),n.get(3)),i=new m_(n.popFirst(5));return r.isEqual(t)||Vy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function RT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class LT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OT extends yT{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new MT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class MT extends OT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class DT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new LT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new MT(this._firestore,this._userDataWriter,n.key,n,new LT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qy(Zy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new MT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new LT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new MT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:zT(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hy()}}function FT(e){e=LC(e,zC);const t=LC(e.firestore,qC);return CC(WC(t),e._key).then(n=>qT(t,e,n))}class jT extends NT{constructor(e){super(),this.firestore=e}convertBytes(e){return new KC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zC(this.firestore,null,t)}}function UT(e,t,n){e=LC(e,zC);const r=LC(e.firestore,qC),i=nT(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Wd(t))||t instanceof GC?aT(i,"updateDoc",e._key,t,n,a):sT(i,"updateDoc",e._key,t),VT(r,[o.toMutation(e._key,jw.exists(!0))])}function BT(e,t){const n=LC(e.firestore,qC),r=UC(e),i=RT(e.converter,t);return VT(n,[rT(nT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jw.exists(!1))]).then(()=>r)}function VT(e,t){return function(e,t){const n=new Yy;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=fC(e);try{const e=await function(e,t){const n=Gy(e),r=c_.now(),i=t.reduce((e,t)=>e.add(t.key),_w());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=uw(),l=_w();return n.ss.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Hw(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Zw(e.key,t,gb(t.value.mapValue),jw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:fw(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new D_(a_)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await cC(r,e.changes),await gk(r.remoteStore)}catch(e){const t=Ak(e,"Failed to persist write");n.reject(t)}}(await xC(e),t,n)),n.promise}(WC(e),t)}function qT(e,t,n){const r=n.docs.get(t._key),i=new jT(e);return new OT(e,i,t._key,r,new LT(n.hasPendingWrites,n.fromCache),t.converter)}function WT(){return new oT("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fy=e}(rp),$f(new Hd("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new qC(new e_(e.getProvider("auth-internal")),new i_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qy(Zy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new J_(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),sp(Dy,"4.4.0",e),sp(Dy,"4.4.0","esm2017")}();function HT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GT=KT,ZT=new Cd("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),QT=new nf("@firebase/auth");function YT(e){if(QT.logLevel<=Xd.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];QT.error("Auth (".concat(rp,"): ").concat(e),...n)}}function XT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw eE(e,...n)}function JT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return eE(e,...n)}function $T(e,t,n){const r=Object.assign(Object.assign({},GT()),{[t]:n});return new Cd("auth","Firebase",r).create(t,{appName:e.name})}function eE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ZT.create(e,...n)}function tE(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw eE(t,...r)}}function nE(e){const t="INTERNAL ASSERTION FAILED: "+e;throw YT(t),new Error(t)}function rE(e,t){e||nE(t)}function iE(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function oE(){return"http:"===sE()||"https:"===sE()}function sE(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function aE(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(oE()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class lE{constructor(e,t){this.shortDelay=e,this.longDelay=t,rE(t>e,"Short delay should be less than long delay!"),this.isMobile=bd()||wd()}get(){return aE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cE(e,t){rE(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class uE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void nE("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void nE("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void nE("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dE=new lE(3e4,6e4);function fE(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function pE(e,t,n,r){return mE(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Dd(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),uE.fetch()(vE(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function mE(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},hE),t);try{const t=new _E(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bE(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw bE(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw bE(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw bE(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw $T(e,a,s);XT(e,a)}}catch(i){if(i instanceof kd)throw i;XT(e,"network-request-failed",{message:String(i)})}}async function gE(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await pE(e,t,n,r,i);return"mfaPendingCredential"in o&&XT(e,"multi-factor-auth-required",{_serverResponse:o}),o}function vE(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?cE(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function yE(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _E{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(JT(this.auth,"network-request-failed")),dE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bE(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=JT(e,t,r);return i.customData._tokenResponse=n,i}function wE(e){return void 0!==e&&void 0!==e.enterprise}class SE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yE(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function xE(e,t){return pE(e,"GET","/v2/recaptchaConfig",fE(e,t))}function kE(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function CE(e){return 1e3*Number(e)}function TE(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return YT("JWT malformed, contained fewer than 3 sections"),null;try{const e=ad(n);return e?JSON.parse(e):(YT("Failed to decode base64 JWT payload"),null)}catch(i){return YT("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function EE(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof kd&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class IE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class PE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kE(this.lastLoginAt),this.creationTime=kE(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function AE(e){var t;const n=e.auth,r=await e.getIdToken(),i=await EE(e,async function(e,t){return pE(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));tE(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=HT(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new PE(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class NE{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tE(e.idToken,"internal-error"),tE("undefined"!==typeof e.idToken,"internal-error"),tE("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=TE(e);return tE(t,"internal-error"),tE("undefined"!==typeof t.exp,"internal-error"),tE("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return tE(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await mE(e,{},async()=>{const n=Dd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=vE(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",uE.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new NE;return n&&(tE("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(tE("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(tE("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new NE,this.toJSON())}_performRefresh(){return nE("not implemented")}}function RE(e,t){tE("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class LE{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=HT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new PE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await EE(this,this.stsTokenManager.getToken(this.auth,e));return tE(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Wd(e),r=await n.getIdToken(t),i=TE(r);tE(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:kE(CE(i.auth_time)),issuedAtTime:kE(CE(i.iat)),expirationTime:kE(CE(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Wd(e);await AE(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(tE(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new LE(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){tE(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await AE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await EE(this,async function(e,t){return pE(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:S}=t;tE(y&&S,e,"internal-error");const x=NE.fromJSON(this.name,S);tE("string"===typeof y,e,"internal-error"),RE(u,e.name),RE(h,e.name),tE("boolean"===typeof _,e,"internal-error"),tE("boolean"===typeof b,e,"internal-error"),RE(d,e.name),RE(f,e.name),RE(p,e.name),RE(m,e.name),RE(g,e.name),RE(v,e.name);const k=new LE({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new NE;r.updateFromServerResponse(t);const i=new LE({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await AE(i),i}}const OE=new Map;function ME(e){rE(e instanceof Function,"Expected a class definition");let t=OE.get(e);return t?(rE(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,OE.set(e,t),t)}class DE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DE.type="NONE";const zE=DE;function FE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class jE{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=FE(this.userKey,r.apiKey,i),this.fullPersistenceKey=FE("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?LE._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new jE(ME(zE),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ME(zE);const o=FE(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=LE._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new jE(i,e,n)):new jE(i,e,n)}}function UE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KE(t))return"Blackberry";if(GE(t))return"Webos";if(VE(t))return"Safari";if((t.includes("chrome/")||qE(t))&&!t.includes("edge/"))return"Chrome";if(HE(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function BE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return/firefox\//i.test(e)}function VE(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return/crios\//i.test(e)}function WE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return/iemobile/i.test(e)}function HE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return/android/i.test(e)}function KE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return/blackberry/i.test(e)}function GE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return/webos/i.test(e)}function ZE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function QE(){return function(){const e=_d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function YE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d();return ZE(e)||HE(e)||GE(e)||KE(e)||/windows phone/i.test(e)||WE(e)}function XE(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=UE(_d());break;case"Worker":t="".concat(UE(_d()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(rp,"/").concat(r)}class JE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class $E{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class eI{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nI(this),this.idTokenSubscription=new nI(this),this.beforeStateQueue=new JE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ME(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await jE.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tE(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await AE(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Wd(e):null;return t&&tE(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&tE(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ME(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return pE(e,"GET","/v2/passwordPolicy",fE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new $E(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cd("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return pE(e,"POST","/v2/accounts:revokeToken",fE(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ME(e)||this._popupRedirectResolver;tE(t,this,"argument-error"),this.redirectPersistenceManager=await jE.create(this,[ME(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(tE(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tE(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(QT.logLevel<=Xd.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];QT.warn("Auth (".concat(rp,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function tI(e){return Wd(e)}class nI{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ud(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return tE(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rI(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=JT("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function iI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class oI{constructor(e){this.type="recaptcha-enterprise",this.auth=tI(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;wE(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{xE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new SE(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&wE(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));rI("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function sI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new oI(e);let o;try{o=await i.verify(n)}catch(fA){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function aI(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await sI(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await sI(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function lI(e,t,n){const r=tI(e);tE(r._canInitEmulator,r,"emulator-config-failed"),tE(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=cI(t),{host:s,port:a}=function(e){const t=cI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:uI(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:uI(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function cI(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uI(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class hI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nE("not implemented")}_getIdTokenResponse(e){return nE("not implemented")}_linkToIdToken(e,t){return nE("not implemented")}_getReauthenticationResolver(e){return nE("not implemented")}}async function dI(e,t){return pE(e,"POST","/v1/accounts:signUp",t)}async function fI(e,t){return gE(e,"POST","/v1/accounts:signInWithPassword",fE(e,t))}class pI extends hI{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pI(e,t,"password")}static _fromEmailAndCode(e,t){return new pI(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return aI(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fI);case"emailLink":return async function(e,t){return gE(e,"POST","/v1/accounts:signInWithEmailLink",fE(e,t))}(e,{email:this._email,oobCode:this._password});default:XT(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return aI(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dI);case"emailLink":return async function(e,t){return gE(e,"POST","/v1/accounts:signInWithEmailLink",fE(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:XT(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mI(e,t){return gE(e,"POST","/v1/accounts:signInWithIdp",fE(e,t))}class gI extends hI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gI(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):XT("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=HT(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new gI(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return mI(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,mI(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mI(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dd(t)}return e}}const vI={USER_NOT_FOUND:"user-not-found"};class yI extends hI{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new yI({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new yI({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return gE(e,"POST","/v1/accounts:signInWithPhoneNumber",fE(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await gE(e,"POST","/v1/accounts:signInWithPhoneNumber",fE(e,t));if(n.temporaryProof)throw bE(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return gE(e,"POST","/v1/accounts:signInWithPhoneNumber",fE(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),vI)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new yI({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class _I{constructor(e){var t,n,r,i,o,s;const a=zd(Fd(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);tE(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=zd(Fd(e)).link,n=t?zd(Fd(t)).deep_link_id:null,r=zd(Fd(e)).deep_link_id;return(r?zd(Fd(r)).link:null)||r||n||t||e}(e);try{return new _I(t)}catch(n){return null}}}class bI{constructor(){this.providerId=bI.PROVIDER_ID}static credential(e,t){return pI._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=_I.parseLink(t);return tE(n,"argument-error"),pI._fromEmailAndCode(e,n.code,n.tenantId)}}bI.PROVIDER_ID="password",bI.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class SI extends wI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xI extends SI{constructor(){super("facebook.com")}static credential(e){return gI._fromParams({providerId:xI.PROVIDER_ID,signInMethod:xI.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xI.credentialFromTaggedObject(e)}static credentialFromError(e){return xI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xI.credential(t.oauthAccessToken)}catch(n){return null}}}xI.FACEBOOK_SIGN_IN_METHOD="facebook.com",xI.PROVIDER_ID="facebook.com";class kI extends SI{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gI._fromParams({providerId:kI.PROVIDER_ID,signInMethod:kI.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kI.credentialFromTaggedObject(e)}static credentialFromError(e){return kI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return kI.credential(n,r)}catch(i){return null}}}kI.GOOGLE_SIGN_IN_METHOD="google.com",kI.PROVIDER_ID="google.com";class CI extends SI{constructor(){super("github.com")}static credential(e){return gI._fromParams({providerId:CI.PROVIDER_ID,signInMethod:CI.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return CI.credentialFromTaggedObject(e)}static credentialFromError(e){return CI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return CI.credential(t.oauthAccessToken)}catch(n){return null}}}CI.GITHUB_SIGN_IN_METHOD="github.com",CI.PROVIDER_ID="github.com";class TI extends SI{constructor(){super("twitter.com")}static credential(e,t){return gI._fromParams({providerId:TI.PROVIDER_ID,signInMethod:TI.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return TI.credentialFromTaggedObject(e)}static credentialFromError(e){return TI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return TI.credential(n,r)}catch(i){return null}}}async function EI(e,t){return gE(e,"POST","/v1/accounts:signUp",fE(e,t))}TI.TWITTER_SIGN_IN_METHOD="twitter.com",TI.PROVIDER_ID="twitter.com";class II{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await LE._fromIdTokenResponse(e,n,r),o=PI(n);return new II({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=PI(n);return new II({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function PI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class AI extends kd{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,AI.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new AI(e,t,n,r)}}function NI(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw AI._fromErrorAndOperation(e,n,t,r);throw n})}async function RI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await EE(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return II._forOperation(e,"link",r)}async function LI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await EE(e,NI(r,i,t,e),n);tE(o.idToken,r,"internal-error");const s=TE(o.idToken);tE(s,r,"internal-error");const{sub:a}=s;return tE(e.uid===a,r,"user-mismatch"),II._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&XT(r,"user-mismatch"),o}}async function OI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await NI(e,r,t),o=await II._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const MI="__sak";class DI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(MI,"1"),this.storage.removeItem(MI),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class zI extends DI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=_d();return VE(e)||ZE(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=YE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);QE()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zI.type="LOCAL";const FI=zI;class jI extends DI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jI.type="SESSION";const UI=jI;class BI{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new BI(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function VI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}BI.receivers=[];class qI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=VI("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function WI(){return window}function HI(){return"undefined"!==typeof WI().WorkerGlobalScope&&"function"===typeof WI().importScripts}const KI="firebaseLocalStorageDb",GI="firebaseLocalStorage",ZI="fbase_key";class QI{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function YI(e,t){return e.transaction([GI],t?"readwrite":"readonly").objectStore(GI)}function XI(){const e=indexedDB.open(KI,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(GI,{keyPath:ZI})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(GI)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(KI);return new QI(e).toPromise()}(),t(await XI()))})})}async function JI(e,t,n){const r=YI(e,!0).put({[ZI]:t,value:n});return new QI(r).toPromise()}function $I(e,t){const n=YI(e,!0).delete(t);return new QI(n).toPromise()}class eP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await XI()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=BI._getInstance(HI()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await XI();return await JI(e,MI,"1"),await $I(e,MI),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>JI(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=YI(e,!1).get(t),r=await new QI(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$I(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=YI(e,!1).getAll();return new QI(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}eP.type="LOCAL";const tP=eP;iI("rcb"),new lE(3e4,6e4);const nP="recaptcha";async function rP(e,t,n){var r;const i=await n.verify();try{let o;if(tE("string"===typeof i,e,"argument-error"),tE(n.type===nP,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){tE("enroll"===t.type,e,"internal-error");const n=await function(e,t){return pE(e,"POST","/v2/accounts/mfaEnrollment:start",fE(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{tE("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;tE(n,e,"missing-multi-factor-info");const s=await function(e,t){return pE(e,"POST","/v2/accounts/mfaSignIn:start",fE(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return pE(e,"POST","/v1/accounts:sendVerificationCode",fE(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class iP{constructor(e){this.providerId=iP.PROVIDER_ID,this.auth=tI(e)}verifyPhoneNumber(e,t){return rP(this.auth,e,Wd(t))}static credential(e,t){return yI._fromVerification(e,t)}static credentialFromResult(e){const t=e;return iP.credentialFromTaggedObject(t)}static credentialFromError(e){return iP.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?yI._fromTokenResponse(n,r):null}}function oP(e,t){return t?ME(t):(tE(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}iP.PROVIDER_ID="phone",iP.PHONE_SIGN_IN_METHOD="phone";class sP extends hI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mI(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aP(e){return OI(e.auth,new sP(e),e.bypassAuthState)}function lP(e){const{auth:t,user:n}=e;return tE(n,t,"internal-error"),LI(n,new sP(e),e.bypassAuthState)}async function cP(e){const{auth:t,user:n}=e;return tE(n,t,"internal-error"),RI(n,new sP(e),e.bypassAuthState)}class uP{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aP;case"linkViaPopup":case"linkViaRedirect":return cP;case"reauthViaPopup":case"reauthViaRedirect":return lP;default:XT(this.auth,"internal-error")}}resolve(e){rE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hP=new lE(2e3,1e4);class dP extends uP{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,dP.currentPopupAction&&dP.currentPopupAction.cancel(),dP.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tE(e,this.auth,"internal-error"),e}async onExecution(){rE(1===this.filter.length,"Popup operations only handle one event");const e=VI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(JT(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(JT(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dP.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(JT(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,hP.get())};e()}}dP.currentPopupAction=null;const fP=new Map;class pP extends uP{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=fP.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=vP(t),r=gP(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}fP.set(this.auth._key(),e)}return this.bypassAuthState||fP.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function mP(e,t){fP.set(e._key(),t)}function gP(e){return ME(e._redirectPersistence)}function vP(e){return FE("pendingRedirect",e.config.apiKey,e.name)}async function yP(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=tI(e),i=oP(r,t),o=new pP(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class _P{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!wP(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(JT(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bP(e))}saveEventToCache(e){this.cachedEventUids.add(bP(e)),this.lastProcessedEventTime=Date.now()}}function bP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function wP(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const SP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xP=/^https?/;async function kP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return pE(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(CP(r))return}catch(n){}XT(e,"unauthorized-domain")}function CP(e){const t=iE(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!xP.test(n))return!1;if(SP.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const TP=new lE(3e4,6e4);function EP(){const e=WI().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let IP=null;function PP(e){return IP=IP||function(e){return new Promise((t,n)=>{var r,i,o;function s(){EP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{EP(),n(JT(e,"network-request-failed"))},timeout:TP.get()})}if(null===(i=null===(r=WI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=WI().gapi)||void 0===o?void 0:o.load)){const t=iI("iframefcb");return WI()[t]=()=>{gapi.load?s():n(JT(e,"network-request-failed"))},rI("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw IP=null,e})}(e),IP}const AP=new lE(5e3,15e3),NP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(e){const t=e.config;tE(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?cE(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:rp},i=RP.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Dd(r).slice(1))}const OP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class MP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function DP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OP),{width:r.toString(),height:i.toString(),top:o,left:s}),c=_d().toLowerCase();n&&(a=qE(c)?"_blank":n),BE(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ZE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new MP(null);const h=window.open(t||"",a,u);tE(h,e,"popup-blocked");try{h.focus()}catch(d){}return new MP(h)}const zP="__/auth/handler",FP="emulator/auth/handler",jP=encodeURIComponent("fac");async function UP(e,t,n,r,i,o){tE(e.config.authDomain,e,"auth-domain-config-required"),tE(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:rp,eventId:i};if(t instanceof wI){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Rd(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof SI){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(jP,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(zP);return cE(t,FP)}(e),"?").concat(Dd(a).slice(1)).concat(c)}const BP="webStorageSupport";const VP=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UI,this._completeRedirectFn=yP,this._overrideRedirectResult=mP}async _openPopup(e,t,n,r){var i;rE(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return DP(e,await UP(e,t,n,iE(),r),VI())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){WI().location.href=e}(await UP(e,t,n,iE(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(rE(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await PP(e),n=WI().gapi;return tE(n,e,"internal-error"),t.open({where:document.body,url:LP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NP,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=JT(e,"network-request-failed"),o=WI().setTimeout(()=>{r(i)},AP.get());function s(){WI().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}(e),n=new _P(e);return t.register("authEvent",t=>{tE(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(BP,{type:BP},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[BP];void 0!==i&&t(!!i),XT(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YE()||VE()||ZE()}};var qP="@firebase/auth",WP="1.5.1";class HP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){tE(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const KP=gd("authIdTokenMaxAge")||300;let GP=null;var ZP;ZP="Browser",$f(new Hd("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;tE(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ZP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XE(ZP)},c=new eI(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ME);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),$f(new Hd("auth-internal",e=>(e=>new HP(e))(tI(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),sp(qP,WP,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ZP)),sp(qP,WP,"esm2017");const QP="@firebase/database",YP="1.0.2";let XP="";function JP(e){XP=e}class $P{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Id(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ed(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class eA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ad(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const tA=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $P(t)}}catch(t){}return new eA},nA=tA("localStorage"),rA=tA("sessionStorage"),iA=new nf("@firebase/database"),oA=function(){let e=1;return function(){return e++}}(),sA=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,ed(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new jd;n.update(t);const r=n.digest();return rd.encodeByteArray(r)},aA=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=aA.apply(null,n):e+="object"===typeof n?Id(n):n,e+=" "}return e};let lA=null,cA=!0;const uA=function(e,t){ed(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(iA.logLevel=Xd.VERBOSE,lA=iA.log.bind(iA),t&&rA.set("logging_enabled",!0)):"function"===typeof e?lA=e:(lA=null,rA.remove("logging_enabled"))},hA=function(){if(!0===cA&&(cA=!1,null===lA&&!0===rA.get("logging_enabled")&&uA(!0)),lA){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=aA.apply(null,t);lA(r)}},dA=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hA(e,...n)}},fA=function(){const e="FIREBASE INTERNAL ERROR: "+aA(...arguments);iA.error(e)},pA=function(){const e="FIREBASE FATAL ERROR: ".concat(aA(...arguments));throw iA.error(e),new Error(e)},mA=function(){const e="FIREBASE WARNING: "+aA(...arguments);iA.warn(e)},gA=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vA="[MIN_NAME]",yA="[MAX_NAME]",_A=function(e,t){if(e===t)return 0;if(e===vA||t===yA)return-1;if(t===vA||e===yA)return 1;{const n=EA(e),r=EA(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},bA=function(e,t){return e===t?0:e<t?-1:1},wA=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Id(t))},SA=function(e){if("object"!==typeof e||null===e)return Id(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Id(t[r]),n+=":",n+=SA(e[t[r]]);return n+="}",n},xA=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function kA(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const CA=function(e){ed(!gA(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const TA=new RegExp("^-?(0*)\\d{1,10}$"),EA=function(e){if(TA.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},IA=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw mA("Exception was thrown by user callback.",e),t},Math.floor(0))}},PA=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class AA{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){mA('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class NA{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(hA("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mA(e)}}class RA{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}RA.OWNER="owner";const LA="5",OA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MA="ac",DA="websocket",zA="long_polling";class FA{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nA.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nA.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function jA(e,t,n){let r;if(ed("string"===typeof t,"typeof type must == string"),ed("object"===typeof n,"typeof params must == object"),t===DA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==zA)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return kA(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class UA{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ad(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ld(this.counters_)}}const BA={},VA={};function qA(e){const t=e.toString();return BA[t]||(BA[t]=new UA),BA[t]}class WA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&IA(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const HA="start";class KA{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dA(e),this.stats_=qA(t),this.urlFn=e=>(this.appCheckToken&&(e[MA]=this.appCheckToken),jA(t,zA,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new WA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Sd()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GA(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===HA)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[HA]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=LA,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[MA]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&OA.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){KA.forceAllow_=!0}static forceDisallow(){KA.forceDisallow_=!0}static isAvailable(){return!Sd()&&(!!KA.forceAllow_||!KA.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Id(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=od(t),r=xA(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Sd())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Id(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class GA{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Sd())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=oA(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=GA.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){hA("frame writing exception"),i.stack&&hA(i.stack),hA(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||hA("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Sd()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{hA("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let ZA=null;"undefined"!==typeof MozWebSocket?ZA=MozWebSocket:"undefined"!==typeof WebSocket&&(ZA=WebSocket);class QA{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dA(this.connId),this.stats_=qA(t),this.connURL=QA.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=LA,!Sd()&&"undefined"!==typeof location&&location.hostname&&OA.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[MA]=r),i&&(o.p=i),jA(e,DA,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nA.set("previous_websocket_failure",!0);try{let e;if(Sd()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(LA,"/").concat(XP,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/iptracker-main",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ZA(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){QA.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ZA&&!QA.forceDisallow_}static previouslyFailed(){return nA.isInMemoryStorage||!0===nA.get("previous_websocket_failure")}markConnectionHealthy(){nA.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Ed(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ed(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Id(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=xA(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}QA.responsesRequiredToBeHealthy=2,QA.healthyTimeout=3e4;class YA{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[KA,QA]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=QA&&QA.isAvailable();let n=t&&!QA.previouslyFailed();if(e.webSocketOnly&&(t||mA("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[QA];else{const e=this.transports_=[];for(const t of YA.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);YA.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}YA.globalTransportInitialized_=!1;class XA{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dA("c:"+this.id+":"),this.transportManager_=new YA(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=PA(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=wA("t",e),n=wA("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=wA("t",e),n=wA("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=wA("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?fA("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fA("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),LA!==n&&mA("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),PA(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):PA(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nA.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class JA{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class $A{constructor(e){this.allowedEvents_=e,this.listeners_={},ed(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){ed(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class eN extends $A{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||bd()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new eN}getInitialEvent(e){return ed("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class tN{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function nN(){return new tN("")}function rN(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function iN(e){return e.pieces_.length-e.pieceNum_}function oN(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new tN(e.pieces_,t)}function sN(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function aN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function lN(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new tN(t,0)}function cN(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof tN)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new tN(n,0)}function uN(e){return e.pieceNum_>=e.pieces_.length}function hN(e,t){const n=rN(e),r=rN(t);if(null===n)return t;if(n===r)return hN(oN(e),oN(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function dN(e,t){if(iN(e)!==iN(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fN(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(iN(e)>iN(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class pN{constructor(e,t){this.errorPrefix_=t,this.parts_=aN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=qd(this.parts_[n]);mN(this)}}function mN(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gN(e))}function gN(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class vN extends $A{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new vN}getInitialEvent(e){return ed("visible"===e,"Unknown event type: "+e),[this.visible_]}}const yN=1e3;class _N extends JA{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=_N.nextPersistentConnectionId_++,this.log_=dA("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yN,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Sd())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&eN.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Id(i)),ed(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new vd,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ed(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ed(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;_N.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Ad(e,"w")){const n=Nd(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();mA("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Pd(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Pd(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ed(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Id(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):fA("Unrecognized action received from server: "+Id(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ed(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yN,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yN,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yN),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+_N.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){ed(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?hA("getToken() completed but was canceled"):(hA("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new XA(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{mA(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(fA){this.log_("Failed to get token: "+fA),o||(this.repoInfo_.nodeAdmin&&mA(fA),a())}}}interrupt(e){hA("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hA("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Rd(this.interruptReasons_)&&(this.reconnectDelay_=yN,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>SA(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new tN(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){hA("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){hA("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Sd()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+XP.replace(/\./g,"-")]=1,bd()?e["framework.cordova"]=1:wd()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=eN.getInstance().currentlyOnline();return Rd(this.interruptReasons_)&&e}}_N.nextPersistentConnectionId_=0,_N.nextConnectionId_=0;class bN{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new bN(e,t)}}class wN{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new bN(vA,e),r=new bN(vA,t);return 0!==this.compare(n,r)}minPost(){return bN.MIN}}let SN;class xN extends wN{static get __EMPTY_NODE(){return SN}static set __EMPTY_NODE(e){SN=e}compare(e,t){return _A(e.name,t.name)}isDefinedOn(e){throw td("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return bN.MIN}maxPost(){return new bN(yA,SN)}makePost(e,t){return ed("string"===typeof e,"KeyIndex indexValue must always be a string."),new bN(e,SN)}toString(){return".key"}}const kN=new xN;class CN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class TN{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:TN.RED,this.left=null!=r?r:EN.EMPTY_NODE,this.right=null!=i?i:EN.EMPTY_NODE}copy(e,t,n,r,i){return new TN(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return EN.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return EN.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,TN.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,TN.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}TN.RED=!0,TN.BLACK=!1;class EN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EN.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new EN(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,TN.BLACK,null,null))}remove(e){return new EN(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,TN.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new CN(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new CN(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new CN(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new CN(this.root_,null,this.comparator_,!0,e)}}function IN(e,t){return _A(e.name,t.name)}function PN(e,t){return _A(e,t)}let AN;EN.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new TN(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const NN=function(e){return"number"===typeof e?"number:"+CA(e):"string:"+e},RN=function(e){if(e.isLeafNode()){const t=e.val();ed("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ad(t,".sv"),"Priority must be a string or number.")}else ed(e===AN||e.isEmpty(),"priority of unexpected type.");ed(e===AN||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let LN,ON,MN;class DN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DN.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ed(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),RN(this.priorityNode_)}static set __childrenNodeConstructor(e){LN=e}static get __childrenNodeConstructor(){return LN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new DN(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:DN.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return uN(e)?this:".priority"===rN(e)?this.priorityNode_:DN.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:DN.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=rN(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ed(".priority"!==n||1===iN(e),".priority must be the last token in a path"),this.updateImmediateChild(n,DN.__childrenNodeConstructor.EMPTY_NODE.updateChild(oN(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+NN(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?CA(this.value_):this.value_,this.lazyHash_=sA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===DN.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof DN.__childrenNodeConstructor?-1:(ed(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=DN.VALUE_TYPE_ORDER.indexOf(t),i=DN.VALUE_TYPE_ORDER.indexOf(n);return ed(r>=0,"Unknown leaf type: "+t),ed(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}DN.VALUE_TYPE_ORDER=["object","boolean","number","string"];const zN=new class extends wN{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?_A(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return bN.MIN}maxPost(){return new bN(yA,new DN("[PRIORITY-POST]",MN))}makePost(e,t){const n=ON(e);return new bN(t,new DN("[PRIORITY-POST]",n))}toString(){return".priority"}},FN=Math.log(2);class jN{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/FN,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const UN=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new TN(a,s.node,TN.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new TN(a,s.node,TN.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],h=n?n(u):u;l(new TN(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,TN.BLACK):(a(r,TN.BLACK),a(r,TN.RED))}return o}(new jN(e.length));return new EN(r||t,o)};let BN;const VN={};class qN{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ed(VN&&zN,"ChildrenNode.ts has not been loaded"),BN=BN||new qN({".priority":VN},{".priority":zN}),BN}get(e){const t=Nd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof EN?t:null}hasIndex(e){return Ad(this.indexSet_,e.toString())}addIndex(e,t){ed(e!==kN,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(bN.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?UN(n,e.getCompare()):VN;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new qN(c,l)}addToIndexes(e,t){const n=Ld(this.indexes_,(n,r)=>{const i=Nd(this.indexSet_,r);if(ed(i,"Missing index implementation for "+r),n===VN){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(bN.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),UN(n,i.getCompare())}return VN}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new bN(e.name,r))),i.insert(e,e.node)}});return new qN(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ld(this.indexes_,n=>{if(n===VN)return n;{const r=t.get(e.name);return r?n.remove(new bN(e.name,r)):n}});return new qN(n,this.indexSet_)}}let WN;class HN{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&RN(this.priorityNode_),this.children_.isEmpty()&&ed(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return WN||(WN=new HN(new EN(PN),null,qN.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||WN}updatePriority(e){return this.children_.isEmpty()?this:new HN(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?WN:t}}getChild(e){const t=rN(e);return null===t?this:this.getImmediateChild(t).getChild(oN(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ed(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new bN(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?WN:this.priorityNode_;return new HN(r,o,i)}}updateChild(e,t){const n=rN(e);if(null===n)return t;{ed(".priority"!==rN(e)||1===iN(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(oN(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(zN,(o,s)=>{t[o]=s.val(e),n++,i&&HN.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+NN(this.getPriority().val())+":"),this.forEachChild(zN,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":sA(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new bN(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new bN(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new bN(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,bN.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,bN.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===KN?-1:0}withIndex(e){if(e===kN||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new HN(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===kN||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(zN),n=t.getIterator(zN);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===kN?null:this.indexMap_.get(e.toString())}}HN.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const KN=new class extends HN{constructor(){super(new EN(PN),HN.EMPTY_NODE,qN.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return HN.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(bN,{MIN:{value:new bN(vA,HN.EMPTY_NODE)},MAX:{value:new bN(yA,KN)}}),xN.__EMPTY_NODE=HN.EMPTY_NODE,DN.__childrenNodeConstructor=HN,AN=KN,function(e){MN=e}(KN);function GN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return HN.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ed(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new DN(e,GN(t))}if(e instanceof Array){let n=HN.EMPTY_NODE;return kA(e,(t,r)=>{if(Ad(e,t)&&"."!==t.substring(0,1)){const e=GN(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(GN(t))}{const n=[];let r=!1;if(kA(e,(e,t)=>{if("."!==e.substring(0,1)){const i=GN(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new bN(e,i)))}}),0===n.length)return HN.EMPTY_NODE;const i=UN(n,IN,e=>e.name,PN);if(r){const e=UN(n,zN.getCompare());return new HN(i,GN(t),new qN({".priority":e},{".priority":zN}))}return new HN(i,GN(t),qN.Default)}}!function(e){ON=e}(GN);class ZN extends wN{constructor(e){super(),this.indexPath_=e,ed(!uN(e)&&".priority"!==rN(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?_A(e.name,t.name):i}makePost(e,t){const n=GN(e),r=HN.EMPTY_NODE.updateChild(this.indexPath_,n);return new bN(t,r)}maxPost(){const e=HN.EMPTY_NODE.updateChild(this.indexPath_,KN);return new bN(yA,e)}toString(){return aN(this.indexPath_,0).join("/")}}const QN=new class extends wN{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?_A(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return bN.MIN}maxPost(){return bN.MAX}makePost(e,t){const n=GN(e);return new bN(t,n)}toString(){return".value"}};function YN(e){return{type:"value",snapshotNode:e}}function XN(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function JN(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $N(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class eR{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){ed(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(JN(t,s)):ed(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(XN(t,n)):o.trackChildChange($N(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(zN,(e,r)=>{t.hasChild(e)||n.trackChildChange(JN(e,r))}),t.isLeafNode()||t.forEachChild(zN,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange($N(t,r,i))}else n.trackChildChange(XN(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?HN.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tR{constructor(e){this.indexedFilter_=new eR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tR.getStartPost_(e),this.endPost_=tR.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new bN(t,n))||(n=HN.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=HN.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(HN.EMPTY_NODE);const i=this;return t.forEachChild(zN,(e,t)=>{i.matches(new bN(e,t))||(r=r.updateImmediateChild(e,HN.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class nR{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new tR(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new bN(t,n))||(n=HN.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=HN.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=HN.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(HN.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,HN.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;ed(s.numChildren()===this.limit_,"");const a=new bN(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:o(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange($N(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(JN(t,e));const n=s.updateImmediateChild(t,HN.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(XN(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(JN(l.name,l.node)),i.trackChildChange(XN(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,HN.EMPTY_NODE)):e}}class rR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zN}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ed(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ed(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vA}hasEnd(){return this.endSet_}getIndexEndValue(){return ed(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ed(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yA}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ed(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zN}copy(){const e=new rR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iR(e){const t={};if(e.isDefault())return t;let n;if(e.index_===zN?n="$priority":e.index_===QN?n="$value":e.index_===kN?n="$key":(ed(e.index_ instanceof ZN,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Id(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Id(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Id(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Id(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Id(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function oR(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==zN&&(t.i=e.index_.toString()),t}class sR extends JA{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=dA("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ed(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=sR.getListenId_(e,n),s={};this.listens_[o]=s;const a=iR(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Nd(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=sR.getListenId_(e,t);delete this.listens_[n]}get(e){const t=iR(e._queryParams),n=e._path.toString(),r=new vd;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Dd(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=Ed(a.responseText)}catch(e){mA("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&mA("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class aR{constructor(){this.rootNode_=HN.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function lR(){return{value:null,children:new Map}}function cR(e,t,n){if(uN(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=rN(t);e.children.has(r)||e.children.set(r,lR());cR(e.children.get(r),t=oN(t),n)}}function uR(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{uR(r,new tN(t.toString()+"/"+e),n)})}class hR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&kA(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class dR{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hR(e);const n=1e4+2e4*Math.random();PA(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;kA(e,(e,r)=>{r>0&&Ad(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),PA(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fR;function pR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(fR||(fR={}));class mR{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=fR.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(uN(this.path)){if(null!=this.affectedTree.value)return ed(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new tN(e));return new mR(nN(),t,this.revert)}}return ed(rN(this.path)===e,"operationForChild called for unrelated child."),new mR(oN(this.path),this.affectedTree,this.revert)}}class gR{constructor(e,t){this.source=e,this.path=t,this.type=fR.LISTEN_COMPLETE}operationForChild(e){return uN(this.path)?new gR(this.source,nN()):new gR(this.source,oN(this.path))}}class vR{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=fR.OVERWRITE}operationForChild(e){return uN(this.path)?new vR(this.source,nN(),this.snap.getImmediateChild(e)):new vR(this.source,oN(this.path),this.snap)}}class yR{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=fR.MERGE}operationForChild(e){if(uN(this.path)){const t=this.children.subtree(new tN(e));return t.isEmpty()?null:t.value?new vR(this.source,nN(),t.value):new yR(this.source,nN(),t)}return ed(rN(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yR(this.source,oN(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _R{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(uN(e))return this.isFullyInitialized()&&!this.filtered_;const t=rN(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class bR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wR(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw td("Should only compare child_ events.");const r=new bN(t.childName,t.snapshotNode),i=new bN(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function SR(e,t){return{eventCache:e,serverCache:t}}function xR(e,t,n,r){return SR(new _R(t,n,r),e.serverCache)}function kR(e,t,n,r){return SR(e.eventCache,new _R(t,n,r))}function CR(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function TR(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let ER;class IR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(ER||(ER=new EN(bA)),ER);this.value=e,this.children=t}static fromObject(e){let t=new IR(null);return kA(e,(e,n)=>{t=t.set(new tN(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:nN(),value:this.value};if(uN(e))return null;{const n=rN(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(oN(e),t);if(null!=i){return{path:cN(new tN(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(uN(e))return this;{const t=rN(e),n=this.children.get(t);return null!==n?n.subtree(oN(e)):new IR(null)}}set(e,t){if(uN(e))return new IR(t,this.children);{const n=rN(e),r=(this.children.get(n)||new IR(null)).set(oN(e),t),i=this.children.insert(n,r);return new IR(this.value,i)}}remove(e){if(uN(e))return this.children.isEmpty()?new IR(null):new IR(null,this.children);{const t=rN(e),n=this.children.get(t);if(n){const r=n.remove(oN(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new IR(null):new IR(this.value,i)}return this}}get(e){if(uN(e))return this.value;{const t=rN(e),n=this.children.get(t);return n?n.get(oN(e)):null}}setTree(e,t){if(uN(e))return t;{const n=rN(e),r=(this.children.get(n)||new IR(null)).setTree(oN(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new IR(this.value,i)}}fold(e){return this.fold_(nN(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(cN(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,nN(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(uN(e))return null;{const r=rN(e),i=this.children.get(r);return i?i.findOnPath_(oN(e),cN(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,nN(),t)}foreachOnPath_(e,t,n){if(uN(e))return this;{this.value&&n(t,this.value);const r=rN(e),i=this.children.get(r);return i?i.foreachOnPath_(oN(e),cN(t,r),n):new IR(null)}}foreach(e){this.foreach_(nN(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(cN(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class PR{constructor(e){this.writeTree_=e}static empty(){return new PR(new IR(null))}}function AR(e,t,n){if(uN(t))return new PR(new IR(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=hN(i,t);return o=o.updateChild(s,n),new PR(e.writeTree_.set(i,o))}{const r=new IR(n),i=e.writeTree_.setTree(t,r);return new PR(i)}}}function NR(e,t,n){let r=e;return kA(n,(e,n)=>{r=AR(r,cN(t,e),n)}),r}function RR(e,t){if(uN(t))return PR.empty();{const n=e.writeTree_.setTree(t,new IR(null));return new PR(n)}}function LR(e,t){return null!=OR(e,t)}function OR(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(hN(n.path,t)):null}function MR(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(zN,(e,n)=>{t.push(new bN(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new bN(e,n.value))}),t}function DR(e,t){if(uN(t))return e;{const n=OR(e,t);return new PR(null!=n?new IR(n):e.writeTree_.subtree(t))}}function zR(e){return e.writeTree_.isEmpty()}function FR(e,t){return jR(nN(),e.writeTree_,t)}function jR(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(ed(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jR(cN(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(cN(e,".priority"),r)),n}}function UR(e,t){return $R(t,e)}function BR(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);ed(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&VR(t,r.path)?i=!1:fN(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=WR(e.allWrites,qR,nN()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=RR(e.visibleWrites,r.path);else{kA(r.children,t=>{e.visibleWrites=RR(e.visibleWrites,cN(r.path,t))})}return!0}return!1}function VR(e,t){if(e.snap)return fN(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&fN(cN(e.path,n),t))return!0;return!1}function qR(e){return e.visible}function WR(e,t,n){let r=PR.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)fN(n,e)?(t=hN(n,e),r=AR(r,t,o.snap)):fN(e,n)&&(t=hN(e,n),r=AR(r,nN(),o.snap.getChild(t)));else{if(!o.children)throw td("WriteRecord should have .snap or .children");if(fN(n,e))t=hN(n,e),r=NR(r,t,o.children);else if(fN(e,n))if(t=hN(e,n),uN(t))r=NR(r,nN(),o.children);else{const e=Nd(o.children,rN(t));if(e){const n=e.getChild(oN(t));r=AR(r,nN(),n)}}}}}return r}function HR(e,t,n,r,i){if(r||i){const o=DR(e.visibleWrites,t);if(!i&&zR(o))return n;if(i||null!=n||LR(o,nN())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(fN(e.path,t)||fN(t,e.path))};return FR(WR(e.allWrites,o,t),n||HN.EMPTY_NODE)}return null}{const r=OR(e.visibleWrites,t);if(null!=r)return r;{const r=DR(e.visibleWrites,t);if(zR(r))return n;if(null!=n||LR(r,nN())){return FR(r,n||HN.EMPTY_NODE)}return null}}}function KR(e,t,n,r){return HR(e.writeTree,e.treePath,t,n,r)}function GR(e,t){return function(e,t,n){let r=HN.EMPTY_NODE;const i=OR(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(zN,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=DR(e.visibleWrites,t);return n.forEachChild(zN,(e,t)=>{const n=FR(DR(i,new tN(e)),t);r=r.updateImmediateChild(e,n)}),MR(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return MR(DR(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function ZR(e,t,n,r){return function(e,t,n,r,i){ed(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=cN(t,n);if(LR(e.visibleWrites,o))return null;{const t=DR(e.visibleWrites,o);return zR(t)?i.getChild(n):FR(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function QR(e,t){return function(e,t){return OR(e.visibleWrites,t)}(e.writeTree,cN(e.treePath,t))}function YR(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=DR(e.visibleWrites,t),c=OR(l,nN());if(null!=c)a=c;else{if(null==n)return[];a=FR(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function XR(e,t,n){return function(e,t,n,r){const i=cN(t,n),o=OR(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return FR(DR(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function JR(e,t){return $R(cN(e.treePath,t),e.writeTree)}function $R(e,t){return{treePath:e,writeTree:t}}class eL{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ed("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ed(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,$N(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,JN(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,XN(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw td("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,$N(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const tL=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class nL{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new _R(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XR(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:TR(this.viewCache_),i=YR(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function rL(e,t,n,r,i){const o=new eL;let s,a;if(n.type===fR.OVERWRITE){const l=n;l.source.fromUser?s=sL(e,t,l.path,l.snap,r,i,o):(ed(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!uN(l.path),s=oL(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===fR.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,l)=>{const c=cN(n,r);aL(t,rN(c))&&(a=sL(e,a,c,l,i,o,s))}),r.foreach((r,l)=>{const c=cN(n,r);aL(t,rN(c))||(a=sL(e,a,c,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(ed(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=cL(e,t,l.path,l.children,r,i,a,o))}else if(n.type===fR.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=QR(r,n))return t;{const a=new nL(r,t,i),l=t.eventCache.getNode();let c;if(uN(n)||".priority"===rN(n)){let n;if(t.serverCache.isFullyInitialized())n=KR(r,TR(t));else{const e=t.serverCache.getNode();ed(e instanceof HN,"serverChildren would be complete if leaf node"),n=GR(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=rN(n);let u=XR(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,oN(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,HN.EMPTY_NODE,oN(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=KR(r,TR(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=QR(r,nN()),xR(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=QR(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(uN(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return oL(e,t,n,l.getNode().getChild(n),i,o,a,s);if(uN(n)){let r=new IR(null);return l.getNode().forEachChild(kN,(e,t)=>{r=r.set(new tN(e),t)}),cL(e,t,n,r,i,o,a,s)}return t}{let c=new IR(null);return r.foreach((e,t)=>{const r=cN(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),cL(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==fR.LISTEN_COMPLETE)throw td("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=kR(t,o.getNode(),o.isFullyInitialized()||uN(n),o.isFiltered());return iL(e,s,n,r,tL,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=CR(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(YN(CR(t)))}}(t,s,l),{viewCache:s,changes:l}}function iL(e,t,n,r,i,o){const s=t.eventCache;if(null!=QR(r,n))return t;{let a,l;if(uN(n))if(ed(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=TR(t),i=GR(r,n instanceof HN?n:HN.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=KR(r,TR(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=rN(n);if(".priority"===c){ed(1===iN(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=ZR(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=oN(n);let h;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=ZR(r,n,s.getNode(),l);h=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else h=XR(r,c,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),c,h,u,i,o):s.getNode()}}return xR(t,a,s.isFullyInitialized()||uN(n),e.filter.filtersNodes())}}function oL(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(uN(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=rN(n);if(!l.isCompleteForPath(n)&&iN(n)>1)return t;const i=oN(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,tL,null)}const h=kR(t,c,l.isFullyInitialized()||uN(n),u.filtersNodes());return iL(e,h,n,i,new nL(i,h,o),a)}function sL(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new nL(i,t,o);if(uN(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=xR(t,c,!0,e.filter.filtersNodes());else{const i=rN(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=xR(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=oN(n),c=a.getNode().getImmediateChild(i);let h;if(uN(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===sN(o)&&e.getChild(lN(o)).isEmpty()?e:e.updateChild(o,r):HN.EMPTY_NODE}if(c.equals(h))l=t;else{l=xR(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function aL(e,t){return e.eventCache.isCompleteForChild(t)}function lL(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function cL(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=uN(n)?r:new IR(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=lL(0,t.serverCache.getNode().getImmediateChild(n),r);c=oL(e,c,new tN(n),l,i,o,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=lL(0,t.serverCache.getNode().getImmediateChild(n),r);c=oL(e,c,new tN(n),l,i,o,s,a)}}),c}class uL{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new eR(n.getIndex()),i=(o=n).loadsAllData()?new eR(o.getIndex()):o.hasLimit()?new nR(o):new tR(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(HN.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(HN.EMPTY_NODE,a.getNode(),null),u=new _R(l,s.isFullyInitialized(),r.filtersNodes()),h=new _R(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=SR(h,u),this.eventGenerator_=new bR(this.query_)}get query(){return this.query_}}function hL(e,t){const n=TR(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!uN(t)&&!n.getImmediateChild(rN(t)).isEmpty())?n.getChild(t):null}function dL(e){return 0===e.eventRegistrations_.length}function fL(e,t,n){const r=[];if(n){ed(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function pL(e,t,n,r){t.type===fR.MERGE&&null!==t.source.queryId&&(ed(TR(e.viewCache_),"We should always have a full cache before handling merges"),ed(CR(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=rL(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,ed(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ed(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),ed(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,mL(e,o.changes,o.viewCache.eventCache.getNode(),null)}function mL(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),wR(e,i,"child_removed",t,r,n),wR(e,i,"child_added",t,r,n),wR(e,i,"child_moved",o,r,n),wR(e,i,"child_changed",t,r,n),wR(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let gL,vL;class yL{constructor(){this.views=new Map}}function _L(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return ed(null!=o,"SyncTree gave us an op for an invalid query."),pL(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(pL(o,t,n,r));return i}}function bL(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=KR(n,i?r:null),o=!1;e?o=!0:r instanceof HN?(e=GR(n,r),o=!1):(e=HN.EMPTY_NODE,o=!1);const s=SR(new _R(e,o,!1),new _R(r,i,!1));return new uL(t,s)}return s}function wL(e,t,n,r,i,o){const s=bL(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(zN,(e,t)=>{r.push(XN(e,t))});return n.isFullyInitialized()&&r.push(YN(n.getNode())),mL(e,r,n.getNode(),t)}(s,n)}function SL(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=EL(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(fL(c,n,r)),dL(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(fL(t,n,r)),dL(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!EL(e)&&o.push(new(ed(gL,"Reference.ts has not been loaded"),gL)(t._repo,t._path)),{removed:o,events:s}}function xL(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function kL(e,t){let n=null;for(const r of e.views.values())n=n||hL(r,t);return n}function CL(e,t){if(t._queryParams.loadsAllData())return IL(e);{const n=t._queryIdentifier;return e.views.get(n)}}function TL(e,t){return null!=CL(e,t)}function EL(e){return null!=IL(e)}function IL(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let PL=1;class AL{constructor(e){this.listenProvider_=e,this.syncPointTree_=new IR(null),this.pendingWriteTree_={visibleWrites:PR.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NL(e,t,n,r,i){return function(e,t,n,r,i){ed(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=AR(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?FL(e,new vR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function RL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(BR(e.pendingWriteTree_,t)){let t=new IR(null);return null!=r.snap?t=t.set(nN(),!0):kA(r.children,e=>{t=t.set(new tN(e),!0)}),FL(e,new mR(r.path,t,n))}return[]}function LL(e,t,n){return FL(e,new vR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function OL(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||TL(s,t))){const l=SL(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>EL(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&EL(t)){return[IL(t)]}{let e=[];return t&&(e=xL(t)),kA(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=BL(e,r);e.listenProvider_.startListening(GL(i),VL(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(GL(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(qL(t));e.listenProvider_.stopListening(GL(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=qL(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function ML(e,t,n,r){const i=WL(e,r);if(null!=i){const r=HL(i),o=r.path,s=r.queryId,a=hN(o,t);return KL(e,o,new vR(pR(s),a,n))}return[]}function DL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=hN(e,i);o=o||kL(t,n),s=s||EL(t)});let a,l=e.syncPointTree_.get(i);if(l?(s=s||EL(l),o=o||kL(l,nN())):(l=new yL,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=HN.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=kL(t,nN());n&&(o=o.updateImmediateChild(e,n))})}const c=TL(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=qL(t);ed(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=PL++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=wL(l,t,n,UR(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=CL(l,t);u=u.concat(function(e,t,n){const r=t._path,i=VL(e,t),o=BL(e,n),s=e.listenProvider_.startListening(GL(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)ed(!EL(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!uN(e)&&t&&EL(t))return[IL(t).query];{let e=[];return t&&(e=e.concat(xL(t).map(e=>e.query))),kA(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(GL(r),VL(e,r))}}return s}(e,t,n))}return u}function zL(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=kL(n,hN(e,t));if(r)return r});return HR(r,t,i,n,!0)}function FL(e,t){return jL(t,e.syncPointTree_,null,UR(e.pendingWriteTree_,nN()))}function jL(e,t,n,r){if(uN(e.path))return UL(e,t,n,r);{const i=t.get(nN());null==n&&null!=i&&(n=kL(i,nN()));let o=[];const s=rN(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=JR(r,s);o=o.concat(jL(a,l,e,t))}return i&&(o=o.concat(_L(i,e,r,n))),o}}function UL(e,t,n,r){const i=t.get(nN());null==n&&null!=i&&(n=kL(i,nN()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=JR(r,t),l=e.operationForChild(t);l&&(o=o.concat(UL(l,i,s,a)))}),i&&(o=o.concat(_L(i,e,r,n))),o}function BL(e,t){const n=t.query,r=VL(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||HN.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=WL(e,n);if(r){const n=HL(r),i=n.path,o=n.queryId,s=hN(i,t);return KL(e,i,new gR(pR(o),s))}return[]}(e,n._path,r):function(e,t){return FL(e,new gR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return OL(e,n,null,r)}}}}function VL(e,t){const n=qL(t);return e.queryToTagMap.get(n)}function qL(e){return e._path.toString()+"$"+e._queryIdentifier}function WL(e,t){return e.tagToQueryMap.get(t)}function HL(e){const t=e.indexOf("$");return ed(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tN(e.substr(0,t))}}function KL(e,t,n){const r=e.syncPointTree_.get(t);ed(r,"Missing sync point for query tag that we're tracking");return _L(r,n,UR(e.pendingWriteTree_,t),null)}function GL(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ed(vL,"Reference.ts has not been loaded"),vL)(e._repo,e._path):e}class ZL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ZL(t)}node(){return this.node_}}class QL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=cN(this.path_,e);return new QL(this.syncTree_,t)}node(){return zL(this.syncTree_,this.path_)}}const YL=function(e,t,n){return e&&"object"===typeof e?(ed(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?XL(e[".sv"],t,n):"object"===typeof e[".sv"]?JL(e[".sv"],t):void ed(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},XL=function(e,t,n){if("timestamp"===e)return n.timestamp;ed(!1,"Unexpected server value: "+e)},JL=function(e,t,n){e.hasOwnProperty("increment")||ed(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&ed(!1,"Unexpected increment value: "+r);const i=t.node();if(ed(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},$L=function(e,t,n,r){return tO(t,new QL(n,e),r)},eO=function(e,t,n){return tO(e,new ZL(t),n)};function tO(e,t,n){const r=e.getPriority().val(),i=YL(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=YL(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new DN(o,GN(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new DN(i))),r.forEachChild(zN,(e,r)=>{const i=tO(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class nO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function rO(e,t){let n=t instanceof tN?t:new tN(t),r=e,i=rN(n);for(;null!==i;){const e=Nd(r.node.children,i)||{children:{},childCount:0};r=new nO(i,r,e),n=oN(n),i=rN(n)}return r}function iO(e){return e.node.value}function oO(e,t){e.node.value=t,uO(e)}function sO(e){return e.node.childCount>0}function aO(e,t){kA(e.node.children,(n,r)=>{t(new nO(n,e,r))})}function lO(e,t,n,r){n&&!r&&t(e),aO(e,e=>{lO(e,t,!0,r)}),n&&r&&t(e)}function cO(e){return new tN(null===e.parent?e.name:cO(e.parent)+"/"+e.name)}function uO(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===iO(e)&&!sO(e)}(n),i=Ad(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,uO(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,uO(e))}(e.parent,e.name,e)}const hO=/[\[\].#$\/\u0000-\u001F\u007F]/,dO=/[\[\].#$\u0000-\u001F\u007F]/,fO=10485760,pO=function(e){return"string"===typeof e&&0!==e.length&&!hO.test(e)},mO=function(e){return"string"===typeof e&&0!==e.length&&!dO.test(e)},gO=function(e,t,n,r){r&&void 0===t||vO(Vd(e,"value"),t,n)},vO=function(e,t,n){const r=n instanceof tN?new pN(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+gN(r));if("function"===typeof t)throw new Error(e+"contains a function "+gN(r)+" with contents = "+t.toString());if(gA(t))throw new Error(e+"contains "+t.toString()+" "+gN(r));if("string"===typeof t&&t.length>fO/3&&qd(t)>fO)throw new Error(e+"contains a string greater than "+fO+" utf8 bytes "+gN(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(kA(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!pO(t)))throw new Error(e+" contains an invalid key ("+t+") "+gN(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=qd(t),mN(e)}(r,t),vO(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=qd(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+gN(r)+" in addition to actual children.")}},yO=function(e,t,n,r){if((!r||void 0!==n)&&!mO(n))throw new Error(Vd(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_O=function(e,t){if(".info"===rN(t))throw new Error(e+" failed = Can't modify data under /.info/")},bO=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!pO(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mO(e)}(n))throw new Error(Vd(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class wO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SO(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||dN(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function xO(e,t,n){SO(e,n),CO(e,e=>dN(e,t))}function kO(e,t,n){SO(e,n),CO(e,e=>fN(e,t)||fN(t,e))}function CO(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(TO(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function TO(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();lA&&hA("event: "+n.toString()),IA(r)}}}const EO="repo_interrupt";class IO{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lR(),this.transactionQueueTree_=new nO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function PO(e,t,n){if(e.stats_=qA(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new sR(e.repoInfo_,(t,n,r,i)=>{RO(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>LO(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Id(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new _N(e.repoInfo_,t,(t,n,r,i)=>{RO(e,t,n,r,i)},t=>{LO(e,t)},t=>{!function(e,t){kA(t,(t,n)=>{OO(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return VA[n]||(VA[n]=t()),VA[n]}(e.repoInfo_,()=>new dR(e.stats_,e.server_)),e.infoData_=new aR,e.infoSyncTree_=new AL({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=LL(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),OO(e,"connected",!1),e.serverSyncTree_=new AL({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);kO(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function AO(e){const t=e.infoData_.getNode(new tN(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function NO(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:AO(e)})}function RO(e,t,n,r,i){e.dataUpdateCount++;const o=new tN(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Ld(n,e=>GN(e));s=function(e,t,n,r){const i=WL(e,r);if(i){const r=HL(i),o=r.path,s=r.queryId,a=hN(o,t),l=IR.fromObject(n);return KL(e,o,new yR(pR(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=GN(n);s=ML(e.serverSyncTree_,o,t,i)}else if(r){const t=Ld(n,e=>GN(e));s=function(e,t,n){const r=IR.fromObject(n);return FL(e,new yR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=GN(n);s=LL(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=qO(e,o)),kO(e.eventQueue_,a,s)}function LO(e,t){OO(e,"connected",t),!1===t&&function(e){jO(e,"onDisconnectEvents");const t=NO(e),n=lR();uR(e.onDisconnect_,nN(),(r,i)=>{const o=$L(r,i,e.serverSyncTree_,t);cR(n,r,o)});let r=[];uR(n,nN(),(t,n)=>{r=r.concat(LL(e.serverSyncTree_,t,n));const i=ZO(e,t);qO(e,i)}),e.onDisconnect_=lR(),kO(e.eventQueue_,nN(),r)}(e)}function OO(e,t,n){const r=new tN("/.info/"+t),i=GN(n);e.infoData_.updateSnapshot(r,i);const o=LL(e.infoSyncTree_,r,i);kO(e.eventQueue_,r,o)}function MO(e){return e.nextWriteId_++}function DO(e,t,n,r,i){jO(e,"set",{path:t.toString(),value:n,priority:r});const o=NO(e),s=GN(n,r),a=zL(e.serverSyncTree_,t),l=eO(s,a,o),c=MO(e),u=NL(e.serverSyncTree_,t,l,c,!0);SO(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||mA("set at "+t+" failed: "+n);const s=RL(e.serverSyncTree_,c,!o);kO(e.eventQueue_,t,s),UO(e,i,n,r)});const h=ZO(e,t);qO(e,h),kO(e.eventQueue_,h,[])}function zO(e,t,n){let r;r=".info"===rN(t._path)?OL(e.infoSyncTree_,t,n):OL(e.serverSyncTree_,t,n),xO(e.eventQueue_,t._path,r)}function FO(e){e.persistentConnection_&&e.persistentConnection_.interrupt(EO)}function jO(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];hA(t,...r)}function UO(e,t,n,r){t&&IA(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function BO(e,t,n){return zL(e.serverSyncTree_,t,n)||HN.EMPTY_NODE}function VO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||GO(e,t),iO(t)){const n=HO(e,t);ed(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=BO(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];ed(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=hN(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,r=>{jO(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(RL(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();GO(e,rO(e.transactionQueueTree_,t)),VO(e,e.transactionQueueTree_),kO(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)IA(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{mA("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}qO(e,t)}},s)}(e,cO(t),n)}else sO(t)&&aO(t,t=>{VO(e,t)})}function qO(e,t){const n=WO(e,t),r=cO(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=hN(n,o.path);let c,u=!1;if(ed(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(RL(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(RL(e.serverSyncTree_,o.currentWriteId,!0));else{const n=BO(e,o.path,s);o.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){vO("transaction failed: Data returned ",r,o.path);let t=GN(r);"object"===typeof r&&null!=r&&Ad(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=NO(e),c=eO(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=MO(e),s.splice(s.indexOf(a),1),i=i.concat(NL(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(RL(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(RL(e.serverSyncTree_,o.currentWriteId,!0))}kO(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}GO(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)IA(r[a]);VO(e,e.transactionQueueTree_)}(e,HO(e,n),r),r}function WO(e,t){let n,r=e.transactionQueueTree_;for(n=rN(t);null!==n&&void 0===iO(r);)r=rO(r,n),n=rN(t=oN(t));return r}function HO(e,t){const n=[];return KO(e,t,n),n.sort((e,t)=>e.order-t.order),n}function KO(e,t,n){const r=iO(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);aO(t,t=>{KO(e,t,n)})}function GO(e,t){const n=iO(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,oO(t,n.length>0?n:void 0)}aO(t,t=>{GO(e,t)})}function ZO(e,t){const n=cO(WO(e,t)),r=rO(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{QO(e,t)}),QO(e,r),lO(r,t=>{QO(e,t)}),n}function QO(e,t){const n=iO(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ed(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(ed(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(RL(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?oO(t,void 0):n.length=o+1,kO(e.eventQueue_,cO(t),i);for(let e=0;e<r.length;e++)IA(r[e])}}const YO=function(e,t){const n=XO(e),r=n.namespace;"firebase.com"===n.domain&&pA(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||pA("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mA("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new FA(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new tN(n.pathString)}},XO=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mA("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},JO="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class $O{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Id(this.snapshot.exportVal())}}class eM{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tM{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ed(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class nM{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return uN(this._path)?null:sN(this._path)}get ref(){return new rM(this._repo,this._path)}get _queryIdentifier(){const e=oR(this._queryParams),t=SA(e);return"{}"===t?"default":t}get _queryObject(){return oR(this._queryParams)}isEqual(e){if(!((e=Wd(e))instanceof nM))return!1;const t=this._repo===e._repo,n=dN(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class rM extends nM{constructor(e,t){super(e,t,new rR,!1)}get parent(){const e=lN(this._path);return null===e?null:new rM(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class iM{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new tN(e),n=sM(this.ref,e);return new iM(this._node.getChild(t),n,zN)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new iM(n,sM(this.ref,t),zN)))}hasChild(e){const t=new tN(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oM(e,t){return(e=Wd(e))._checkNotDeleted("ref"),void 0!==t?sM(e._root,t):e._root}function sM(e,t){var n,r,i,o;return null===rN((e=Wd(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),yO(n,r,i,o)):yO("child","path",t,!1),new rM(e._repo,cN(e._path,t))}function aM(e){return _O("remove",e._path),lM(e,null)}function lM(e,t){e=Wd(e),_O("set",e._path),gO("set",t,e._path,!1);const n=new vd;return DO(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class cM{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new $O("value",this,new iM(e.snapshotNode,new rM(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new eM(this,e,t):null}matches(e){return e instanceof cM&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class uM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new eM(this,e,t):null}createEvent(e,t){ed(null!=e.childName,"Child events should have a childName.");const n=sM(new rM(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new $O(e.type,this,new iM(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof uM&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function hM(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{zO(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new tM(n,o||void 0),a="value"===t?new cM(s):new uM(t,s);return function(e,t,n){let r;r=".info"===rN(t._path)?DL(e.infoSyncTree_,t,n):DL(e.serverSyncTree_,t,n),xO(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>zO(e._repo,e,a)}function dM(e,t,n,r){return hM(e,"value",t,n,r)}!function(e){ed(!gL,"__referenceConstructor has already been defined"),gL=e}(rM),function(e){ed(!vL,"__referenceConstructor has already been defined"),vL=e}(rM);const fM={};let pM=!1;function mM(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||pA("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hA("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=YO(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/iptracker-main",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=YO(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new RA(RA.OWNER):new NA(e.name,e.options,t);bO("Invalid Firebase Database URL",l),uN(l.path)||pA("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=fM[t.name];i||(i={},fM[t.name]=i);let o=i[e.toURLString()];o&&pA("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new IO(e,pM,n,r),i[e.toURLString()]=o,o}(c,e,u,new AA(e.name,n));return new gM(h,e)}class gM{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(PO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rM(this._repo,nN())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=fM[t];n&&n[e.key]===e||pA("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),FO(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&pA("Cannot call "+e+" on a deleted database.")}}_N.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},_N.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){JP(rp),$f(new Hd("database",(e,t)=>{let{instanceIdentifier:n}=t;return mM(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),sp(QP,YP,e),sp(QP,YP,"esm2017")}();const vM="firebasestorage.googleapis.com",yM="storageBucket";class _M extends kd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(SM(e),"Firebase Storage: ".concat(t," (").concat(SM(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_M.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var bM,wM;function SM(e){return"storage/"+e}function xM(){return new _M(bM.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kM(){return new _M(bM.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CM(){return new _M(bM.CANCELED,"User canceled the upload/download.")}function TM(){return new _M(bM.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EM(e){return new _M(bM.INVALID_ARGUMENT,e)}function IM(){return new _M(bM.APP_DELETED,"The Firebase app was deleted.")}function PM(e,t){return new _M(bM.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function AM(e){throw new _M(bM.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(bM||(bM={}));class NM{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=NM.makeFromUrl(e,t)}catch(i){return new NM(e,"")}if(""===n.path)return n;throw r=e,new _M(bM.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===vM?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new NM(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new _M(bM.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class RM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function LM(e){return"string"===typeof e||e instanceof String}function OM(e){return MM()&&e instanceof Blob}function MM(){return"undefined"!==typeof Blob}function DM(e,t,n,r){if(r<t)throw EM("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw EM("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function zM(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function FM(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function jM(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(wM||(wM={}));class UM{constructor(e,t,n,r,i,o,s,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new BM(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===wM.NO_ERROR,i=n.getStatus();if(!t||jM(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===wM.ABORT;return void e(!1,new BM(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new BM(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=xM();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?IM():CM())}else{r(kM())}};this.canceled_?t(0,new BM(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){o&&clearTimeout(o)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class BM{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function VM(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function qM(){const e=VM();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(MM())return new Blob(n);throw new _M(bM.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function WM(e){if("undefined"===typeof atob)throw t="base-64",new _M(bM.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const HM="raw",KM="base64",GM="base64url",ZM="data_url";class QM{constructor(e,t){this.data=e,this.contentType=t||null}}function YM(e,t){switch(e){case HM:return new QM(XM(t));case KM:case GM:return new QM(JM(e,t));case ZM:return new QM(function(e){const t=new $M(e);return t.base64?JM(KM,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw PM(ZM,"Malformed data URL.")}return XM(t)}(t.rest)}(t),new $M(t).contentType)}throw xM()}function XM(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function JM(e,t){switch(e){case KM:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw PM(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case GM:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw PM(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WM(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw PM(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class $M{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw PM(ZM,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class eD{constructor(e,t){let n=0,r="";OM(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(OM(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new eD(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new eD(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(MM()){const e=t.map(e=>e instanceof eD?e.data_:e);return new eD(qM.apply(null,e))}{const e=t.map(e=>LM(e)?YM(HM,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new eD(r,!0)}}uploadData(){return this.data_}}function tD(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nD(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rD(e,t){return t}class iD{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rD}}let oD=null;function sD(){if(oD)return oD;const e=[];e.push(new iD("bucket")),e.push(new iD("generation")),e.push(new iD("metageneration")),e.push(new iD("name","fullPath",!0));const t=new iD("name");t.xform=function(e,t){return function(e){return!LM(e)||e.length<2?e:nD(e)}(t)},e.push(t);const n=new iD("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new iD("timeCreated")),e.push(new iD("updated")),e.push(new iD("md5Hash",null,!0)),e.push(new iD("cacheControl",null,!0)),e.push(new iD("contentDisposition",null,!0)),e.push(new iD("contentEncoding",null,!0)),e.push(new iD("contentLanguage",null,!0)),e.push(new iD("contentType",null,!0)),e.push(new iD("metadata","customMetadata",!0)),oD=e,oD}function aD(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new NM(n,r);return t._makeStorageReference(i)}})}(r,e),r}function lD(e,t,n){const r=tD(t);if(null===r)return null;return aD(e,r,n)}function cD(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class uD{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hD(e){if(!e)throw xM()}function dD(e,t){return function(n,r){const i=lD(e,r,t);return hD(null!==i),i}}function fD(e,t){return function(n,r){const i=lD(e,r,t);return hD(null!==i),function(e,t,n,r){const i=tD(t);if(null===i)return null;if(!LM(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map(t=>{const i=e.bucket,o=e.fullPath;return zM("/b/"+s(i)+"/o/"+s(o),n,r)+FM({alt:"media",token:t})});return a[0]}(i,r,e.host,e._protocol)}}function pD(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _M(bM.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new _M(bM.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new _M(bM.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _M(bM.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function mD(e){const t=pD(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new _M(bM.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function gD(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function vD(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=gD(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cD(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=eD.getBlob(c,r,u);if(null===h)throw TM();const d={name:l.fullPath},f=zM(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new uD(f,"POST",dD(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=pD(t),m}class yD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wM.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wM.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wM.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw AM("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw AM("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw AM("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw AM("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw AM("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class _D extends yD{initXhr(){this.xhr_.responseType="text"}}function bD(){return new _D}class wD{constructor(e,t){this._service=e,this._location=t instanceof NM?t:NM.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wD(e,t)}get root(){const e=new NM(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nD(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new NM(this._location.bucket,e);return new wD(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new _M(bM.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function SD(e,t,n){e._throwIfRoot("uploadBytes");const r=vD(e.storage,e._location,sD(),new eD(t,!0),n);return e.storage.makeRequestWithTokens(r,bD).then(t=>({metadata:t,ref:e}))}function xD(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=zM(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new uD(r,"GET",fD(e,n),i);return o.errorHandler=mD(t),o}(e.storage,e._location,sD());return e.storage.makeRequestWithTokens(t,bD).then(e=>{if(null===e)throw new _M(bM.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function kD(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new NM(e._location.bucket,n);return new wD(e.storage,r)}function CD(e,t){if(e instanceof ID){const n=e;if(null==n._bucket)throw new _M(bM.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yM+"' property when initializing the app?");const r=new wD(n,n._bucket);return null!=t?CD(r,t):r}return void 0!==t?kD(e,t):e}function TD(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ID)return new wD(e,t);throw EM("To use ref(service, url), the first argument must be a Storage instance.")}return CD(e,t)}function ED(e,t){const n=null===t||void 0===t?void 0:t[yM];return null==n?null:NM.makeFromBucketSpec(n,e)}class ID{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=vM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?NM.makeFromBucketSpec(r,this._host):ED(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=NM.makeFromBucketSpec(this._url,e):this._bucket=ED(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wD(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new RM(IM());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=FM(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new UM(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const PD="@firebase/storage",AD="0.12.0",ND="storage";function RD(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ID(r,i,o,n,rp)}$f(new Hd(ND,RD,"PUBLIC").setMultipleInstances(!0)),sp(PD,AD,""),sp(PD,AD,"esm2017");const LD=ip({apiKey:"AIzaSyCNpSMB5Myw7v5UeNP5L-Qc5RzE8TYzY_8",authDomain:"my-react-app-test-bf2d6.firebaseapp.com",databaseURL:"https://my-react-app-test-bf2d6-default-rtdb.firebaseio.com/",projectId:"my-react-app-test-bf2d6",storageBucket:"my-react-app-test-bf2d6.firebasestorage.app",messagingSenderId:"429615572107",appId:"1:429615572107:web:22b8b0cfabdb28576fa08e"}),OD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:op(),t=arguments.length>1?arguments[1]:void 0;const n=ep(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=pd("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Wd(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&pA("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&pA('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new RA(RA.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:yd(r.mockUserToken,e.app.options.projectId);o=new RA(t)}!function(e,t,n,r){e.repoInfo_=new FA("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(LD),MD=function(e,t){const n="string"==typeof e?e:t||"(default)",r=ep("object"==typeof e?e:op(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=pd("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=LC(e,MC))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&qy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zy.MOCK_USER;else{t=yd(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Qy(Zy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zy(o)}e._authCredentials=new $y(new Xy(t,n))}}(r,...e)}return r}(LD),DD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:op();const t=ep(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ep(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Od(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;XT(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:VP,persistence:[tP,FI,UI]}),r=gd("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>KP)return;const r=null===t||void 0===t?void 0:t.token;GP!==r&&(GP=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Wd(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Wd(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const o=fd("auth");return o&&lI(n,"http://".concat(o)),n}(LD),zD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:op(),t=arguments.length>1?arguments[1]:void 0;e=Wd(e);const n=ep(e,ND).getImmediate({identifier:t}),r=pd("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:yd(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(LD),FD=["name","email","phone","photoURL","category"];async function jD(e){let{uid:t,name:n="",email:r="",phone:i="",role:o="customer",category:s=null,photoURL:a="",meta:l={}}=e;if(!t)throw new Error("uid required");const c=UC(MD,"users",t),u={uid:t,name:n,email:r,phone:i,role:o,category:s,photoURL:a,rating:0,ratingCount:0,status:"active",createdAt:WT(),meta:l};return await function(e,t,n){e=LC(e,zC);const r=LC(e.firestore,qC),i=RT(e.converter,t,n);return VT(r,[rT(nT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jw.none())])}(c,u,{merge:!0}),u}async function UD(e){if(!e)return null;const t=await FT(UC(MD,"users",e));return t.exists()?l({id:t.id},t.data()):null}async function BD(e){try{const t=kT(jC(MD,"ratings"),function(e,t,n){const r=t,i=bT("where",e);return CT._create(i,r,n)}("cleanerId","==",e)),n=await function(e){e=LC(e,DC);const t=LC(e.firestore,qC),n=WC(t),r=new jT(t);return wT(e._query),TC(n,e._query).then(n=>new DT(t,r,e,n))}(t);let r=0,i=0;n.forEach(e=>{r+=e.data().rating,i++});const o=i>0?r/i:0;return console.log("\u2b50 Average rating for ".concat(e,": ").concat(o.toFixed(1)," (").concat(i," ratings)")),o}catch(fA){return console.error("\u274c Error calculating average rating:",fA),0}}function VD(t){let{user:n,onClose:r}=t;const[i,o]=(0,e.useState)(null),[s,a]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(0),[m,g]=(0,e.useState)(!1);(0,e.useEffect)(()=>{null!==n&&void 0!==n&&n.uid&&v(n.uid)},[null===n||void 0===n?void 0:n.uid]);const v=async e=>{let t=await UD(e);if(t||(t={uid:e,name:n.displayName||"Guest-".concat(e.slice(0,6)),email:n.email||"",phone:"",role:"customer",rating:0,ratingCount:0,photoURL:""},await jD(t)),o(t),d(t.photoURL||""),"cleaner"===t.role){const t=await BD(e);p(t)}else p(0)},y=e=>{o(t=>l(l({},t),{},{[e.target.name]:e.target.value}))};return i?(0,Ci.jsx)(Qi,{sx:{maxWidth:500,margin:"2rem auto",p:2},children:(0,Ci.jsx)(eo,{children:(0,Ci.jsxs)(Ro,{spacing:2,alignItems:"center",children:[(0,Ci.jsx)(rs,{src:h,sx:{width:100,height:100}}),(0,Ci.jsx)(So,{variant:"h5",children:i.name||"-"}),(0,Ci.jsx)(So,{color:"text.secondary",children:i.role}),"cleaner"===i.role&&(0,Ci.jsxs)(ls,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Ci.jsx)(Ds,{value:Number(f)||0,precision:.5,readOnly:!0}),(0,Ci.jsxs)(So,{variant:"body2",children:["(",f?Number(f).toFixed(1):"0.0",")"]})]}),(0,Ci.jsx)(Vs,{sx:{width:"100%",my:1}}),!s&&(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)(So,{variant:"subtitle2",children:"Email"}),(0,Ci.jsx)(So,{children:i.email||"-"}),(0,Ci.jsx)(So,{variant:"subtitle2",children:"Phone"}),(0,Ci.jsx)(So,{children:i.phone||"-"}),(0,Ci.jsx)(il,{variant:"contained",startIcon:(0,Ci.jsx)(Gh,{}),sx:{mt:2},onClick:()=>a(!0),children:"Edit Profile"})]}),s&&(0,Ci.jsxs)(Ro,{spacing:2,sx:{width:"100%"},children:[(0,Ci.jsx)(Kh,{label:"Name",name:"name",value:i.name,onChange:y,fullWidth:!0}),(0,Ci.jsx)(Kh,{label:"Email",name:"email",value:i.email,onChange:y,fullWidth:!0}),(0,Ci.jsx)(Kh,{label:"Phone",name:"phone",value:i.phone,onChange:y,fullWidth:!0}),(0,Ci.jsxs)(il,{variant:"contained",component:"label",startIcon:(0,Ci.jsx)(Yh,{}),children:["Upload Photo",(0,Ci.jsx)("input",{hidden:!0,accept:"image/*",type:"file",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(u(n),d(URL.createObjectURL(n)))}})]}),c&&(0,Ci.jsx)(So,{variant:"body2",children:c.name}),(0,Ci.jsxs)(ls,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,Ci.jsx)(il,{variant:"outlined",startIcon:(0,Ci.jsx)(Qh,{}),onClick:()=>{a(!1),u(null),d(i.photoURL||"")},children:"Cancel"}),(0,Ci.jsx)(il,{variant:"contained",startIcon:(0,Ci.jsx)(Zh,{}),onClick:async()=>{if(i){g(!0);try{if(c){const t="profileImages/".concat(i.uid,"_").concat(Date.now()),n=(e=t,TD(Wd(zD),e));await function(e,t,n){return SD(e=Wd(e),t,n)}(n,c);const r=await function(e){return xD(e=Wd(e))}(n);i.photoURL=r}await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("uid required");const n=UC(MD,"users",e),r={};for(const i of FD)void 0!==t[i]&&(r[i]=t[i]);return r.updatedAt=WT(),await UT(n,r),!0}(i.uid,i),await v(i.uid),a(!1),u(null)}catch(t){console.error(t),alert("Failed to save profile. See console for details.")}finally{g(!1)}var e}},disabled:m,children:m?"Saving\u2026":"Save"})]})]})]})})}):(0,Ci.jsx)(Qi,{sx:{maxWidth:500,margin:"2rem auto",p:2},children:(0,Ci.jsx)(eo,{children:(0,Ci.jsx)(So,{children:"Loading profile\u2026"})})})}const qD=function(t){var n;let{conversationId:r,recipientId:i,onClose:o,userRole:s="customer"}=t;const[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)([]),h=(0,e.useRef)(null),d=null===(n=DD.currentUser)||void 0===n?void 0:n.uid,f="customer"===s?"Cleaner":"Customer",p=jC(MD,"conversations",r,"messages");(0,e.useEffect)(()=>{if(!r)return;const e=kT(p,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bT("orderBy",e);return ET._create(n,t)}("timestamp","asc")),t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Wd(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||VC(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(VC(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof zC)h=LC(e.firestore,qC),d=Gb(e._key.path),u={next:t=>{n[l]&&n[l](qT(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=LC(e,DC);h=LC(t.firestore,qC),d=t._query;const r=new jT(h);u={next:e=>{n[l]&&n[l](new DT(h,r,t,e))},error:n[l+1],complete:n[l+2]},wT(e._query)}return function(e,t,n,r){const i=new gC(r),o=new Bk(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Dk(await kC(e),o)),()=>{i.Na(),e.asyncQueue.enqueueAndForget(async()=>zk(await kC(e),o))}}(WC(h),d,c,u)}(e,e=>{u(e.docs.map(e=>e.data()))});return()=>t()},[r]),(0,e.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[c]);const m=async()=>{a.trim()&&(await BT(p,{text:a,senderId:d,recipientId:i,participants:[d,i],timestamp:WT()}),l(""))};return(0,Ci.jsxs)("div",{className:"chatbox-container",children:[(0,Ci.jsxs)("div",{className:"chatbox-header",children:[(0,Ci.jsxs)("span",{className:"chat-title",children:["\ud83d\udcac Talking to: ",(0,Ci.jsx)("strong",{children:f})]}),(0,Ci.jsx)("button",{onClick:o,className:"chatbox-close-button",children:"\u2716"})]}),(0,Ci.jsxs)("div",{className:"chatbox-messages",children:[c.map((e,t)=>{var n;const r=e.senderId===d;return(0,Ci.jsx)("div",{className:"chatbox-message-row ".concat(r?"chatbox-message-sent":"chatbox-message-received"),children:(0,Ci.jsxs)("div",{className:"chatbox-message-bubble",children:[(0,Ci.jsx)("div",{className:"message-text",children:e.text}),(0,Ci.jsx)("div",{className:"chatbox-message-timestamp",children:null===(n=e.timestamp)||void 0===n?void 0:n.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},t)}),(0,Ci.jsx)("div",{ref:h})]}),(0,Ci.jsxs)("div",{className:"chatbox-input-area",children:[(0,Ci.jsx)("textarea",{value:a,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Type a message...",className:"chatbox-input",rows:1}),(0,Ci.jsx)("button",{onClick:m,className:"chatbox-send-button",title:"Send",children:"Send"})]})]})},WD={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let HD;const KD=new Uint8Array(16);const GD=[];for(let n=0;n<256;++n)GD.push((n+256).toString(16).slice(1));function ZD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(GD[e[t+0]]+GD[e[t+1]]+GD[e[t+2]]+GD[e[t+3]]+"-"+GD[e[t+4]]+GD[e[t+5]]+"-"+GD[e[t+6]]+GD[e[t+7]]+"-"+GD[e[t+8]]+GD[e[t+9]]+"-"+GD[e[t+10]]+GD[e[t+11]]+GD[e[t+12]]+GD[e[t+13]]+GD[e[t+14]]+GD[e[t+15]]).toLowerCase()}function QD(e,t,n){var r,i,o,s;const a=null!==(r=null!==(i=(e=e||{}).random)&&void 0!==i?i:null===(o=(s=e).rng)||void 0===o?void 0:o.call(s))&&void 0!==r?r:function(){if(!HD){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");HD=crypto.getRandomValues.bind(crypto)}return HD(KD)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=a[e];return t}return ZD(a)}const YD=function(e,t,n){return!WD.randomUUID||t||e?QD(e,t,n):WD.randomUUID()};async function XD(e,t){try{const n=UC(MD,"bookings",e);await UT(n,{status:t}),console.log("\u2705 Booking ".concat(e," updated to status: ").concat(t))}catch(fA){console.error("\u274c Error updating booking status:",fA)}}const JD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cleaner";return m().divIcon({className:"custom-div-icon",html:'\n      <div class="marker-pin '.concat(t,'"></div>\n      <div class="icon-wrapper">\n        <img src="').concat(e,'" class="icon-image" alt="').concat(t,'" />\n      </div>\n    '),iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]})},$D=JD("https://img.icons8.com/ios-filled/50/000000/navigation.png","you");function ez(t){let{coords:n,trigger:r}=t;const i=h();return(0,e.useEffect)(()=>{n&&i.setView(n,i.getZoom(),{animate:!0})},[r]),null}delete m().Icon.Default.prototype._getIconUrl,m().Icon.Default.mergeOptions({iconRetinaUrl:n(249),iconUrl:n(24),shadowUrl:n(71)});const tz=[{id:"cleaner_1",lat:-1.29,lng:36.82},{id:"cleaner_2",lat:-1.3,lng:36.83},{id:"cleaner_3",lat:-1.31,lng:36.84}];const nz=function(){const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(""),[o,s]=(0,e.useState)(null),[a,c]=(0,e.useState)(null),[u,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(!0),[g,v]=(0,e.useState)(!1),[_,b]=(0,e.useState)(!1),[w,S]=(0,e.useState)(null),[x,k]=(0,e.useState)({}),C=(0,e.useRef)(null),[T,I]=(0,e.useState)(null),[P,L]=(0,e.useState)(null),[O,M]=(0,e.useState)(null),[D,z]=(0,e.useState)(!0),[F,j]=(0,e.useState)(!1),[U,B]=(0,e.useState)(null),[V,q]=(0,e.useState)(null),[W,H]=(0,e.useState)(!1),[K,G]=(0,e.useState)(0),[Z,Q]=(0,e.useState)(null),[Y,X]=(0,e.useState)(null),[J,$]=(0,e.useState)(null),[ee,te]=(0,e.useState)({}),[ne,re]=(0,e.useState)(null),[ie,oe]=(0,e.useState)(!1),[se,ae]=(0,e.useState)(null),[le,ce]=(0,e.useState)(""),[ue,he]=(0,e.useState)(null),[de,fe]=(0,e.useState)(!1),[pe,me]=(0,e.useState)(null),[ge,ve]=(0,e.useState)(0),[ye,_e]=(0,e.useState)(""),[be,we]=(0,e.useState)(null),Se=(0,e.useRef)(!0);(0,e.useEffect)(()=>()=>{Se.current=!1},[]),(0,e.useEffect)(()=>{(async function(e){var t;const n=tI(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new II({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await EI(n,{returnSecureToken:!0}),i=await II._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i})(DD).catch(e=>{console.error("Anonymous sign-in failed",e)});const e=function(e,t,n,r){return Wd(e).onAuthStateChanged(t,n,r)}(DD,e=>{e&&n(e)});return()=>e()},[]),(0,e.useEffect)(()=>{let e=localStorage.getItem("deviceId");e||(e=YD(),localStorage.setItem("deviceId",e)),c(e)},[]);const xe=async e=>{i(e),m(!1);let n=localStorage.getItem("deviceId")||YD();n.startsWith(e)||(n="".concat(e,"_").concat(n),localStorage.setItem("deviceId",n));const r="".concat(n,"_").concat(YD().slice(0,6));if(c(n),s(r),b(!0),null!==t&&void 0!==t&&t.uid){const e=await UD(t.uid);e?(f(e),h(e.name||"")):f(null)}console.log("Role selected",e,"session",r)};(0,e.useEffect)(()=>{if(!_)return void(C.current&&(navigator.geolocation.clearWatch(C.current),C.current=null));if(!("geolocation"in navigator))return void alert("Geolocation is not available in this browser");return C.current=navigator.geolocation.watchPosition(e=>{const n={lat:e.coords.latitude,lng:e.coords.longitude};if(S(n),o&&"viewer"!==r){const e=o.replace(/\./g,"_");lM(oM(OD,"locations/".concat(e)),{sessionId:e,deviceId:a,uid:(null===t||void 0===t?void 0:t.uid)||null,role:r,name:u||"Anonymous",lat:n.lat,lng:n.lng,isAvailable:D,timestamp:Date.now()}).catch(e=>console.error("Failed save location",e))}},e=>console.error("geo error",e),{enableHighAccuracy:!0}),()=>{C.current&&(navigator.geolocation.clearWatch(C.current),C.current=null)}},[_,o,r,a,u,D,null===t||void 0===t?void 0:t.uid]),(0,e.useEffect)(()=>{const e=dM(oM(OD,"locations"),e=>{const t=e.val()||{};k(t)});return()=>e()},[]);const ke=Object.entries(x).filter(e=>{let[n,i]=e;if(!i||!i.lat||!i.lng||!i.role)return!1;if(i.sessionId===o||i.uid===(null===t||void 0===t?void 0:t.uid))return!0;if("customer"===r)return"cleaner"===i.role&&(P&&P.cleanerUid?i.uid===P.cleanerUid||i.sessionId===P.cleanerUid:!1!==i.isAvailable);if("cleaner"===r){const e=(null===T||void 0===T?void 0:T.from)||(null===O||void 0===O?void 0:O.customerUid)||null;return!!e&&(i.uid===e||i.sessionId===e)}return"viewer"===r}),Ce=(0,e.useCallback)(async e=>{if(null===t||void 0===t||!t.uid)return alert("Not signed in");if("customer"!==r)return alert("Only customers can request cleaners");const n=await UD(t.uid);if(!n||!n.name)return v(!0),alert("Please create your profile (name) before requesting a cleaner.");try{const r="requests/".concat(e);await lM(oM(OD,r),{from:t.uid,to:e,customerName:n.name,status:"pending",timestamp:Date.now()}),B(e),L({cleanerUid:e,status:"pending"}),we({title:"Request sent",body:"Waiting for cleaner response",type:"info"})}catch(i){console.error("requestCleaner error",i),alert("Failed to send request")}},[t,r]);(0,e.useEffect)(()=>{if(null===t||void 0===t||!t.uid||"customer"!==r)return;const e=dM(oM(OD,"requests"),e=>{const n=e.val()||{},r=Object.entries(n).filter(e=>{let[,n]=e;return n.from===t.uid});if(!r.length)return void L(null);const[,i]=r[r.length-1];return L({cleanerUid:i.to||i.cleanerUid,status:i.status}),"accepted"===i.status&&(we({title:"Cleaner Accepted",body:"Cleaner is on the way",type:"success"}),B(i.to||i.cleanerUid||U)),"rejected"===i.status&&(we({title:"Cleaner Rejected",body:"Try another cleaner",type:"error"}),L(null)),"waiting_for_payment"===i.status&&(we({title:"Job Finished",body:"Please complete payment",type:"info"}),i.bookingId&&ae(i.bookingId),oe(!0)),"paid"===i.status||"closed"===i.status?(we({title:"Payment received",body:"Thank you \u2014 job complete",type:"success"}),L(null),I(null),B(null),void q(null)):void 0});return()=>e()},[null===t||void 0===t?void 0:t.uid,r]),(0,e.useEffect)(()=>{if(null===t||void 0===t||!t.uid||"cleaner"!==r)return;const e=dM(oM(OD,"requests/".concat(t.uid)),e=>{const t=e.val();t?"pending"===t.status?I(t):"accepted"===t.status?I(null):"cancelled"===t.status||"rejected"===t.status?((null===O||void 0===O?void 0:O.customerUid)===t.from&&(M(null),z(!0)),I(null)):"paid"===t.status||"closed"===t.status?(M(null),I(null),H(!1),z(!0),we({title:"Job paid",body:"You are back online",type:"success"})):"completed"===t.status||t.status:I(null)});return()=>e()},[null===t||void 0===t?void 0:t.uid,r,O]);const Te=()=>{if(null===O||void 0===O||!O.customerUid)return alert("No active job customer set");const e=Object.entries(x).find(e=>{let[,t]=e;return t.uid===O.customerUid});if(e){const[,t]=e;Q({lat:t.lat,lng:t.lng}),G(e=>e+1)}else alert("Customer location not found")};function Ee(e){if(e.uid===(null===t||void 0===t?void 0:t.uid)||e.sessionId===o)return(0,Ci.jsx)("div",{children:(0,Ci.jsx)("strong",{children:"You (this device)"})});if("customer"===r&&"cleaner"===e.role){const t=P&&(P.cleanerUid===e.uid||P.cleanerUid===e.sessionId);return(0,Ci.jsxs)("div",{children:[(0,Ci.jsx)("strong",{children:"Cleaner"}),(0,Ci.jsx)("div",{children:e.name||"Cleaner"}),(0,Ci.jsx)("div",{style:{marginTop:8},children:(0,Ci.jsx)("button",{className:"btn btn-primary",onClick:()=>Ce(e.uid||e.sessionId),disabled:t,children:t?"Request Sent":"Request"})})]})}return"cleaner"===r&&"customer"===e.role?(0,Ci.jsxs)("div",{children:[(0,Ci.jsx)("strong",{children:"Customer"}),(0,Ci.jsx)("div",{children:e.name||"Customer"}),(0,Ci.jsx)("div",{style:{marginTop:8},children:(0,Ci.jsx)("button",{className:"btn btn-success",onClick:()=>{I(null),alert("Tap Accept in the incoming request panel to accept this customer (server-synced).")},children:"View Request"})})]}):(0,Ci.jsx)("div",{children:(0,Ci.jsx)("strong",{children:e.role})})}return(0,Ci.jsxs)("div",{className:"App min-h-screen bg-black-50 p-4",children:[(0,Ci.jsxs)("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,Ci.jsxs)("div",{className:"col-span-1 space-y-4",children:[(0,Ci.jsxs)("div",{className:"p-4 bg-white rounded shadow",children:[(0,Ci.jsx)("h2",{className:"text-lg font-semibold",children:"Session"}),!r&&p&&(0,Ci.jsxs)("div",{className:"mt-4",children:[(0,Ci.jsx)("p",{className:"mb-2",children:"Who are you?"}),(0,Ci.jsxs)("div",{className:"flex gap-2",children:[(0,Ci.jsx)("button",{className:"px-3 py-2 bg-gray-200 rounded",onClick:()=>xe("viewer"),children:"Viewer"}),(0,Ci.jsx)("button",{className:"px-3 py-2 bg-green-500 text-white rounded",onClick:()=>xe("cleaner"),children:"Cleaner"}),(0,Ci.jsx)("button",{className:"px-3 py-2 bg-blue-500 text-white rounded",onClick:()=>xe("customer"),children:"Customer"})]})]}),(0,Ci.jsxs)("div",{className:"mt-4",children:[(0,Ci.jsx)("button",{className:"px-3 py-2 bg-indigo-600 text-white rounded",onClick:async()=>{_?(o&&await aM(oM(OD,"locations/".concat(o))).catch(()=>{}),b(!1),z(!1)):(b(!0),z(!0))},children:_?"Stop Sharing":"Start Sharing"}),(0,Ci.jsx)("button",{className:"ml-2 px-3 py-2 bg-white border rounded",onClick:()=>v(!0),children:"Profile"})]}),(0,Ci.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,Ci.jsxs)("div",{children:["Role: ",(0,Ci.jsx)("strong",{children:r||"\u2014"})]}),(0,Ci.jsxs)("div",{children:["Device: ",a]}),(0,Ci.jsxs)("div",{children:["Session: ",o?o.slice(0,20):"\u2014"]}),(0,Ci.jsxs)("div",{children:["Availability: ",(0,Ci.jsx)("strong",{children:"cleaner"===r?O?"On Job":D?"Online":"Offline":"customer"===r?_?"Online":"Offline":"-"})]})]})]}),(0,Ci.jsxs)("div",{className:"p-4 bg-white rounded shadow space-y-2",children:[(0,Ci.jsx)("h3",{className:"font-semibold",children:"Notifications"}),be&&(0,Ci.jsxs)("div",{className:"p-3 rounded ".concat("error"===be.type?"bg-red-50":"success"===be.type?"bg-green-50":"bg-blue-50"),children:[(0,Ci.jsx)("strong",{children:be.title}),(0,Ci.jsx)("div",{children:be.body}),(0,Ci.jsx)("div",{className:"mt-2",children:(0,Ci.jsx)("button",{onClick:()=>we(null),className:"px-2 py-1 bg-gray-200 rounded",children:"Dismiss"})})]}),J&&(0,Ci.jsxs)("div",{className:"p-2 bg-yellow-50 rounded",children:[(0,Ci.jsxs)("div",{children:[(0,Ci.jsx)("strong",{children:"Message:"})," ",J.text]}),(0,Ci.jsx)("div",{className:"mt-2",children:(0,Ci.jsx)("button",{onClick:()=>{re(J.senderId),$(null)},className:"px-2 py-1 bg-gray-200 rounded",children:"Open Chat"})})]}),O?(0,Ci.jsxs)("div",{className:"p-2 border rounded",children:[(0,Ci.jsx)("div",{className:"font-semibold",children:"Job active"}),(0,Ci.jsxs)("div",{children:["Customer: ",O.customerUid]}),(0,Ci.jsxs)("div",{children:["Booking: ",O.bookingId]}),(0,Ci.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,Ci.jsx)("button",{className:"px-2 py-1 bg-blue-500 text-white rounded",onClick:Te,disabled:F,children:"Track Customer"}),(0,Ci.jsx)("button",{className:"px-2 py-1 bg-green-500 text-white rounded",onClick:async()=>{if(null===O||void 0===O||!O.bookingId||null===O||void 0===O||!O.customerUid)return alert("No active job to finish");j(!0);try{if(await XD(O.bookingId,"completed"),null!==O&&void 0!==O&&O.cleanerUid){const e="requests/".concat(O.cleanerUid);await lM(oM(OD,e),{from:O.customerUid,to:O.cleanerUid,status:"waiting_for_payment",bookingId:O.bookingId,timestamp:Date.now()})}M(e=>e?l(l({},e),{},{status:"completed"}):e),j(!1),we({title:"Job finished",body:"Waiting for customer to pay",type:"info"})}catch(e){console.error("finishJob error",e),j(!1),alert("Failed to finish job")}},disabled:F,children:"Finish Job"}),(0,Ci.jsx)("button",{className:"px-2 py-1 bg-red-500 text-white rounded",onClick:()=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancelled_by_cleaner";if(!O)return alert("No active job");j(!0);try{var n,i;O.cleanerUid&&await lM(oM(OD,"requests/".concat(O.cleanerUid)),{from:O.customerUid,status:"cancelled",reason:e,timestamp:Date.now()}),O.bookingId&&await XD(O.bookingId,"cancelled"),o&&await lM(oM(OD,"locations/".concat(o)),{sessionId:o,deviceId:a,uid:t.uid,role:r,name:u||"Cleaner",lat:null!==(n=null===w||void 0===w?void 0:w.lat)&&void 0!==n?n:null,lng:null!==(i=null===w||void 0===w?void 0:w.lng)&&void 0!==i?i:null,isAvailable:!0,timestamp:Date.now()}),z(!0),M(null),j(!1)}catch(s){console.error("cancelActiveJob",s),j(!1),alert("Failed to cancel job")}}("cancelled_by_cleaner"),disabled:F,children:"Cancel"})]})]}):T?(0,Ci.jsxs)("div",{className:"p-2 border rounded",children:[(0,Ci.jsx)("div",{className:"font-semibold",children:"Incoming Request"}),(0,Ci.jsxs)("div",{children:["From: ",T.from]}),(0,Ci.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,Ci.jsx)("button",{className:"px-2 py-1 bg-blue-500 text-white rounded",onClick:Te,children:"Track"}),(0,Ci.jsx)("button",{className:"px-2 py-1 bg-green-500 text-white rounded",onClick:async()=>{if(!T||null===t||void 0===t||!t.uid)return alert("No incoming request");j(!0);try{var e,n;const c="requests/".concat(t.uid),h=l(l({},T),{},{status:"accepted",acceptedAt:Date.now(),cleanerUid:t.uid});var i,s;if(await lM(oM(OD,c),h),B(t.uid),o)await lM(oM(OD,"locations/".concat(o)),{sessionId:o,deviceId:a,uid:t.uid,role:r,name:u||"Cleaner",lat:null!==(i=null===w||void 0===w?void 0:w.lat)&&void 0!==i?i:null,lng:null!==(s=null===w||void 0===w?void 0:w.lng)&&void 0!==s?s:null,isAvailable:!1,timestamp:Date.now()});z(!1);const d=T.from,f=await async function(e){try{const t=await BT(jC(MD,"bookings"),{customerId:e.customerId,cleanerId:e.cleanerId,serviceType:e.serviceType,location:e.location,price:e.price,status:"pending",createdAt:WT(),bookingId:""});return await UT(t,{bookingId:t.id}),console.log("\u2705 Booking created with ID:",t.id),t.id}catch(fA){console.error("\u274c Error creating booking:",fA)}}({customerId:d,cleanerId:t.uid,serviceType:"standard",location:{lat:null!==(e=null===w||void 0===w?void 0:w.lat)&&void 0!==e?e:null,lng:null!==(n=null===w||void 0===w?void 0:w.lng)&&void 0!==n?n:null},price:0});await lM(oM(OD,c),l(l({},h),{},{bookingId:f})),M({cleanerUid:t.uid,customerUid:d,bookingId:f,status:"accepted",startedAt:Date.now()}),q(f),I(null),j(!1),we({title:"Accepted",body:"You accepted the job. Tracking enabled.",type:"success"});const p=Object.entries(x).find(e=>{let[,t]=e;return t.uid===d});if(p){const[,e]=p;X({lat:e.lat,lng:e.lng}),Q({lat:e.lat,lng:e.lng}),G(e=>e+1)}}catch(c){console.error("acceptRequest failed",c),j(!1),alert("Failed to accept request (see console)")}},disabled:F,children:F?"Accepting...":"Accept"}),(0,Ci.jsx)("button",{className:"px-2 py-1 bg-red-500 text-white rounded",onClick:async()=>{await lM(oM(OD,"requests/".concat(t.uid)),l(l({},T),{},{status:"rejected"})),I(null)},disabled:F,children:"Reject"})]})]}):null,P&&"customer"===r&&"paid"!==P.status&&(0,Ci.jsxs)("div",{className:"p-2 border rounded",children:[(0,Ci.jsxs)("div",{children:[(0,Ci.jsx)("strong",{children:"Your request is:"})," ",P.status]}),(0,Ci.jsx)("div",{className:"mt-2",children:(0,Ci.jsx)("button",{className:"px-2 py-1 bg-red-500 text-white rounded",onClick:async()=>{if(null===P||void 0===P||!P.cleanerUid)return alert("No active request");try{const e=P.cleanerUid;await lM(oM(OD,"requests/".concat(e)),{from:t.uid,status:"cancelled",timestamp:Date.now()}),L(null),B(null),we({title:"Cancelled",body:"Your request was cancelled",type:"error"})}catch(e){console.error("cancelCustomerRequest",e),alert("Failed to cancel request")}},children:"Cancel Request"})})]})]}),(0,Ci.jsxs)("div",{className:"p-4 bg-white rounded shadow",children:[(0,Ci.jsx)("h3",{className:"font-semibold",children:"Chats"}),Object.keys(ee).length>0?(0,Ci.jsxs)("div",{children:[(0,Ci.jsxs)("p",{children:["You have ",Object.keys(ee).length," unread conversation(s)"]}),(0,Ci.jsx)("button",{className:"px-2 py-1 bg-indigo-600 text-white rounded",onClick:()=>{const e=Object.keys(ee)[0];re(e),te(t=>{const n=l({},t);return delete n[e],n})},children:"Open"})]}):(0,Ci.jsx)("p",{children:"No unread messages"})]})]}),(0,Ci.jsx)("div",{className:"col-span-2 lg:col-span-2",children:(0,Ci.jsxs)("div",{className:"bg-white rounded shadow p-2",children:[(0,Ci.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Map"}),(0,Ci.jsx)("div",{style:{height:"60vh"},className:"rounded overflow-hidden",children:(0,Ci.jsxs)(y,{center:[0,0],zoom:2,className:"h-full w-full",children:[(Z||w)&&(0,Ci.jsx)(ez,{coords:Z||w,trigger:K}),(0,Ci.jsx)(E,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),w&&Y&&O&&(0,Ci.jsx)(R,{from:w,to:Y}),w&&Z&&(0,Ci.jsx)(R,{from:w,to:Z}),w&&(0,Ci.jsx)(A,{position:[w.lat,w.lng],icon:$D,children:(0,Ci.jsx)(N,{children:"You (this device)"})}),tz.map(e=>(0,Ci.jsx)(A,{position:[e.lat,e.lng],icon:JD("https://img.icons8.com/ios-filled/50/000000/broom.png","cleaner"),children:(0,Ci.jsx)(N,{children:(0,Ci.jsxs)("div",{children:[(0,Ci.jsxs)("strong",{children:["Demo Cleaner: ",e.id]}),(0,Ci.jsx)("div",{className:"mt-2",children:(0,Ci.jsx)("button",{className:"px-2 py-1 bg-blue-500 text-white rounded",onClick:()=>{Q({lat:e.lat,lng:e.lng}),G(e=>e+1)},children:"Track This Cleaner"})})]})})},e.id)),ke.map(e=>{let[n,r]=e;r.sessionId===o||(r.uid,null===t||void 0===t||t.uid);return(0,Ci.jsx)(A,{position:[r.lat,r.lng],icon:JD("cleaner"===r.role?"https://img.icons8.com/ios-filled/50/000000/broom.png":"https://img.icons8.com/ios-filled/50/000000/user.png",r.role),children:(0,Ci.jsx)(N,{children:Ee(r)})},n)})]})})]})})]}),g&&(0,Ci.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-[9999]",children:(0,Ci.jsxs)("div",{className:"bg-white p-4 rounded shadow w-full max-w-lg z-[10000]",children:[(0,Ci.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Ci.jsx)("h3",{className:"font-semibold",children:"Profile"}),(0,Ci.jsx)("button",{onClick:()=>v(!1),className:"px-2 py-1",children:"Close"})]}),(0,Ci.jsx)(VD,{user:t,role:r,onClose:()=>v(!1)})]})}),ie&&(0,Ci.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-[9999]",children:(0,Ci.jsxs)("div",{className:"bg-white p-4 rounded shadow w-full max-w-md relative z-[10000]",children:[(0,Ci.jsx)("h3",{className:"font-semibold",children:"Payment (Demo)"}),(0,Ci.jsx)("p",{className:"text-sm text-gray-600",children:"Enter the amount to pay the cleaner. (Demo mode \u2014 no gateway)"}),(0,Ci.jsxs)("div",{className:"mt-3",children:[(0,Ci.jsx)("label",{className:"block text-sm",children:"Amount"}),(0,Ci.jsx)("input",{type:"text",value:le,onChange:e=>ce(e.target.value),className:"w-full border p-2 rounded",placeholder:"e.g. 500"})]}),(0,Ci.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,Ci.jsx)("button",{className:"px-3 py-2 bg-green-600 text-white rounded",onClick:async()=>{if(le&&!F){j(!0);try{const n=(null===O||void 0===O?void 0:O.bookingId)||se;n&&await UT(UC(MD,"bookings",n),{status:"paid",paidAmount:le,paidAt:WT()}),U&&null!==O&&void 0!==O&&O.customerUid?await lM(oM(OD,"requests/".concat(U)),{from:O.customerUid,status:"paid",amount:le,bookingId:n,timestamp:Date.now()}):null!==P&&void 0!==P&&P.cleanerUid&&await lM(oM(OD,"requests/".concat(P.cleanerUid)),{from:t.uid,status:"paid",amount:le,bookingId:n,timestamp:Date.now()});const r={id:Math.random().toString(36).substring(2,10),amount:le,date:(new Date).toISOString()};he(r);let i=U||(null===P||void 0===P?void 0:P.cleanerUid)||(null===O||void 0===O?void 0:O.cleanerUid);if(!i&&n)try{const e=await FT(UC(MD,"bookings",n));if(e.exists()){const t=e.data();i=(null===t||void 0===t?void 0:t.cleanerId)||(null===t||void 0===t?void 0:t.cleanerUid)||i}}catch(e){console.warn("Failed to read booking to get cleanerId",e)}me({bookingId:n,cleanerId:i||null}),oe(!1),fe(!0),L(null),q(n||null),B(null)}catch(n){console.error("\u274c submitPayment() error:",n),alert("Payment failed. Check console.")}finally{j(!1)}}},disabled:F,children:F?"Processing...":"Submit Payment"}),(0,Ci.jsx)("button",{className:"px-3 py-2 bg-gray-200 rounded",onClick:()=>oe(!1),disabled:F,children:"Cancel"})]}),ue&&(0,Ci.jsxs)("div",{className:"mt-3 p-2 border rounded",children:[(0,Ci.jsxs)("div",{children:[(0,Ci.jsx)("strong",{children:"Receipt ID:"})," ",ue.id]}),(0,Ci.jsxs)("div",{children:[(0,Ci.jsx)("strong",{children:"Amount:"})," ",ue.amount]}),(0,Ci.jsx)("div",{className:"mt-2 flex gap-2",children:(0,Ci.jsx)("button",{className:"px-3 py-2 bg-indigo-600 text-white rounded",onClick:()=>{const e=pe&&pe.cleanerId||(null===O||void 0===O?void 0:O.cleanerUid)||(null===P||void 0===P?void 0:P.cleanerUid)||"Cleaner",t=u||"Customer";((e,t,n,r)=>{if(!e)return alert("No receipt to print");const i="\n      <html>\n      <head>\n        <title>Receipt ".concat(e.id,'</title>\n        <style>\n          body { font-family: Arial, sans-serif; padding: 20px; color: #111; }\n          .receipt { max-width: 480px; margin: 0 auto; border: 1px solid #ddd; padding: 18px; border-radius: 6px; }\n          .brand { text-align: center; margin-bottom: 12px; }\n          h1 { margin: 0; font-size: 20px; }\n          .meta { font-size: 12px; color: #555; margin-bottom: 12px; }\n          .line { display:flex; justify-content:space-between; margin:8px 0; }\n          .total { font-weight:700; font-size:18px; }\n          .paid { display:inline-block; background:#16a34a;color:#fff;padding:4px 8px;border-radius:4px;font-weight:700;margin-top:10px;}\n        </style>\n      </head>\n      <body>\n        <div class="receipt">\n          <div class="brand">\n            <h1>Cleaning Service Receipt</h1>\n            <div class="meta">Booking: ').concat(t||"\u2014"," | Receipt: ").concat(e.id,"</div>\n          </div>\n          <div><strong>Cleaner:</strong> ").concat(n||"\u2014","</div>\n          <div><strong>Customer:</strong> ").concat(r||"\u2014",'</div>\n          <hr />\n          <div class="line"><div>Service</div><div>Amount</div></div>\n          <div class="line"><div>Cleaning (demo)</div><div>').concat(e.amount,'</div></div>\n          <hr />\n          <div class="line total"><div>Total</div><div>').concat(e.amount,'</div></div>\n          <div style="text-align:center;">\n            <span class="paid">PAID</span>\n            <div style="margin-top:10px;font-size:12px;color:#666">').concat(new Date(e.date).toLocaleString(),"</div>\n          </div>\n        </div>\n      </body>\n      </html>\n    "),o=window.open("","_blank");if(!o)return alert("Popup blocked. Allow popups to print receipts.");o.document.open(),o.document.write(i),o.document.close(),setTimeout(()=>{o.print()},300)})(ue,se||(null===O||void 0===O?void 0:O.bookingId)||V,e,t)},children:"Print Receipt"})})]})]})}),de&&pe&&(0,Ci.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-[9999]",children:(0,Ci.jsxs)("div",{className:"bg-white p-4 rounded shadow w-full max-w-md z-[10000]",children:[(0,Ci.jsx)("h3",{className:"font-semibold",children:"Rate your Cleaner"}),(0,Ci.jsx)("p",{className:"text-sm text-gray-600",children:"Rate 1 (worst) - 5 (best)"}),(0,Ci.jsx)("div",{className:"mt-3 flex gap-2",children:[1,2,3,4,5].map(e=>(0,Ci.jsxs)("button",{className:"px-3 py-2 bg-yellow-300 rounded",onClick:()=>{!async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;if(F||!e)return;const i=(null===pe||void 0===pe?void 0:pe.bookingId)||(null===O||void 0===O?void 0:O.bookingId)||se;let s=(null===pe||void 0===pe?void 0:pe.cleanerId)||(null===O||void 0===O?void 0:O.cleanerUid)||U;if(!s&&i)try{const e=await FT(UC(MD,"bookings",i));if(e.exists()){const t=e.data();s=(null===t||void 0===t?void 0:t.cleanerId)||(null===t||void 0===t?void 0:t.cleanerUid)||s}}catch(h){console.warn("Failed to load booking to resolve cleanerId",h)}if(!i||!s)return console.error("Rating aborted: missing bookingId or cleanerId",{bookingId:i,cleanerId:s,ratingBookingContext:pe,activeJob:O,currentRequestKey:U}),void alert("Cannot submit rating: missing booking or cleaner information.");j(!0);try{await BT(jC(MD,"ratings"),{bookingId:i,cleanerUid:s,customerUid:null===t||void 0===t?void 0:t.uid,rating:e,comment:n||"",createdAt:WT()}),await UT(UC(MD,"bookings",i),{status:"closed",closedAt:WT()});try{await aM(oM(OD,"requests/".concat(s)))}catch(h){}try{U&&await aM(oM(OD,"requests/".concat(U)))}catch(h){}var l,c;o&&"cleaner"===r&&await lM(oM(OD,"locations/".concat(o)),{sessionId:o,deviceId:a,uid:null===t||void 0===t?void 0:t.uid,role:r,name:u||"Cleaner",lat:null!==(l=null===w||void 0===w?void 0:w.lat)&&void 0!==l?l:null,lng:null!==(c=null===w||void 0===w?void 0:w.lng)&&void 0!==c?c:null,isAvailable:!0,timestamp:Date.now()}),M(null),q(null),B(null),fe(!1),me(null),L(null),I(null),he(null),ve(0),_e(""),H(!1),z(!0),we({title:"Done",body:"Rating submitted and job closed",type:"success"})}catch(d){console.error("\u274c submitRating() error:",d),alert("Failed to submit rating. Check console.")}finally{j(!1)}}(e,"")},children:[e,"\u2605"]},e))}),(0,Ci.jsx)("div",{className:"mt-3",children:(0,Ci.jsx)("button",{className:"px-3 py-2 bg-gray-200 rounded",onClick:()=>fe(!1),children:"Close"})})]})}),ne&&(null===t||void 0===t?void 0:t.uid)&&(0,Ci.jsx)(qD,{conversationId:[t.uid,ne].sort().join("_"),recipientId:ne,onClose:()=>re(null)})]})};r.createRoot(document.getElementById("root")).render((0,Ci.jsx)(e.StrictMode,{children:(0,Ci.jsx)(nz,{})}))})()})();
//# sourceMappingURL=main.718fabe7.js.map